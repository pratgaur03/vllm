INFO 07-08 03:02:26 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=45.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-45-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.862764796242118, output_tokens=256, ttft=0.07936314912512898, itl=[3.773719072341919e-05, 0.014166726730763912, 0.014534648042172194, 0.014761399012058973, 0.01472742622718215, 0.01477638864889741, 0.01475038519129157, 0.014755295123904943, 0.014708804897964, 0.014708032831549644, 0.01464747916907072, 0.014760601799935102, 0.014757703058421612, 0.014727488160133362, 0.014714302960783243, 0.014745200052857399, 0.014640299137681723, 0.01475998805835843, 0.014822512865066528, 0.014804137870669365, 0.014785441104322672, 0.014784461818635464, 0.014708444010466337, 0.01481979712843895, 0.014758508186787367, 0.014727974776178598, 0.014756166841834784, 0.014856681227684021, 0.014718750957399607, 0.01477383216843009, 0.014770842622965574, 0.014864553231745958, 0.014734372030943632, 0.014821754768490791, 0.014772195369005203, 0.01476364303380251, 0.014705906622111797, 0.014774804003536701, 0.014817086979746819, 0.01483312202617526, 0.014727185945957899, 0.014817256014794111, 0.014766460284590721, 0.014884430915117264, 0.014815934002399445, 0.014777150936424732, 0.01488044997677207, 0.014793307054787874, 0.014838915783911943, 0.014797026291489601, 0.014795260038226843, 0.014767980668693781, 0.014895939268171787, 0.014808062929660082, 0.014751443173736334, 0.014842127915471792, 0.014716091100126505, 0.01486788596957922, 0.014950328972190619, 0.014707347843796015, 0.014832768123596907, 0.014858626760542393, 0.014794682152569294, 0.01482918905094266, 0.014814166817814112, 0.01485265837982297, 0.014784400817006826, 0.014896971173584461, 0.014855158980935812, 0.014874739572405815, 0.014775596093386412, 0.014891960192471743, 0.01478750491514802, 0.014798540156334639, 0.014766884967684746, 0.014828674960881472, 0.014804706908762455, 0.014839989133179188, 0.01485506072640419, 0.014858158305287361, 0.014804786071181297, 0.0147770787589252, 0.01480912184342742, 0.014872899278998375, 0.014800772070884705, 0.01497313380241394, 0.01471233507618308, 0.014768016990274191, 0.014872563071548939, 0.014819150790572166, 0.014796084258705378, 0.014910040888935328, 0.014822773169726133, 0.014782620593905449, 0.01485762419179082, 0.014785706996917725, 0.0148350540548563, 0.014891183003783226, 0.014835351146757603, 0.014851872809231281, 0.014848247170448303, 0.014829727821052074, 0.014822856057435274, 0.014828394167125225, 0.014860734809190035, 0.014887865167111158, 0.01484430069103837, 0.014762047212570906, 0.014785773120820522, 0.014811140950769186, 0.014878356829285622, 0.014764707069844007, 0.014935750048607588, 0.014761849772185087, 0.014824075158685446, 0.01484502712264657, 0.01479982677847147, 0.014812025241553783, 0.014917393680661917, 0.014848215971142054, 0.014845346100628376, 0.014857207890599966, 0.014832538086920977, 0.014764088205993176, 0.01490634586662054, 0.01485772617161274, 0.014960238710045815, 0.014819539152085781, 0.014903063885867596, 0.014902575872838497, 0.014936051331460476, 0.014845654834061861, 0.014804678969085217, 0.014861094299703836, 0.0148549466393888, 0.014772806316614151, 0.0148952710442245, 0.014876738656312227, 0.014756324235349894, 0.01499583711847663, 0.014719179831445217, 0.014818669762462378, 0.014835911337286234, 0.014818388968706131, 0.014877547044306993, 0.014892561826854944, 0.0148219452239573, 0.014841184951364994, 0.014781126752495766, 0.014885514974594116, 0.01481357030570507, 0.01485813595354557, 0.014916392974555492, 0.014931524638086557, 0.014832692220807076, 0.014849192928522825, 0.014830319210886955, 0.014854328706860542, 0.014901717193424702, 0.014828803949058056, 0.014883683994412422, 0.014902920927852392, 0.014869729988276958, 0.014820565935224295, 0.014824324287474155, 0.014856044668704271, 0.015047095250338316, 0.014765549916774035, 0.01484740898013115, 0.014858289156109095, 0.014863920863717794, 0.014882382936775684, 0.01480745617300272, 0.014888118021190166, 0.014804065693169832, 0.014876613393425941, 0.014834241010248661, 0.014857301954180002, 0.014991568867117167, 0.014847882091999054, 0.014854163862764835, 0.014944817870855331, 0.014828095212578773, 0.015390495769679546, 0.014769368339329958, 0.014882329851388931, 0.014823975041508675, 0.014956917148083448, 0.014778479933738708, 0.014888251665979624, 0.014955217018723488, 0.014761611353605986, 0.014872390776872635, 0.015073807910084724, 0.014660912100225687, 0.014859427232295275, 0.014876826666295528, 0.01481088437139988, 0.014909971971064806, 0.014849109575152397, 0.014941600151360035, 0.014865008182823658, 0.01483425684273243, 0.014834550209343433, 0.014965139795094728, 0.014904094859957695, 0.014802300371229649, 0.01493849279358983, 0.01482872199267149, 0.014811418950557709, 0.014863383024930954, 0.014967101160436869, 0.014869548846036196, 0.014836920890957117, 0.014987331349402666, 0.014746451750397682, 0.01486673392355442, 0.014916498214006424, 0.01480164984241128, 0.014933564234524965, 0.014820985961705446, 0.014927383046597242, 0.014906986616551876, 0.014891953207552433, 0.014821079093962908, 0.014946255832910538, 0.01488679088652134, 0.014855283312499523, 0.01481093605980277, 0.014904456678777933, 0.014821225311607122, 0.014885760843753815, 0.014950606040656567, 0.014821265824139118, 0.014941370114684105, 0.014842321164906025, 0.01489491481333971, 0.014883025083690882, 0.01485030772164464, 0.014852192252874374, 0.01489065820351243, 0.014911600854247808, 0.014915493782609701, 0.014836406335234642, 0.014869946986436844, 0.01490489300340414, 0.014880083967000246, 0.014905905816704035, 0.014814625959843397, 0.014835909008979797, 0.014926698990166187, 0.014808711130172014, 0.014835346024483442, 0.014874827116727829, 0.014896128792315722, 0.015119463205337524], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 45.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  43.28     
Total input tokens:                      131072    
Total generated tokens:                  239826    
Request throughput (req/s):              23.66     
Output token throughput (tok/s):         5540.72   
Total Token throughput (tok/s):          8568.88   
---------------Time to First Token----------------
Mean TTFT (ms):                          3639.92   
Median TTFT (ms):                        337.43    
P99 TTFT (ms):                           8765.75   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          72.58     
Median TPOT (ms):                        77.75     
P99 TPOT (ms):                           99.46     
---------------Inter-token Latency----------------
Mean ITL (ms):                           71.58     
Median ITL (ms):                         53.49     
P99 ITL (ms):                            143.23    
==================================================
