INFO 07-08 06:37:04 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=15.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-15-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.7950709760189056, output_tokens=256, ttft=0.10343756387010217, itl=[3.752298653125763e-05, 0.014519527088850737, 0.014350098092108965, 0.014393774792551994, 0.01438097096979618, 0.014462712220847607, 0.014417319092899561, 0.014392831828445196, 0.014450295828282833, 0.014430546201765537, 0.014461413025856018, 0.014385290909558535, 0.014362988993525505, 0.014401306863874197, 0.014655276201665401, 0.014196053147315979, 0.014401274733245373, 0.014461742248386145, 0.014412736054509878, 0.014385320711880922, 0.01440434018149972, 0.014707585796713829, 0.014175782911479473, 0.014396582264453173, 0.0143719338811934, 0.01438416400924325, 0.01433853106573224, 0.014483753126114607, 0.014706066809594631, 0.014222539030015469, 0.014439923223108053, 0.01454172795638442, 0.01441187970340252, 0.014455842319875956, 0.014477106742560863, 0.014506233856081963, 0.014368693344295025, 0.014407163951545954, 0.014466947875916958, 0.014456526841968298, 0.014470355119556189, 0.014465692918747663, 0.01452445425093174, 0.014391328673809767, 0.014427844434976578, 0.014430994633585215, 0.014420254155993462, 0.014414579141885042, 0.014510645996779203, 0.014542134944349527, 0.014413807075470686, 0.014468444045633078, 0.01443817699328065, 0.014576885849237442, 0.014352647121995687, 0.01454847864806652, 0.014513025060296059, 0.014403203967958689, 0.014524773228913546, 0.014429813716560602, 0.01441927533596754, 0.014556897804141045, 0.014368987176567316, 0.014559688046574593, 0.014458086807280779, 0.014504436869174242, 0.014515469316393137, 0.014365735929459333, 0.014442848041653633, 0.014671765733510256, 0.01456540497019887, 0.014404176268726587, 0.014466841705143452, 0.014465194195508957, 0.014390584081411362, 0.014434738084673882, 0.01444937102496624, 0.014578534755855799, 0.014453181996941566, 0.014487553853541613, 0.014455941040068865, 0.014412731397897005, 0.014498603995889425, 0.014433488715440035, 0.014553623273968697, 0.014438120648264885, 0.014478703029453754, 0.01447293208912015, 0.014388231094926596, 0.014531765133142471, 0.014385984744876623, 0.014607347082346678, 0.014391282107681036, 0.01450491277500987, 0.014432028867304325, 0.014431651216000319, 0.014430963899940252, 0.014502652920782566, 0.014591368380934, 0.014413750730454922, 0.014487910084426403, 0.014458205085247755, 0.01443149009719491, 0.014493385795503855, 0.01443930296227336, 0.01459369296208024, 0.014434265904128551, 0.014490121975541115, 0.014492361340671778, 0.014489518012851477, 0.014499432872980833, 0.0144913368858397, 0.014541232027113438, 0.01446469221264124, 0.01448511891067028, 0.014478784054517746, 0.014413476921617985, 0.014425280969589949, 0.014414163772016764, 0.0145476502366364, 0.014428392983973026, 0.01448760088533163, 0.01440148800611496, 0.014422158244997263, 0.014503629878163338, 0.014794638846069574, 0.014226685278117657, 0.014455722644925117, 0.014694297220557928, 0.014453961048275232, 0.014428302180022001, 0.014488440938293934, 0.014512261841446161, 0.014449088834226131, 0.01446486497297883, 0.014506039209663868, 0.014511176850646734, 0.014440895058214664, 0.014481624122709036, 0.014590221922844648, 0.014467073138803244, 0.014454084914177656, 0.014421694912016392, 0.014549279119819403, 0.014405251946300268, 0.014531310182064772, 0.0145876738242805, 0.014459624886512756, 0.01445954293012619, 0.014504123013466597, 0.014537903014570475, 0.014420927036553621, 0.014488043263554573, 0.014545103069394827, 0.014454750809818506, 0.014488643035292625, 0.01441345177590847, 0.014441266190260649, 0.014445798937231302, 0.014726758934557438, 0.014560071285814047, 0.014465674757957458, 0.014532140921801329, 0.014505030121654272, 0.014455744996666908, 0.014479521196335554, 0.014382803812623024, 0.01453961618244648, 0.014467473607510328, 0.014533269219100475, 0.01442319294437766, 0.01446432713419199, 0.01452850503847003, 0.014409746043384075, 0.014561571646481752, 0.014400428161025047, 0.014524457044899464, 0.014467217959463596, 0.01445865398272872, 0.014520427212119102, 0.014456434641033411, 0.014952111057937145, 0.014422954060137272, 0.0145117761567235, 0.014431302901357412, 0.014485054183751345, 0.014487933833152056, 0.014477598015218973, 0.01456923596560955, 0.014465686865150928, 0.014500482939183712, 0.014583578333258629, 0.014364908915013075, 0.014594956766813993, 0.014370555058121681, 0.014579820912331343, 0.014459564350545406, 0.01450594188645482, 0.014486582949757576, 0.014423247892409563, 0.014771142974495888, 0.014300426933914423, 0.014495393261313438, 0.014439498074352741, 0.014482113067060709, 0.014488688670098782, 0.014508291147649288, 0.014452472794800997, 0.015084193088114262, 0.014006972312927246, 0.014460894744843245, 0.014632003847509623, 0.014446818269789219, 0.014550269115716219, 0.01444505387917161, 0.014572086744010448, 0.014399738050997257, 0.014458967372775078, 0.014472021721303463, 0.014422228094190359, 0.014426968060433865, 0.014487443957477808, 0.014498102944344282, 0.014472520910203457, 0.014482919126749039, 0.014464437030255795, 0.014432413969188929, 0.014483108185231686, 0.014483395963907242, 0.014566320925951004, 0.014435378834605217, 0.01452151220291853, 0.0144714186899364, 0.014400735031813383, 0.014403312932699919, 0.014496558345854282, 0.014575523789972067, 0.014439061284065247, 0.014520004857331514, 0.014463122934103012, 0.014506118837743998, 0.014516022056341171, 0.014536039903759956, 0.014664089307188988, 0.014417263679206371, 0.014512536115944386, 0.014505645260214806, 0.014435139950364828, 0.014463704079389572, 0.014470652677118778, 0.014603868126869202, 0.014485519845038652, 0.014507633168250322, 0.014519555028527975, 0.01451671402901411, 0.0147595158778131], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 15.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  78.57     
Total input tokens:                      524288    
Total generated tokens:                  232801    
Request throughput (req/s):              13.03     
Output token throughput (tok/s):         2963.15   
Total Token throughput (tok/s):          9636.41   
---------------Time to First Token----------------
Mean TTFT (ms):                          233.66    
Median TTFT (ms):                        230.55    
P99 TTFT (ms):                           491.12    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          57.13     
Median TPOT (ms):                        58.57     
P99 TPOT (ms):                           75.15     
---------------Inter-token Latency----------------
Mean ITL (ms):                           56.94     
Median ITL (ms):                         32.68     
P99 ITL (ms):                            168.63    
==================================================
