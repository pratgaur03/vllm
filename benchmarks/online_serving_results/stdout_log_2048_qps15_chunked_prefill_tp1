INFO 07-08 07:53:08 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=15.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-15-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.0667933980003, output_tokens=256, ttft=0.297004799824208, itl=[0.002993309870362282, 0.014568309299647808, 0.014650160912424326, 0.014631661120802164, 0.014594150707125664, 0.01465144194662571, 0.01463842811062932, 0.014725640881806612, 0.014685339294373989, 0.014625133015215397, 0.014711235649883747, 0.014734982047230005, 0.014657092280685902, 0.014699766878038645, 0.014720169827342033, 0.014655102044343948, 0.014648423064500093, 0.014755757991224527, 0.014650681987404823, 0.014616480097174644, 0.014780581928789616, 0.014663327019661665, 0.01467597996816039, 0.014766702894121408, 0.014719916973263025, 0.014695815276354551, 0.014692720025777817, 0.014781991951167583, 0.0147609100677073, 0.014789944048970938, 0.014748766086995602, 0.014714924618601799, 0.014735011383891106, 0.014772360678762197, 0.014725869055837393, 0.014771034941077232, 0.014736480079591274, 0.01477836910635233, 0.014770376961678267, 0.014722366817295551, 0.014786513987928629, 0.014732763171195984, 0.014753813855350018, 0.0147834662348032, 0.014747689012438059, 0.014835583977401257, 0.014746360015124083, 0.014799315948039293, 0.014766731765121222, 0.014725180342793465, 0.014949243050068617, 0.014762298669666052, 0.0147554911673069, 0.014782519079744816, 0.014833454973995686, 0.014752787072211504, 0.01474018394947052, 0.014708167873322964, 0.014764295890927315, 0.01470273407176137, 0.014797735027968884, 0.01475026085972786, 0.014834349974989891, 0.014768284279853106, 0.014744186773896217, 0.014754228293895721, 0.014732711017131805, 0.014862856827676296, 0.014646891038864851, 0.014834298752248287, 0.014702093321830034, 0.014850291889160872, 0.014775039162486792, 0.014675598591566086, 0.014805956277996302, 0.014730618800967932, 0.014772781170904636, 0.014774657785892487, 0.014775976072996855, 0.014713689219206572, 0.014731854666024446, 0.01487162709236145, 0.014708218164741993, 0.014748285058885813, 0.014743531122803688, 0.014777656644582748, 0.014767888002097607, 0.01474028592929244, 0.014870616141706705, 0.014720717910677195, 0.014762930106371641, 0.014837547205388546, 0.014740373939275742, 0.01475295890122652, 0.014775110874325037, 0.014774580020457506, 0.014735329896211624, 0.014766190201044083, 0.014842890202999115, 0.014693369623273611, 0.014768257271498442, 0.014854700770229101, 0.014718618243932724, 0.01475606206804514, 0.014697291888296604, 0.014707388821989298, 0.014768436085432768, 0.014877317007631063, 0.014780952129513025, 0.014727185014635324, 0.014797172974795103, 0.014767484739422798, 0.014740377198904753, 0.014750334899872541, 0.014793077018111944, 0.014824558049440384, 0.014734655153006315, 0.01470439089462161, 0.01478657079860568, 0.01472107833251357, 0.014759516809135675, 0.015020160935819149, 0.014788221102207899, 0.014773251954466105, 0.014790502842515707, 0.014771415386348963, 0.014775245916098356, 0.014792868867516518, 0.014791775960475206, 0.014661046210676432, 0.014767077751457691, 0.014793911948800087, 0.014814000111073256, 0.014792969916015863, 0.014735936187207699, 0.014957789797335863, 0.014740427024662495, 0.014857280999422073, 0.014771827030926943, 0.01481006108224392, 0.014818923082202673, 0.014668804127722979, 0.01486491970717907, 0.014841312076896429, 0.01475569512695074, 0.014791490975767374, 0.014738726895302534, 0.014778885059058666, 0.01481379708275199, 0.014842038974165916, 0.014761365950107574, 0.014704202767461538, 0.014811455272138119, 0.014779085759073496, 0.014752456918358803, 0.014790526125580072, 0.014791254885494709, 0.014800960198044777, 0.014700319152325392, 0.014818798750638962, 0.014780079014599323, 0.014714858029037714, 0.014769203029572964, 0.01471832487732172, 0.014753075316548347, 0.014757712837308645, 0.014844928868114948, 0.014801294077187777, 0.01470962818711996, 0.014814228750765324, 0.01478423597291112, 0.014758691191673279, 0.014743762090802193, 0.014752016868442297, 0.014779090881347656, 0.014805654995143414, 0.01482241228222847, 0.014786733780056238, 0.014751093927770853, 0.014698551036417484, 0.014842044096440077, 0.014699871186167002, 0.01481099659577012, 0.014870554208755493, 0.014686992857605219, 0.014764380175620317, 0.015381319914013147, 0.014701552223414183, 0.014750562608242035, 0.014779601246118546, 0.014868700876832008, 0.014789060223847628, 0.014748454093933105, 0.014832154847681522, 0.01481276610866189, 0.014768216758966446, 0.01482994295656681, 0.014775881078094244, 0.014781374018639326, 0.014805675949901342, 0.01475646486505866, 0.014839447103440762, 0.014742657076567411, 0.014838843140751123, 0.014786534011363983, 0.01484305877238512, 0.014730298891663551, 0.014765963423997164, 0.014820564538240433, 0.014843166340142488, 0.01482565701007843, 0.014752923976629972, 0.014759604819118977, 0.014866581186652184, 0.014784506056457758, 0.014794173650443554, 0.014810200314968824, 0.014751588925719261, 0.014782479964196682, 0.014778581913560629, 0.014759972225874662, 0.014749886002391577, 0.014784440863877535, 0.014867747202515602, 0.014772260561585426, 0.014775168150663376, 0.01472300523892045, 0.014801425859332085, 0.014743151143193245, 0.014758189674466848, 0.014892034232616425, 0.014805220067501068, 0.014816655777394772, 0.014761200174689293, 0.014778852928429842, 0.014714791905134916, 0.014771501999348402, 0.014837262220680714, 0.014783389866352081, 0.01486472599208355, 0.01475662412121892, 0.014787408988922834, 0.01480831578373909, 0.014817611314356327, 0.014791070949286222, 0.014759679790586233, 0.014774021226912737, 0.014873717911541462, 0.014773305971175432, 0.014831400010734797, 0.014915606938302517, 0.014702355023473501, 0.01483652787283063, 0.014792884234338999, 0.014769347850233316, 0.015132621861994267], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 15.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  157.85    
Total input tokens:                      2097152   
Total generated tokens:                  229250    
Request throughput (req/s):              6.49      
Output token throughput (tok/s):         1452.33   
Total Token throughput (tok/s):          14738.03  
---------------Time to First Token----------------
Mean TTFT (ms):                          37015.62  
Median TTFT (ms):                        36785.63  
P99 TTFT (ms):                           74866.34  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          215.42    
Median TPOT (ms):                        252.05    
P99 TPOT (ms):                           270.06    
---------------Inter-token Latency----------------
Mean ITL (ms):                           210.88    
Median ITL (ms):                         244.71    
P99 ITL (ms):                            292.50    
==================================================
