INFO 07-08 05:33:24 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=3.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-3-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.837564719840884, output_tokens=256, ttft=0.07940952712669969, itl=[4.625972360372543e-05, 0.01422035414725542, 0.014659631997346878, 0.01469809701666236, 0.014619833789765835, 0.014736562967300415, 0.014631356112658978, 0.014632086269557476, 0.014726538676768541, 0.014676481951028109, 0.014671897049993277, 0.014635322149842978, 0.01463343808427453, 0.0146606988273561, 0.014709586277604103, 0.014727871865034103, 0.014661322813481092, 0.014720150269567966, 0.014600676018744707, 0.014672914985567331, 0.014734329655766487, 0.014709323178976774, 0.014681654050946236, 0.014758459758013487, 0.014690281357616186, 0.014681276865303516, 0.014681143220514059, 0.01467971270903945, 0.014742183033376932, 0.014761546161025763, 0.01473904401063919, 0.0146399918012321, 0.014661796856671572, 0.014648385345935822, 0.014660303015261889, 0.014752449002116919, 0.014779025688767433, 0.014778619166463614, 0.014684201218187809, 0.01471688598394394, 0.014677855651825666, 0.01469449931755662, 0.015015970915555954, 0.014740010723471642, 0.014804208185523748, 0.014667444862425327, 0.014714919030666351, 0.014668191317468882, 0.014710236806422472, 0.014769241213798523, 0.014686187729239464, 0.01478637009859085, 0.01472775498405099, 0.014664291869848967, 0.014736386016011238, 0.014689875300973654, 0.01471649669110775, 0.015017282217741013, 0.014413583092391491, 0.01470947777852416, 0.014721378218382597, 0.014683423563838005, 0.014746199361979961, 0.014785006642341614, 0.014842416159808636, 0.014695547055453062, 0.01471392810344696, 0.014688235707581043, 0.014699714258313179, 0.014704233035445213, 0.014779414981603622, 0.01479937182739377, 0.014680708292871714, 0.014722532592713833, 0.014670157339423895, 0.014748330693691969, 0.01488735107704997, 0.014781094156205654, 0.014786196872591972, 0.014674543868750334, 0.014752349350601435, 0.014713295735418797, 0.014747875276952982, 0.014765909872949123, 0.014765468891710043, 0.014783267863094807, 0.014728191308677197, 0.014745799824595451, 0.014781109057366848, 0.014701071195304394, 0.014750207774341106, 0.015029795002192259, 0.014409386087208986, 0.014692382887005806, 0.01473399018868804, 0.01475124480202794, 0.014755470212548971, 0.01471221074461937, 0.014727731235325336, 0.0146792558953166, 0.014810851775109768, 0.014697929378598928, 0.014762377832084894, 0.014732819981873035, 0.01473365817219019, 0.014813004061579704, 0.014702829997986555, 0.014687246643006802, 0.01474732905626297, 0.014737030025571585, 0.014756637159734964, 0.014764906838536263, 0.014813167974352837, 0.014713805168867111, 0.014759378973394632, 0.014695216901600361, 0.01465732790529728, 0.014761436264961958, 0.014714719727635384, 0.014799285214394331, 0.014669141732156277, 0.01479627238586545, 0.014746022876352072, 0.014691021759063005, 0.014741604216396809, 0.01501556672155857, 0.014418814331293106, 0.014706911984831095, 0.014725163113325834, 0.014686252921819687, 0.01473238691687584, 0.014801815152168274, 0.01484429370611906, 0.014722383115440607, 0.01470851106569171, 0.01473111379891634, 0.014685368165373802, 0.014771583024412394, 0.014807100873440504, 0.014847652986645699, 0.01472480222582817, 0.014689965639263391, 0.014700431376695633, 0.014721455983817577, 0.014861322939395905, 0.01475242292508483, 0.014757927041500807, 0.014696105848997831, 0.014718916267156601, 0.01474671671167016, 0.014910745900124311, 0.01471554534509778, 0.014700409956276417, 0.014757174998521805, 0.01472140196710825, 0.014673465862870216, 0.014704614877700806, 0.014692260418087244, 0.014794404618442059, 0.015033936128020287, 0.014499044045805931, 0.014676881022751331, 0.014767094980925322, 0.014820700976997614, 0.014788838103413582, 0.01478954590857029, 0.014746644999831915, 0.014699462801218033, 0.014765133149921894, 0.01472545601427555, 0.014725270215421915, 0.014740354847162962, 0.014800913166254759, 0.01483458699658513, 0.014675935730338097, 0.014771290123462677, 0.014746443834155798, 0.014620579313486814, 0.01480740262195468, 0.014822090975940228, 0.014757099095731974, 0.014696474187076092, 0.014720709063112736, 0.01470598392188549, 0.014965550974011421, 0.014765709172934294, 0.01469043968245387, 0.01488645002245903, 0.014681973960250616, 0.014686067122966051, 0.014741167891770601, 0.014766049105674028, 0.014776872005313635, 0.014934303238987923, 0.014604843687266111, 0.014822806231677532, 0.014738330617547035, 0.01472761807963252, 0.014705336187034845, 0.014798664022237062, 0.014858775772154331, 0.014749667141586542, 0.014746224042028189, 0.01472129113972187, 0.014749302063137293, 0.014698028564453125, 0.014657414052635431, 0.014939498156309128, 0.014735369011759758, 0.014740359969437122, 0.014733281917870045, 0.014691570308059454, 0.014759639743715525, 0.014655703213065863, 0.0148123768158257, 0.014745192136615515, 0.014737362042069435, 0.0147691466845572, 0.014767026994377375, 0.014904721174389124, 0.014698123093694448, 0.014932226855307817, 0.014624936040490866, 0.014717308804392815, 0.014804136008024216, 0.014771266374737024, 0.014728213660418987, 0.01500307209789753, 0.014517155010253191, 0.014734295196831226, 0.014750520698726177, 0.014698210172355175, 0.014778704848140478, 0.014864678960293531, 0.014825487975031137, 0.01466945419088006, 0.014747623819857836, 0.014725031331181526, 0.014781878795474768, 0.014707617927342653, 0.014809167943894863, 0.014780180063098669, 0.014696900267153978, 0.01476091705262661, 0.014788726810365915, 0.014755019918084145, 0.014784167986363173, 0.014787027146667242, 0.014778682962059975, 0.01478941086679697, 0.014670233242213726, 0.014745916705578566, 0.014797968324273825, 0.014723033644258976, 0.014770795125514269, 0.015007030218839645], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 3.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  365.35    
Total input tokens:                      131072    
Total generated tokens:                  240843    
Request throughput (req/s):              2.80      
Output token throughput (tok/s):         659.22    
Total Token throughput (tok/s):          1017.98   
---------------Time to First Token----------------
Mean TTFT (ms):                          88.40     
Median TTFT (ms):                        84.76     
P99 TTFT (ms):                           152.29    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          18.59     
Median TPOT (ms):                        18.60     
P99 TPOT (ms):                           25.35     
---------------Inter-token Latency----------------
Mean ITL (ms):                           18.52     
Median ITL (ms):                         17.48     
P99 ITL (ms):                            78.75     
==================================================
