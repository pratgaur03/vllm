INFO 07-08 03:10:30 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=35.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-35-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `testProfit`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C# (e.g., `Cleanup.structure`)\n* Kotlin (e.g., `lateinit`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Data science and machine learning (e.g., `testProfit`, `estimator`)\n* Web development (e.g., `Component`, `Cleanup.structure`)\n* IoT and sensor-related topics (e.g., `SENSOR_BUSY`, `wifi`)\n* Finance and economics (e.g., `NYSE`, `profit`)\n* Geography and location-based services (e.g., `Latitude`, `Prague`)\n\n**Other observations:**\n\n* There are many typos and non-English words/phrases, which might indicate that the text is a result of a machine translation or a text generation algorithm.\n* Some parts of the", success=True, latency=3.82100474787876, output_tokens=256, ttft=0.09714282862842083, itl=[4.7452282160520554e-05, 0.014800076838582754, 0.014621070120483637, 0.014853710774332285, 0.014915759209543467, 0.014845353085547686, 0.01459581684321165, 0.014802596066147089, 0.01490900106728077, 0.01453606877475977, 0.014928935095667839, 0.01455773413181305, 0.014995882753282785, 0.01490671094506979, 0.014607242308557034, 0.014605200849473476, 0.014940463937819004, 0.014652288984507322, 0.0147287892177701, 0.01461533596739173, 0.014934849925339222, 0.014595496002584696, 0.014548047911375761, 0.014903814066201448, 0.01424231193959713, 0.014523905236274004, 0.014493630733340979, 0.014504433143883944, 0.014515750110149384, 0.014585699886083603, 0.014615627005696297, 0.014538643881678581, 0.0145759591832757, 0.01452738605439663, 0.014517354778945446, 0.014603030867874622, 0.01455905707553029, 0.014588506892323494, 0.014534871093928814, 0.014533901121467352, 0.014615659136325121, 0.014527979772537947, 0.014527791179716587, 0.014582016970962286, 0.014619912952184677, 0.014519207179546356, 0.014520468655973673, 0.014598049223423004, 0.014563302043825388, 0.014596445020288229, 0.014625025913119316, 0.014557142741978168, 0.01459291111677885, 0.014525915961712599, 0.014531835913658142, 0.014531758148223162, 0.014552213251590729, 0.014527949038892984, 0.014606557786464691, 0.014520591124892235, 0.014571172650903463, 0.014579454436898232, 0.014514210633933544, 0.014611901249736547, 0.014590092934668064, 0.014612162951380014, 0.01457336824387312, 0.014552655629813671, 0.014553394168615341, 0.014524371828883886, 0.014558300375938416, 0.014539468567818403, 0.014626804273575544, 0.014489187858998775, 0.014600917231291533, 0.014575190842151642, 0.014592392835766077, 0.014548384118825197, 0.01457060081884265, 0.014714242424815893, 0.01455995487049222, 0.014681064058095217, 0.014542235061526299, 0.014567553997039795, 0.014587757643312216, 0.01476929010823369, 0.014305160846561193, 0.014561587013304234, 0.014612477272748947, 0.014565505087375641, 0.014620208647102118, 0.014566564001142979, 0.014680775348097086, 0.014512933790683746, 0.014585006050765514, 0.014681836124509573, 0.014517692849040031, 0.014626075979322195, 0.014485301915556192, 0.01462214533239603, 0.01459517888724804, 0.014555385801941156, 0.014547697268426418, 0.014576630666851997, 0.014604936353862286, 0.014502211939543486, 0.014650053810328245, 0.01457966910675168, 0.014620430767536163, 0.014595192391425371, 0.014608915895223618, 0.014502081088721752, 0.014582862611860037, 0.01462462218478322, 0.014686624053865671, 0.014573148917406797, 0.014521874021738768, 0.014519702177494764, 0.01456269808113575, 0.014601022005081177, 0.014653804711997509, 0.01449916698038578, 0.014574502129107714, 0.014527878724038601, 0.014597328379750252, 0.014643799047917128, 0.014569558668881655, 0.014629014302045107, 0.014580107759684324, 0.01456260122358799, 0.014597015921026468, 0.014556868933141232, 0.014564380049705505, 0.014554124791175127, 0.014675613027065992, 0.014581548981368542, 0.014557153917849064, 0.014585618395358324, 0.01452224189415574, 0.014604821801185608, 0.014975025318562984, 0.014248489867895842, 0.014546790160238743, 0.014573233667761087, 0.014585057273507118, 0.014587806072086096, 0.01456447597593069, 0.014616474974900484, 0.014736158773303032, 0.014524976257234812, 0.014594068750739098, 0.014523691963404417, 0.01460006320849061, 0.014701222069561481, 0.014632842969149351, 0.014505918603390455, 0.014634086284786463, 0.014586946927011013, 0.014554499182850122, 0.014610132668167353, 0.014599279034882784, 0.01463322201743722, 0.014532992150634527, 0.014559024944901466, 0.014545952901244164, 0.014534578192979097, 0.014582603704184294, 0.014566549099981785, 0.014637019950896502, 0.014591854996979237, 0.01451053936034441, 0.01466339873149991, 0.014604093972593546, 0.014605707954615355, 0.014622555114328861, 0.014609712176024914, 0.014572209678590298, 0.014637954998761415, 0.01458216505125165, 0.01454037893563509, 0.01460517942905426, 0.0146262445487082, 0.014626490417867899, 0.014574281871318817, 0.014601471833884716, 0.014654232189059258, 0.014676128048449755, 0.014556864742189646, 0.014625942334532738, 0.015110372565686703, 0.014494942035526037, 0.014626046176999807, 0.014700217172503471, 0.014767196960747242, 0.014662766829133034, 0.014702735003083944, 0.014447281137108803, 0.014578459784388542, 0.01454323111101985, 0.01456000516191125, 0.014625693671405315, 0.01460708910599351, 0.01466051721945405, 0.014569879043847322, 0.014579329639673233, 0.014534445945173502, 0.014605775009840727, 0.014598206151276827, 0.014582707080990076, 0.01468242984265089, 0.01461320323869586, 0.014517189934849739, 0.014593952801078558, 0.014523401390761137, 0.014611129648983479, 0.014616405125707388, 0.01466964790597558, 0.014614831190556288, 0.014550731983035803, 0.014581792056560516, 0.014603216666728258, 0.014557547401636839, 0.014571070671081543, 0.014629194047302008, 0.014493158087134361, 0.014589069876819849, 0.01461701188236475, 0.014558325055986643, 0.014650169294327497, 0.014630785677582026, 0.014593354426324368, 0.014511131681501865, 0.01460582809522748, 0.014571014791727066, 0.014602084178477526, 0.014601346105337143, 0.014591612853109837, 0.01465753186494112, 0.014516693074256182, 0.014574672095477581, 0.014597152825444937, 0.014458571095019579, 0.014731576200574636, 0.014525898732244968, 0.014639281202107668, 0.014572377782315016, 0.014645785093307495, 0.014555510133504868, 0.014601770788431168, 0.014575470238924026, 0.014703304972499609, 0.014442539773881435, 0.014732972253113985, 0.014787119813263416, 0.014751018956303596, 0.014939912129193544], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 35.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  48.89     
Total input tokens:                      262144    
Total generated tokens:                  239920    
Request throughput (req/s):              20.94     
Output token throughput (tok/s):         4907.02   
Total Token throughput (tok/s):          10268.57  
---------------Time to First Token----------------
Mean TTFT (ms):                          3239.92   
Median TTFT (ms):                        418.51    
P99 TTFT (ms):                           7818.02   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          80.58     
Median TPOT (ms):                        88.00     
P99 TPOT (ms):                           108.75    
---------------Inter-token Latency----------------
Mean ITL (ms):                           79.46     
Median ITL (ms):                         54.43     
P99 ITL (ms):                            183.66    
==================================================
