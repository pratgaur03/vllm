INFO 07-10 02:16:27 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=40.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-40-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=5.178142580203712, output_tokens=256, ttft=5.17678859597072, itl=[3.975722938776016e-05, 1.558195799589157e-05, 9.15583223104477e-06, 6.426125764846802e-06, 5.075708031654358e-06, 5.922280251979828e-06, 5.316920578479767e-06, 5.13298436999321e-06, 4.7711655497550964e-06, 5.075708031654358e-06, 4.9122609198093414e-06, 5.173031240701675e-06, 5.121808499097824e-06, 4.7441571950912476e-06, 4.636123776435852e-06, 4.774890840053558e-06, 4.739966243505478e-06, 5.003996193408966e-06, 4.828907549381256e-06, 4.775822162628174e-06, 4.966277629137039e-06, 5.2158720791339874e-06, 4.9318186938762665e-06, 5.07524237036705e-06, 4.954170435667038e-06, 5.1497481763362885e-06, 9.952113032341003e-06, 5.083158612251282e-06, 5.073845386505127e-06, 4.815869033336639e-06, 5.465932190418243e-06, 5.2051618695259094e-06, 5.092937499284744e-06, 5.858950316905975e-06, 4.847999662160873e-06, 4.59328293800354e-06, 4.7460198402404785e-06, 4.880595952272415e-06, 4.616100341081619e-06, 4.7441571950912476e-06, 4.7781504690647125e-06, 6.269663572311401e-06, 4.76418063044548e-06, 4.795845597982407e-06, 4.896894097328186e-06, 4.659406840801239e-06, 4.597008228302002e-06, 4.706904292106628e-06, 4.6137720346450806e-06, 4.726927727460861e-06, 4.93321567773819e-06, 4.794914275407791e-06, 4.872214049100876e-06, 5.350913852453232e-06, 4.698056727647781e-06, 4.888046532869339e-06, 5.068723112344742e-06, 4.712957888841629e-06, 4.936940968036652e-06, 4.940200597047806e-06, 4.802830517292023e-06, 4.631001502275467e-06, 4.609115421772003e-06, 5.30388206243515e-06, 4.815403372049332e-06, 5.878973752260208e-06, 4.887580871582031e-06, 4.707369953393936e-06, 4.687812179327011e-06, 4.990957677364349e-06, 5.187932401895523e-06, 4.75812703371048e-06, 4.7031790018081665e-06, 4.676636308431625e-06, 4.839152097702026e-06, 4.700850695371628e-06, 4.70038503408432e-06, 5.670823156833649e-06, 4.841946065425873e-06, 5.916226655244827e-06, 5.3676776587963104e-06, 4.866160452365875e-06, 4.711095243692398e-06, 5.282927304506302e-06, 4.712957888841629e-06, 4.841946065425873e-06, 5.231238901615143e-06, 4.612840712070465e-06, 4.727859050035477e-06, 5.286186933517456e-06, 4.81773167848587e-06, 4.576053470373154e-06, 4.7390349209308624e-06, 6.184913218021393e-06, 5.003064870834351e-06, 4.83216717839241e-06, 6.297137588262558e-06, 4.857778549194336e-06, 4.741828888654709e-06, 4.620291292667389e-06, 7.2177499532699585e-06, 5.016103386878967e-06, 4.731118679046631e-06, 4.862900823354721e-06, 4.831235855817795e-06, 5.366746336221695e-06, 5.023088306188583e-06, 5.015172064304352e-06, 4.835892468690872e-06, 8.217059075832367e-06, 4.9960799515247345e-06, 5.2158720791339874e-06, 4.9727968871593475e-06, 4.664063453674316e-06, 4.651956260204315e-06, 5.24008646607399e-06, 4.750210791826248e-06, 5.526002496480942e-06, 4.964880645275116e-06, 6.2319450080394745e-06, 5.247071385383606e-06, 5.186069756746292e-06, 4.917848855257034e-06, 4.753004759550095e-06, 5.449168384075165e-06, 4.7567300498485565e-06, 4.8209913074970245e-06, 5.218200385570526e-06, 4.830770194530487e-06, 5.741138011217117e-06, 5.027744919061661e-06, 4.620291292667389e-06, 5.234964191913605e-06, 4.868954420089722e-06, 5.0691887736320496e-06, 4.728790372610092e-06, 4.699919372797012e-06, 4.799105226993561e-06, 5.112960934638977e-06, 4.926230758428574e-06, 4.834961146116257e-06, 4.815869033336639e-06, 5.601905286312103e-06, 4.993285983800888e-06, 4.706904292106628e-06, 4.712957888841629e-06, 5.274079740047455e-06, 4.951842129230499e-06, 4.6389177441596985e-06, 6.452202796936035e-06, 4.915986210107803e-06, 4.664994776248932e-06, 5.521811544895172e-06, 4.658941179513931e-06, 4.653353244066238e-06, 4.641711711883545e-06, 5.300156772136688e-06, 4.795845597982407e-06, 5.265232175588608e-06, 4.685018211603165e-06, 4.748813807964325e-06, 4.841946065425873e-06, 6.4070336520671844e-06, 4.716217517852783e-06, 4.624016582965851e-06, 4.6906061470508575e-06, 5.141366273164749e-06, 4.946719855070114e-06, 4.68594953417778e-06, 4.605390131473541e-06, 4.601664841175079e-06, 4.941131919622421e-06, 5.193985998630524e-06, 6.116926670074463e-06, 4.937872290611267e-06, 5.00120222568512e-06, 4.598870873451233e-06, 4.948116838932037e-06, 4.6691857278347015e-06, 5.376990884542465e-06, 4.92902472615242e-06, 4.64683398604393e-06, 4.671979695558548e-06, 4.868023097515106e-06, 4.62215393781662e-06, 5.410052835941315e-06, 6.031710654497147e-06, 4.888046532869339e-06, 4.643108695745468e-06, 4.814937710762024e-06, 4.687812179327011e-06, 4.742294549942017e-06, 4.651956260204315e-06, 4.721805453300476e-06, 4.82192263007164e-06, 6.120186299085617e-06, 4.753004759550095e-06, 4.6389177441596985e-06, 6.0051679611206055e-06, 4.753004759550095e-06, 4.659872502088547e-06, 6.20400533080101e-06, 5.409121513366699e-06, 4.987698048353195e-06, 6.0764141380786896e-06, 4.864763468503952e-06, 4.721805453300476e-06, 5.8552250266075134e-06, 4.597008228302002e-06, 4.653818905353546e-06, 4.578381776809692e-06, 6.071757525205612e-06, 4.880130290985107e-06, 4.732981324195862e-06, 4.775822162628174e-06, 5.599111318588257e-06, 4.895031452178955e-06, 4.654750227928162e-06, 5.675014108419418e-06, 4.75812703371048e-06, 4.71901148557663e-06, 4.89410012960434e-06, 4.7371722757816315e-06, 4.9066729843616486e-06, 4.762317985296249e-06, 6.032641977071762e-06, 4.7781504690647125e-06, 5.429144948720932e-06, 4.888046532869339e-06, 6.009824573993683e-06, 5.3318217396736145e-06, 4.902016371488571e-06, 4.6691857278347015e-06, 6.8247318267822266e-06, 4.674308001995087e-06, 4.6798959374427795e-06, 4.621222615242004e-06, 6.311573088169098e-06, 4.811212420463562e-06, 4.5280903577804565e-06, 4.800036549568176e-06, 4.7138892114162445e-06, 5.664769560098648e-06, 4.950445145368576e-06, 4.698988050222397e-06, 5.377922207117081e-06, 4.721805453300476e-06, 4.752073436975479e-06, 5.600042641162872e-06, 4.840083420276642e-06, 5.154870450496674e-06, 5.539972335100174e-06, 5.003064870834351e-06, 4.694797098636627e-06, 4.6943314373493195e-06, 7.4338167905807495e-06], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 40.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  105.58    
Total input tokens:                      1048576   
Total generated tokens:                  58235     
Request throughput (req/s):              9.70      
Output token throughput (tok/s):         551.57    
Total Token throughput (tok/s):          10483.06  
---------------Time to First Token----------------
Mean TTFT (ms):                          33716.40  
Median TTFT (ms):                        0.00      
P99 TTFT (ms):                           98188.10  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.01      
Median TPOT (ms):                        0.00      
P99 TPOT (ms):                           0.01      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.00      
P99 ITL (ms):                            0.01      
==================================================
