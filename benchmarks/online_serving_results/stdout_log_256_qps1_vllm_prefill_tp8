INFO 07-10 14:49:06 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=1.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-1-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `numpy`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C++ (e.g., `GPIO`)\n* Kotlin (e.g., `data class`)\n\n**Domains and topics:**\n\n* Machine learning (e.g., `DataLoader`, `estimator`)\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Web development (e.g., `Component`, `React`)\n* IoT (e.g., `GPIO`)\n* Finance (e.g., `NYSE`, `profit`)\n* Geography (e.g., `Latitude`, `Longitude`)\n* Politics (e.g., `Cuomo`, `Judicial`)\n\n**Other observations:**\n\n* There are many typos and grammatical errors throughout the text.\n* Some words and phrases appear to be randomly inserted or concatenated (e.g., `cheng Milit"&finding`, `flotation.sensorBrazil`).\n* There', success=True, latency=4.306330758146942, output_tokens=256, ttft=0.7271847287192941, itl=[4.312722012400627e-05, 0.014142823871225119, 0.013978075236082077, 0.014034260995686054, 0.014019487891346216, 0.014103808905929327, 0.014167103916406631, 0.014463325962424278, 0.013691671192646027, 0.013901389203965664, 0.014094141777604818, 0.014135530218482018, 0.014099644962698221, 0.014025247655808926, 0.014051138423383236, 0.013989980798214674, 0.014014629181474447, 0.014134849887341261, 0.014068563934415579, 0.014182736165821552, 0.014058096799999475, 0.014046919997781515, 0.013992154970765114, 0.013974171131849289, 0.01400434272363782, 0.01411303412169218, 0.014020100235939026, 0.014102634973824024, 0.013982685748487711, 0.014044598210602999, 0.013991307001560926, 0.013923130929470062, 0.014043515082448721, 0.014225106686353683, 0.014232960063964128, 0.013904528226703405, 0.013960125856101513, 0.014043096918612719, 0.013930604327470064, 0.014026009012013674, 0.013996293768286705, 0.01404079794883728, 0.014043449889868498, 0.01400789525359869, 0.014030152931809425, 0.013926986139267683, 0.013967233709990978, 0.013956396374851465, 0.01400050800293684, 0.014016494620591402, 0.013942731078714132, 0.01402923185378313, 0.01399768004193902, 0.014007726218551397, 0.01396099803969264, 0.01398498099297285, 0.014068654738366604, 0.013990245293825865, 0.014046275988221169, 0.013955518137663603, 0.013982439879328012, 0.014027679804712534, 0.01395886018872261, 0.014040966983884573, 0.014022960793226957, 0.013994900044053793, 0.013963181059807539, 0.013990830164402723, 0.013981988653540611, 0.013983458280563354, 0.014002556912600994, 0.014081656001508236, 0.013952123932540417, 0.013992255087941885, 0.013991182204335928, 0.014008620753884315, 0.014009087812155485, 0.014056191314011812, 0.013978148810565472, 0.014058615081012249, 0.013985936064273119, 0.013948813080787659, 0.01404201565310359, 0.014007511083036661, 0.014051541220396757, 0.01406897883862257, 0.013992694206535816, 0.01399315008893609, 0.014014419633895159, 0.013987353071570396, 0.014014279004186392, 0.01403989689424634, 0.014121636282652617, 0.014033597894012928, 0.013947261963039637, 0.014013368170708418, 0.01398883806541562, 0.01404113695025444, 0.013984748627990484, 0.014055291190743446, 0.013977002818137407, 0.013934942428022623, 0.014018764719367027, 0.014003406278789043, 0.013959322590380907, 0.014047129079699516, 0.014040119014680386, 0.013930730056017637, 0.014011905062943697, 0.014056514017283916, 0.013980956748127937, 0.014047643169760704, 0.014008049853146076, 0.01408552611246705, 0.013965247198939323, 0.014009780716150999, 0.01399610098451376, 0.013977851253002882, 0.013969470746815205, 0.014030791353434324, 0.01407802663743496, 0.014024950098246336, 0.01395985996350646, 0.01397594716399908, 0.014007148798555136, 0.014003063086420298, 0.014005591161549091, 0.014173023868352175, 0.014064891263842583, 0.013891784008592367, 0.013986059930175543, 0.014004946686327457, 0.013996768277138472, 0.014096016995608807, 0.014045343734323978, 0.014064979273825884, 0.0140498629771173, 0.01398404873907566, 0.013988615944981575, 0.014064277987927198, 0.014023766387254, 0.014049539808183908, 0.01409888919442892, 0.01398173300549388, 0.014049479737877846, 0.014015349093824625, 0.014067918062210083, 0.01403118297457695, 0.013983894139528275, 0.014098580926656723, 0.014035340864211321, 0.014031744096428156, 0.0140177090652287, 0.01405451400205493, 0.013984163757413626, 0.01406107796356082, 0.014122901018708944, 0.014026674907654524, 0.014038221444934607, 0.014040916692465544, 0.014020474161952734, 0.01402481785044074, 0.014031140133738518, 0.01410588575527072, 0.013985692989081144, 0.01401953911408782, 0.014041564892977476, 0.0140646961517632, 0.014099731110036373, 0.013970580883324146, 0.014074846170842648, 0.01399122504517436, 0.014041522052139044, 0.014010723680257797, 0.014173999894410372, 0.014013195410370827, 0.014009446837008, 0.014096151106059551, 0.014088022988289595, 0.014087265823036432, 0.013975950889289379, 0.014037059154361486, 0.014077989850193262, 0.013996243011206388, 0.014068851247429848, 0.014032571110874414, 0.014058395754545927, 0.013998615089803934, 0.01403311500325799, 0.014108018018305302, 0.014028717763721943, 0.013983484357595444, 0.014096329919993877, 0.014039240777492523, 0.014054599218070507, 0.014021032955497503, 0.01407308503985405, 0.014010970946401358, 0.0140526769682765, 0.014044316951185465, 0.014021168928593397, 0.014124109875410795, 0.014026005286723375, 0.014052723068743944, 0.013955248985439539, 0.0140221007168293, 0.014100885018706322, 0.01404703501611948, 0.014045433141291142, 0.01405039383098483, 0.014041025191545486, 0.014015142805874348, 0.01401726994663477, 0.014084157068282366, 0.014014929998666048, 0.014049027115106583, 0.014005222823470831, 0.014031127095222473, 0.0140498043037951, 0.01408811891451478, 0.01414914894849062, 0.014056924730539322, 0.014030625112354755, 0.01403839886188507, 0.014026152435690165, 0.01407702174037695, 0.013977738097310066, 0.014209204819053411, 0.014061279129236937, 0.014060776215046644, 0.014062337577342987, 0.01403029216453433, 0.014079370070248842, 0.01401757076382637, 0.01411485904827714, 0.013990659266710281, 0.014067013747990131, 0.013990556355565786, 0.014062975998967886, 0.014014731626957655, 0.014073521364480257, 0.014028834644705057, 0.014138236176222563, 0.014017667155712843, 0.014104016590863466, 0.014037102460861206, 0.014076036866754293, 0.014054791070520878, 0.01406810898333788, 0.014280365779995918, 0.01408450398594141, 0.014099474996328354, 0.014062769245356321, 0.014198776800185442, 0.014065111987292767, 0.014373932965099812], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 1.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  1085.77   
Total input tokens:                      262144    
Total generated tokens:                  239385    
Request throughput (req/s):              0.94      
Output token throughput (tok/s):         220.47    
Total Token throughput (tok/s):          461.91    
---------------Time to First Token----------------
Mean TTFT (ms):                          84.82     
Median TTFT (ms):                        77.74     
P99 TTFT (ms):                           192.87    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          14.93     
Median TPOT (ms):                        14.80     
P99 TPOT (ms):                           17.41     
---------------Inter-token Latency----------------
Mean ITL (ms):                           14.86     
Median ITL (ms):                         14.44     
P99 ITL (ms):                            18.66     
==================================================
