INFO 07-10 15:26:19 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=1.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-1-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=3.8765861662104726, output_tokens=256, ttft=0.2376841208897531, itl=[3.490317612886429e-05, 0.014453249052166939, 0.014131268952041864, 0.014059321023523808, 0.014088337775319815, 0.014211487956345081, 0.014101273380219936, 0.01408671960234642, 0.014079126995056868, 0.01411075796931982, 0.014083719346672297, 0.01418037386611104, 0.01408351818099618, 0.014118593651801348, 0.014063158072531223, 0.014121123123914003, 0.014104221016168594, 0.014177947770804167, 0.014067893382161856, 0.014392463956028223, 0.014041491784155369, 0.01417496521025896, 0.014063780661672354, 0.014088824391365051, 0.014174747746437788, 0.014184651896357536, 0.014087492134422064, 0.013908461201936007, 0.014149725902825594, 0.01403151173144579, 0.014118656981736422, 0.014040297362953424, 0.014266306068748236, 0.014104002621024847, 0.014102844055742025, 0.014098691288381815, 0.014056507963687181, 0.014141152612864971, 0.014083173125982285, 0.014078794047236443, 0.0141227338463068, 0.014049133285880089, 0.014054316096007824, 0.014038250781595707, 0.014085034839808941, 0.014039254281669855, 0.014087029732763767, 0.014034484047442675, 0.014089491218328476, 0.014132876880466938, 0.014267735183238983, 0.014075917657464743, 0.014048558194190264, 0.014189030975103378, 0.01409971620887518, 0.01430138386785984, 0.01389726111665368, 0.014030029065907001, 0.014112953562289476, 0.014137923251837492, 0.014132305048406124, 0.014106831979006529, 0.014063233975321054, 0.014040578156709671, 0.014102553948760033, 0.014076548628509045, 0.014053327031433582, 0.013994591310620308, 0.014163738116621971, 0.014129623770713806, 0.01407795399427414, 0.014192995149642229, 0.014181166887283325, 0.01409379206597805, 0.014128515962511301, 0.014386691153049469, 0.014038799796253443, 0.014096838887780905, 0.013987923040986061, 0.015101957134902477, 0.014390016905963421, 0.013942357152700424, 0.01436375267803669, 0.014271583408117294, 0.014317757915705442, 0.0143029666505754, 0.014451936352998018, 0.014054685831069946, 0.014465027023106813, 0.014326260890811682, 0.014951615128666162, 0.015059866942465305, 0.013986964244395494, 0.014249564614146948, 0.01436020527034998, 0.014203742146492004, 0.014404443558305502, 0.014344940427690744, 0.014312666840851307, 0.014262861106544733, 0.01430895272642374, 0.014395022299140692, 0.014195787720382214, 0.01429937593638897, 0.014360560104250908, 0.0143436542712152, 0.01428857259452343, 0.01425470830872655, 0.0143500748090446, 0.014227999839931726, 0.014358198270201683, 0.014357957057654858, 0.014256130903959274, 0.014337609987705946, 0.014272186905145645, 0.014293541200459003, 0.014217864722013474, 0.014358293265104294, 0.01443610480055213, 0.01427807891741395, 0.014440153259783983, 0.014191163703799248, 0.01433582417666912, 0.014295755885541439, 0.014224172104150057, 0.014634860213845968, 0.014150412753224373, 0.014341559261083603, 0.01441809069365263, 0.014339256100356579, 0.014397180173546076, 0.01431451691314578, 0.014313323888927698, 0.014250299893319607, 0.014386632014065981, 0.014266989193856716, 0.014301610179245472, 0.014221042860299349, 0.014373242855072021, 0.014398694038391113, 0.014267141930758953, 0.014336679130792618, 0.01438529510051012, 0.014404629822820425, 0.014272015076130629, 0.01424140390008688, 0.014403440058231354, 0.01432044105604291, 0.01425724383443594, 0.014270296320319176, 0.014310221653431654, 0.014305063989013433, 0.014304003212600946, 0.014344677794724703, 0.01435395097360015, 0.014394646044820547, 0.014400273095816374, 0.014315217267721891, 0.014259465970098972, 0.014308192767202854, 0.014326299075037241, 0.014292731881141663, 0.014268952887505293, 0.01433742418885231, 0.014466153923422098, 0.014240998309105635, 0.01428201561793685, 0.014424157328903675, 0.014321587048470974, 0.014277774840593338, 0.01425046008080244, 0.014201194979250431, 0.01433752290904522, 0.014410709030926228, 0.014285063836723566, 0.014295121189206839, 0.01425113482400775, 0.014321879018098116, 0.014285212848335505, 0.014273916371166706, 0.014298897702246904, 0.01447270903736353, 0.014298084191977978, 0.014304712880402803, 0.01424944493919611, 0.014423530083149672, 0.014384510926902294, 0.014351540245115757, 0.014305819757282734, 0.01436988404020667, 0.014464950188994408, 0.014252537861466408, 0.014333955012261868, 0.014267263934016228, 0.01449396600946784, 0.01448040222749114, 0.014228008687496185, 0.014330700971186161, 0.014223145321011543, 0.014298856724053621, 0.01435460289940238, 0.014325367286801338, 0.014475476928055286, 0.014214455150067806, 0.014318590983748436, 0.014352791011333466, 0.014321872033178806, 0.014364293776452541, 0.01431601820513606, 0.014353167731314898, 0.014279170893132687, 0.01434622798115015, 0.01428990624845028, 0.014286900870501995, 0.014320208225399256, 0.014284742064774036, 0.014521730598062277, 0.014267866034060717, 0.01434217719361186, 0.014295963104814291, 0.014350761659443378, 0.0142898871563375, 0.014337209984660149, 0.01441939314827323, 0.014275094959884882, 0.014327751938253641, 0.01422444125637412, 0.014419935643672943, 0.014325073920190334, 0.014335663057863712, 0.014376334380358458, 0.014331136830151081, 0.014329934027045965, 0.01433761091902852, 0.014982523862272501, 0.014997936319559813, 0.013879189733415842, 0.014337935950607061, 0.014433149248361588, 0.014188717119395733, 0.014360003639012575, 0.014277962036430836, 0.014355930965393782, 0.014343033079057932, 0.01440215902402997, 0.014329369179904461, 0.014298653695732355, 0.014271784108132124, 0.014327755197882652, 0.014392232056707144, 0.014403747860342264, 0.014286431018263102, 0.0144738107919693, 0.014265260193496943, 0.014295984990894794, 0.014641050714999437], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 1.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  1084.95   
Total input tokens:                      1048576   
Total generated tokens:                  225931    
Request throughput (req/s):              0.94      
Output token throughput (tok/s):         208.24    
Total Token throughput (tok/s):          1174.71   
---------------Time to First Token----------------
Mean TTFT (ms):                          147.05    
Median TTFT (ms):                        133.99    
P99 TTFT (ms):                           251.68    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          15.40     
Median TPOT (ms):                        15.18     
P99 TPOT (ms):                           19.32     
---------------Inter-token Latency----------------
Mean ITL (ms):                           15.35     
Median ITL (ms):                         14.49     
P99 ITL (ms):                            69.02     
==================================================
