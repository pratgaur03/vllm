INFO 07-09 06:28:32 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to specific domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock extractor")\n\t* Computer science (e.g., "DataLoader", "GPIO", "Parcelable")\n\t* Biology (e.g., "lipid", "protein")\n\t* Geography (e.g., "Latitude", "Longitude")\n\t* Marketing (e.g., "shaders", "marketing standings")\n3. **Code snippets and frameworks**: The text includes code snippets and references to various frameworks and libraries, such as:\n\t* Android development (e.g., "OnClickListener", "Parcelable")\n\t* Web development (e.g., "Redux", "React")\n\t* Data science (e.g., "Pandas", " NumPy")\n4. **Error messages and warnings**: There are some error messages', success=True, latency=3.779729953967035, output_tokens=256, ttft=0.09951624693349004, itl=[3.396626561880112e-05, 0.013968443032354116, 0.01418924005702138, 0.014274194836616516, 0.014450464863330126, 0.014260880183428526, 0.014283428899943829, 0.01427578879520297, 0.014231746084988117, 0.014532770030200481, 0.013966679107397795, 0.01423313608393073, 0.014232027810066938, 0.014371158089488745, 0.014267575927078724, 0.014307490084320307, 0.01442035287618637, 0.014193861279636621, 0.014255658723413944, 0.014249826315790415, 0.01443165959790349, 0.014539008028805256, 0.014163566287606955, 0.014265419915318489, 0.014318902976810932, 0.014417234808206558, 0.014334780164062977, 0.014304930809885263, 0.014261109288781881, 0.014368250966072083, 0.014218723867088556, 0.014314543921500444, 0.014187934342771769, 0.014244067016988993, 0.014377753715962172, 0.014383116271346807, 0.014254823792725801, 0.014297664165496826, 0.014300084672868252, 0.014277143403887749, 0.014255840796977282, 0.01437542587518692, 0.0143019943498075, 0.014451232738792896, 0.014267709106206894, 0.014344863127917051, 0.014318677596747875, 0.014372959267348051, 0.014291828963905573, 0.014243003912270069, 0.014293212909251451, 0.014263985212892294, 0.014351790770888329, 0.014425676316022873, 0.01428462890908122, 0.014358729124069214, 0.0142916408367455, 0.01421311218291521, 0.014321544673293829, 0.014425997156649828, 0.014398687984794378, 0.014270402025431395, 0.014373153913766146, 0.014306973200291395, 0.014345420990139246, 0.014339284040033817, 0.014338927809149027, 0.01435143081471324, 0.014280123170465231, 0.014458449091762304, 0.014270320069044828, 0.014389891643077135, 0.014429169241338968, 0.01435778895393014, 0.014240899123251438, 0.014436507131904364, 0.014776814728975296, 0.014555039815604687, 0.014425231143832207, 0.014555692207068205, 0.014120440930128098, 0.014349284116178751, 0.014459112659096718, 0.014655972365289927, 0.014407701790332794, 0.014367676805704832, 0.014557380229234695, 0.014336233027279377, 0.014409593772143126, 0.01446694228798151, 0.014451381750404835, 0.01422173110768199, 0.014357924927026033, 0.015228780917823315, 0.01393433939665556, 0.014686247799545527, 0.014167868997901678, 0.014312191866338253, 0.014372287318110466, 0.014895103871822357, 0.014082686975598335, 0.014904744923114777, 0.014706417918205261, 0.013911318965256214, 0.014377217274159193, 0.01432426692917943, 0.014675233978778124, 0.014165162108838558, 0.014628680888563395, 0.014667454175651073, 0.014229753986001015, 0.014406767673790455, 0.014312558341771364, 0.014491036999970675, 0.014537035021930933, 0.014252395834773779, 0.014379976782947779, 0.014512935187667608, 0.014449498150497675, 0.014865835662931204, 0.014077797997742891, 0.014712789095938206, 0.01425967924296856, 0.014294540043920279, 0.01454873476177454, 0.014317550230771303, 0.014351737685501575, 0.014527588151395321, 0.0145261250436306, 0.014279854018241167, 0.014460946898907423, 0.014344539027661085, 0.01445377804338932, 0.014947701711207628, 0.013794091995805502, 0.014544681180268526, 0.014485788997262716, 0.014326654840260744, 0.014362461399286985, 0.014512940775603056, 0.014462451916188002, 0.014407487120479345, 0.014451566152274609, 0.014760375022888184, 0.014334763865917921, 0.014648274052888155, 0.014139493927359581, 0.014459954109042883, 0.014894573017954826, 0.014740058686584234, 0.014449448324739933, 0.014647320844233036, 0.014104023110121489, 0.014337914995849133, 0.014378971885889769, 0.014774363953620195, 0.014215324074029922, 0.014377736020833254, 0.014491389971226454, 0.014463571831583977, 0.01443126006051898, 0.014476735144853592, 0.014517765957862139, 0.014445907901972532, 0.01437581516802311, 0.014497261960059404, 0.014519121032208204, 0.014491751790046692, 0.014407206326723099, 0.014422923792153597, 0.014533803798258305, 0.014409139286726713, 0.015039714984595776, 0.014203133061528206, 0.014343872666358948, 0.015017731115221977, 0.014136963058263063, 0.014510591980069876, 0.01427390705794096, 0.01437269477173686, 0.015032922383397818, 0.014225807040929794, 0.014955065678805113, 0.014993933960795403, 0.013910898938775063, 0.014946265146136284, 0.014896661974489689, 0.013848421163856983, 0.014580249786376953, 0.014828254003077745, 0.01435787696391344, 0.014323280192911625, 0.0145465019159019, 0.014857302885502577, 0.014276679139584303, 0.014361168257892132, 0.01446926174685359, 0.01448332192376256, 0.014939060900360346, 0.014380396343767643, 0.014477415010333061, 0.014977602753788233, 0.014613403007388115, 0.014174321200698614, 0.014531593769788742, 0.0144869782961905, 0.014407927636057138, 0.0147818592377007, 0.014390706084668636, 0.014370725024491549, 0.014277935959398746, 0.014602957759052515, 0.014878866262733936, 0.014143165666610003, 0.014478898141533136, 0.014661159832030535, 0.014793093316257, 0.014400410931557417, 0.01464564586058259, 0.01447217632085085, 0.015100467950105667, 0.014093155041337013, 0.014566361904144287, 0.0148595180362463, 0.014301277697086334, 0.014451590366661549, 0.014486433938145638, 0.014396898914128542, 0.01437998004257679, 0.01451192470267415, 0.014556162990629673, 0.014361259061843157, 0.01446874113753438, 0.01460642321035266, 0.014430074021220207, 0.014393472578376532, 0.014457843266427517, 0.01449761912226677, 0.014391212724149227, 0.014485161285847425, 0.01462398562580347, 0.014423317275941372, 0.0144698447547853, 0.014492262154817581, 0.014498357195407152, 0.01447357889264822, 0.014553016051650047, 0.014810595661401749, 0.01446038531139493, 0.014299625065177679, 0.014936738647520542, 0.014131369069218636, 0.014973144046962261, 0.01395742828026414, 0.014362816698849201, 0.014796879142522812], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  52.33     
Total input tokens:                      524288    
Total generated tokens:                  230070    
Request throughput (req/s):              19.57     
Output token throughput (tok/s):         4396.29   
Total Token throughput (tok/s):          14414.64  
---------------Time to First Token----------------
Mean TTFT (ms):                          8902.35   
Median TTFT (ms):                        4661.91   
P99 TTFT (ms):                           19803.45  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          94.04     
Median TPOT (ms):                        102.14    
P99 TPOT (ms):                           184.22    
---------------Inter-token Latency----------------
Mean ITL (ms):                           91.31     
Median ITL (ms):                         50.79     
P99 ITL (ms):                            222.95    
==================================================
