INFO 07-08 03:33:30 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=35.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-35-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.8707467052154243, output_tokens=256, ttft=0.1269871392287314, itl=[3.202073276042938e-05, 0.015022199135273695, 0.014828798826783895, 0.014769036322832108, 0.014877204783260822, 0.014829759951680899, 0.014788459055125713, 0.014920118264853954, 0.014907207805663347, 0.014868263155221939, 0.014791487716138363, 0.014839099254459143, 0.014927094802260399, 0.014979259110987186, 0.014947520103305578, 0.01487373886629939, 0.014836918096989393, 0.0146115911193192, 0.014612008817493916, 0.014706480782479048, 0.01470996718853712, 0.014571630861610174, 0.014694839250296354, 0.01458359183743596, 0.014567600097507238, 0.014635211788117886, 0.014631102327257395, 0.01458680909126997, 0.014650547876954079, 0.014692640863358974, 0.014620038215070963, 0.014582663774490356, 0.014640109147876501, 0.014749636873602867, 0.014608819037675858, 0.014612192753702402, 0.014637617394328117, 0.014592397958040237, 0.014563288073986769, 0.014643518719822168, 0.014610582031309605, 0.014641580171883106, 0.014689304865896702, 0.014568878803402185, 0.014712395146489143, 0.01454540528357029, 0.014603346586227417, 0.014752686023712158, 0.014680392108857632, 0.014581853058189154, 0.014645404182374477, 0.01458487892523408, 0.014668692834675312, 0.014587303157895803, 0.014637767802923918, 0.014632937032729387, 0.014612996019423008, 0.014664034824818373, 0.014698028098791838, 0.014540005940943956, 0.014746948145329952, 0.01463313214480877, 0.014592220075428486, 0.014654107857495546, 0.014645941089838743, 0.014716177713125944, 0.014630785211920738, 0.014646715950220823, 0.014548103790730238, 0.014678127132356167, 0.014678339008241892, 0.01457095192745328, 0.014634990133345127, 0.01461939699947834, 0.014677023980766535, 0.014654883183538914, 0.014616966713219881, 0.014657718129456043, 0.014558888040482998, 0.014620720874518156, 0.014683527871966362, 0.014660789165645838, 0.014621728099882603, 0.014607578050345182, 0.015260046813637018, 0.014691235963255167, 0.014623343013226986, 0.014691314194351435, 0.014740923885256052, 0.014613769017159939, 0.014658738858997822, 0.014627041295170784, 0.014704797882586718, 0.014657572843134403, 0.014631649944931269, 0.014809008222073317, 0.014598976820707321, 0.014605697244405746, 0.014567544683814049, 0.014671132434159517, 0.014735421631485224, 0.014603481162339449, 0.01474792417138815, 0.014646356925368309, 0.014760528691112995, 0.01460213027894497, 0.014605465810745955, 0.014666898176074028, 0.014842871110886335, 0.014411349780857563, 0.01467827195301652, 0.014662721194326878, 0.014646334107965231, 0.014723161701112986, 0.014655905310064554, 0.014626836869865656, 0.014730656053870916, 0.014640673995018005, 0.014665517956018448, 0.01464495388790965, 0.014656930230557919, 0.014657390769571066, 0.014720060862600803, 0.014603919349610806, 0.014723540749400854, 0.01463718619197607, 0.014728922862559557, 0.014611606951802969, 0.014780623838305473, 0.014674282167106867, 0.014627029187977314, 0.014707984868437052, 0.014647669158875942, 0.014672738034278154, 0.014627903699874878, 0.014699445106089115, 0.014728934038430452, 0.014625843148678541, 0.014702018816024065, 0.014613681007176638, 0.014655458740890026, 0.014646128285676241, 0.014755106996744871, 0.014723862055689096, 0.014799312688410282, 0.014672971330583096, 0.014620840083807707, 0.014670426957309246, 0.0146537646651268, 0.014708077069371939, 0.014627882279455662, 0.014638650696724653, 0.014729198068380356, 0.014634117018431425, 0.01460909890010953, 0.014684622175991535, 0.014694030862301588, 0.014715821947902441, 0.01466528233140707, 0.014629592653363943, 0.014660230372101068, 0.014688691589981318, 0.01469263806939125, 0.014740277081727982, 0.014721583109349012, 0.01465695584192872, 0.01472265925258398, 0.01464020973071456, 0.014637700282037258, 0.014702445827424526, 0.014703663066029549, 0.014655623119324446, 0.014610647689551115, 0.014686864335089922, 0.01470324257388711, 0.014601098373532295, 0.014676189981400967, 0.01474174577742815, 0.01467955531552434, 0.01461349381133914, 0.014636239968240261, 0.014692016877233982, 0.014682832174003124, 0.014794000890105963, 0.014576519839465618, 0.014661703258752823, 0.014692063909024, 0.01463331002742052, 0.014970621094107628, 0.014703083783388138, 0.014664079993963242, 0.014701423235237598, 0.014665168710052967, 0.014630632009357214, 0.014697672333568335, 0.014759021811187267, 0.014649090822786093, 0.01475235028192401, 0.014672701712697744, 0.014684062451124191, 0.014709611888974905, 0.014704601839184761, 0.014650734141469002, 0.014701962005347013, 0.01468108594417572, 0.014664598740637302, 0.014625226147472858, 0.014735928270965815, 0.014653509017080069, 0.014708551578223705, 0.014648692216724157, 0.014734535943716764, 0.014602859038859606, 0.014681009110063314, 0.014687379822134972, 0.014633972197771072, 0.014637357089668512, 0.014645465649664402, 0.014658926986157894, 0.014695595018565655, 0.01478436030447483, 0.014665646012872458, 0.014707888942211866, 0.014645393006503582, 0.014830437954515219, 0.014512524008750916, 0.014704234898090363, 0.014683764893561602, 0.014720212202519178, 0.014635797124356031, 0.014713539741933346, 0.014761348254978657, 0.014635931700468063, 0.014683341141790152, 0.014566575177013874, 0.014594949781894684, 0.014732261188328266, 0.014637103769928217, 0.014728070236742496, 0.014684570953249931, 0.0146900350227952, 0.014639926608651876, 0.01461775740608573, 0.014653755817562342, 0.014692903030663729, 0.01471865875646472, 0.014692390337586403, 0.014762617647647858, 0.014606164302676916, 0.014742166735231876, 0.014716634061187506, 0.01461478415876627, 0.014811386819928885, 0.014667117968201637, 0.014661939349025488, 0.014929373748600483], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 35.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  56.78     
Total input tokens:                      524288    
Total generated tokens:                  230557    
Request throughput (req/s):              18.03     
Output token throughput (tok/s):         4060.58   
Total Token throughput (tok/s):          13294.38  
---------------Time to First Token----------------
Mean TTFT (ms):                          6368.59   
Median TTFT (ms):                        2116.32   
P99 TTFT (ms):                           14645.83  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          100.55    
Median TPOT (ms):                        110.36    
P99 TPOT (ms):                           179.28    
---------------Inter-token Latency----------------
Mean ITL (ms):                           97.86     
Median ITL (ms):                         56.01     
P99 ITL (ms):                            229.06    
==================================================
