INFO 07-10 04:27:07 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-30-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `numpy`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C++ (e.g., `GPIO`)\n* Kotlin (e.g., `data class`)\n\n**Domains and topics:**\n\n* Machine learning (e.g., `DataLoader`, `estimator`)\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Web development (e.g., `Component`, `React`)\n* IoT (e.g., `GPIO`)\n* Finance (e.g., `NYSE`, `profit`)\n* Geography (e.g., `Latitude`, `Longitude`)\n* Politics (e.g., `Cuomo`, `Judicial`)\n\n**Other observations:**\n\n* There are many typos and grammatical errors throughout the text.\n* Some words and phrases appear to be randomly inserted or concatenated (e.g., `cheng Milit"&finding`, `flotation.sensorBrazil`).\n* There', success=True, latency=4.298997143749148, output_tokens=256, ttft=0.7243938627652824, itl=[4.8385001718997955e-05, 0.01410398306325078, 0.014250108040869236, 0.014451807830482721, 0.013998616952449083, 0.013969220221042633, 0.01403255807235837, 0.013789952732622623, 0.014079698361456394, 0.014343134593218565, 0.013954573310911655, 0.014025474898517132, 0.014107324182987213, 0.013675638940185308, 0.014012294821441174, 0.013978191185742617, 0.014185038860887289, 0.013981020078063011, 0.014390899799764156, 0.013959879986941814, 0.014382150024175644, 0.014018754940479994, 0.013961635995656252, 0.013897714205086231, 0.01404206408187747, 0.013937892857939005, 0.014363010879606009, 0.014037859160453081, 0.013986788224428892, 0.013997128698974848, 0.013967463281005621, 0.014071549754589796, 0.01421276107430458, 0.01425636699423194, 0.013949840795248747, 0.014293329324573278, 0.013958926778286695, 0.013957520015537739, 0.01438531605526805, 0.01390382181853056, 0.014013323001563549, 0.013972553424537182, 0.014025094918906689, 0.013951417058706284, 0.013981999829411507, 0.014334014151245356, 0.013936938717961311, 0.01409505819901824, 0.01394265377894044, 0.0139870410785079, 0.014007473830133677, 0.01393341040238738, 0.013857703655958176, 0.013887496199458838, 0.014115814119577408, 0.014067194890230894, 0.013941600918769836, 0.014253907836973667, 0.01394132012501359, 0.0139548908919096, 0.014322228264063597, 0.014077041763812304, 0.0143390242010355, 0.013932254165410995, 0.014322043862193823, 0.014300255104899406, 0.014002915006130934, 0.013965670019388199, 0.014300409704446793, 0.013872717041522264, 0.013935796916484833, 0.013936369214206934, 0.014082049950957298, 0.013910687994211912, 0.01406119018793106, 0.013947713654488325, 0.014104530215263367, 0.014056415762752295, 0.013982938136905432, 0.014017155859619379, 0.013932626228779554, 0.014052002690732479, 0.014018693007528782, 0.014022307004779577, 0.013957106042653322, 0.014047866221517324, 0.014071318786591291, 0.013945003971457481, 0.013924715109169483, 0.014076853170990944, 0.013998616952449083, 0.014010014943778515, 0.014073425903916359, 0.013979808893054724, 0.014017373323440552, 0.01390098500996828, 0.014015133958309889, 0.014126644935458899, 0.014026221819221973, 0.014403369277715683, 0.014035834930837154, 0.014035135973244905, 0.01398342102766037, 0.013976769987493753, 0.014027596917003393, 0.013993432279676199, 0.013989533763378859, 0.014018464833498001, 0.014030562248080969, 0.01401670603081584, 0.014027868863195181, 0.014290158171206713, 0.014097445644438267, 0.0140204974450171, 0.013994201552122831, 0.014029928017407656, 0.013978132046759129, 0.014056615997105837, 0.014703259337693453, 0.013871069997549057, 0.013955460861325264, 0.01437442284077406, 0.013983954209834337, 0.014131038915365934, 0.014450251124799252, 0.014264994766563177, 0.013742880895733833, 0.013966745231300592, 0.014012719970196486, 0.014038032852113247, 0.014024619944393635, 0.014409716241061687, 0.013930091168731451, 0.014035248663276434, 0.014109035022556782, 0.014083794318139553, 0.013957095798105001, 0.013940814882516861, 0.014047483913600445, 0.013941265176981688, 0.01404272811487317, 0.013912472873926163, 0.013956518843770027, 0.01396567514166236, 0.013933900278061628, 0.013892019633203745, 0.01395593537017703, 0.013989329803735018, 0.013956971932202578, 0.013985165860503912, 0.01392965903505683, 0.013935521245002747, 0.013946658931672573, 0.013949994929134846, 0.013980268966406584, 0.013963242992758751, 0.013894047122448683, 0.014001798816025257, 0.013984904158860445, 0.013860983774065971, 0.013928514439612627, 0.014071348588913679, 0.013892782386392355, 0.013973619788885117, 0.013847295194864273, 0.01399766793474555, 0.013955137692391872, 0.01392616331577301, 0.013942712917923927, 0.013938760850578547, 0.013899016194045544, 0.013954935129731894, 0.0139280348084867, 0.013976581860333681, 0.014009391888976097, 0.013956268317997456, 0.013953404035419226, 0.013996233697980642, 0.013944031205028296, 0.014031561091542244, 0.013986974023282528, 0.01400774996727705, 0.01390472473576665, 0.014008782338351011, 0.014002799987792969, 0.013920068740844727, 0.013957119081169367, 0.013950498774647713, 0.013967200182378292, 0.01394845824688673, 0.014050920959562063, 0.013970662839710712, 0.013969797175377607, 0.013929474633187056, 0.013972956221550703, 0.013935003895312548, 0.013996429275721312, 0.013977719936519861, 0.013964596670120955, 0.013870783150196075, 0.014028091914951801, 0.01391336927190423, 0.01393279992043972, 0.013974724803119898, 0.014240507036447525, 0.01382346823811531, 0.013992439955472946, 0.013959785923361778, 0.013981939759105444, 0.013908558059483767, 0.014078855980187654, 0.013916047289967537, 0.014077554922550917, 0.014017858076840639, 0.014013872016221285, 0.013910436071455479, 0.013966480735689402, 0.01401058305054903, 0.013912403956055641, 0.014015330001711845, 0.013973053079098463, 0.013956632930785418, 0.013941572047770023, 0.01401463896036148, 0.01406301325187087, 0.013975938782095909, 0.014077090192586184, 0.013964492827653885, 0.013947220053523779, 0.013968349900096655, 0.013982316944748163, 0.013949193991720676, 0.013963348232209682, 0.014021142851561308, 0.013953700195997953, 0.013976417947560549, 0.013987620826810598, 0.013971444219350815, 0.013994043692946434, 0.014012898318469524, 0.013996454887092113, 0.013991164043545723, 0.013926404062658548, 0.013949729036539793, 0.014035905711352825, 0.013864872045814991, 0.014045832213014364, 0.014086714014410973, 0.013744419906288385, 0.013987102080136538, 0.0139979999512434, 0.013980234041810036, 0.013997410889714956, 0.014044016133993864, 0.013999067712575197, 0.014354789163917303], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  49.99     
Total input tokens:                      262144    
Total generated tokens:                  240079    
Request throughput (req/s):              20.49     
Output token throughput (tok/s):         4802.85   
Total Token throughput (tok/s):          10047.12  
---------------Time to First Token----------------
Mean TTFT (ms):                          2598.79   
Median TTFT (ms):                        650.52    
P99 TTFT (ms):                           8598.88   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          82.05     
Median TPOT (ms):                        85.91     
P99 TPOT (ms):                           149.06    
---------------Inter-token Latency----------------
Mean ITL (ms):                           80.17     
Median ITL (ms):                         49.10     
P99 ITL (ms):                            463.07    
==================================================
