INFO 07-08 03:03:32 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=40.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-40-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.8879063930362463, output_tokens=256, ttft=0.07723265094682574, itl=[3.2022129744291306e-05, 0.014629840850830078, 0.014765725936740637, 0.014779974240809679, 0.014850455801934004, 0.014800354838371277, 0.014811229426413774, 0.014948057010769844, 0.014818829949945211, 0.01489719795063138, 0.014761023689061403, 0.014888095203787088, 0.014843502081930637, 0.014886619988828897, 0.014890599064528942, 0.014864971861243248, 0.01489495113492012, 0.014874209649860859, 0.014885928016155958, 0.014907488133758307, 0.014951243065297604, 0.014932706952095032, 0.014842835254967213, 0.014882341958582401, 0.014891847968101501, 0.014860252849757671, 0.01488490216434002, 0.015001945663243532, 0.014916726388037205, 0.014882614836096764, 0.014902331866323948, 0.014922467060387135, 0.014910206198692322, 0.01486244983971119, 0.014952906873077154, 0.014892984181642532, 0.014880127739161253, 0.014887680299580097, 0.014986815862357616, 0.014900545123964548, 0.014979124069213867, 0.014868063852190971, 0.014801232144236565, 0.0150041407905519, 0.01488281786441803, 0.014953823294490576, 0.01497939694672823, 0.014935669023543596, 0.014972290955483913, 0.014932352118194103, 0.014935130719095469, 0.014900085981935263, 0.014942280016839504, 0.014969099313020706, 0.014964645728468895, 0.014984561130404472, 0.01490025594830513, 0.014951534103602171, 0.014906126074492931, 0.014998999889940023, 0.014959390740841627, 0.015007010195404291, 0.014971940778195858, 0.014956940431147814, 0.014941953588277102, 0.014949208125472069, 0.014906150288879871, 0.014984205830842257, 0.014946599956601858, 0.014928779099136591, 0.014905890915542841, 0.014883080031722784, 0.014879560098052025, 0.014941158704459667, 0.015000449027866125, 0.014925918076187372, 0.014941189903765917, 0.01495857210829854, 0.014867661986500025, 0.014917691238224506, 0.015029036905616522, 0.014998103026300669, 0.014857996720820665, 0.014940266031771898, 0.014979720115661621, 0.014936014078557491, 0.014906133059412241, 0.015011521987617016, 0.014893097802996635, 0.01495948201045394, 0.014877811074256897, 0.0149225820787251, 0.014899114146828651, 0.014941943809390068, 0.01499629719182849, 0.014966518618166447, 0.014859161339700222, 0.01495570968836546, 0.014922208152711391, 0.014920706860721111, 0.014995152130723, 0.014952950179576874, 0.014916001819074154, 0.015047783963382244, 0.014936148189008236, 0.014927447773516178, 0.014983988832682371, 0.014950074255466461, 0.01492517301812768, 0.014969144947826862, 0.014903713017702103, 0.01493489881977439, 0.014938609208911657, 0.014960594940930605, 0.014955947175621986, 0.015027872752398252, 0.014900314155966043, 0.014913554769009352, 0.0149563392624259, 0.014891000930219889, 0.014950674958527088, 0.014968138188123703, 0.014822904020547867, 0.014925512950867414, 0.014979524072259665, 0.01493782177567482, 0.014981228858232498, 0.01491931825876236, 0.014938695821911097, 0.014929312281310558, 0.014968190807849169, 0.014984082896262407, 0.014966010116040707, 0.015015419106930494, 0.014966438990086317, 0.015001843683421612, 0.014953865204006433, 0.014958390034735203, 0.01498029800131917, 0.015009034890681505, 0.014941525179892778, 0.015031613875180483, 0.014929451048374176, 0.01491134287789464, 0.014922051224857569, 0.014987933915108442, 0.01495401281863451, 0.0149200689047575, 0.01499367505311966, 0.014954928308725357, 0.01494996901601553, 0.014957469888031483, 0.014918589033186436, 0.014968710020184517, 0.014965432696044445, 0.014904876239597797, 0.014941502828150988, 0.014974280260503292, 0.014942620880901814, 0.014998272061347961, 0.01489254692569375, 0.014993994031101465, 0.014913619030267, 0.014928115997463465, 0.014998835977166891, 0.015006303787231445, 0.014912768267095089, 0.014917382039129734, 0.014987400732934475, 0.014934890903532505, 0.01495234714820981, 0.015019838232547045, 0.014959830790758133, 0.014978689141571522, 0.015035719145089388, 0.014826162718236446, 0.015026758890599012, 0.015003756154328585, 0.014906595926731825, 0.014956013299524784, 0.014955856837332249, 0.015001367777585983, 0.01492258533835411, 0.014903329778462648, 0.014934133272618055, 0.015001861844211817, 0.014947918709367514, 0.01533554820343852, 0.014950871001929045, 0.014991771895438433, 0.01493127504363656, 0.014908317010849714, 0.014982535969465971, 0.014968037139624357, 0.014918594155460596, 0.01504739373922348, 0.014974175952374935, 0.014922799076884985, 0.014968651812523603, 0.014950438402593136, 0.014936526771634817, 0.015029172878712416, 0.014953864272683859, 0.014973458833992481, 0.01488647609949112, 0.014952694065868855, 0.01490827091038227, 0.014980479143559933, 0.01498529501259327, 0.014944711700081825, 0.01489090221002698, 0.015026213135570288, 0.014975301921367645, 0.014948163647204638, 0.01494908006861806, 0.01504531316459179, 0.01494609098881483, 0.014949288219213486, 0.014934358652681112, 0.015039463061839342, 0.014913699124008417, 0.015000717714428902, 0.015000272076576948, 0.0149894580245018, 0.01493265526369214, 0.014954987913370132, 0.014964397996664047, 0.014986333902925253, 0.015028160065412521, 0.014942737761884928, 0.015021111350506544, 0.014906189870089293, 0.014984147157520056, 0.014960695058107376, 0.01500191492959857, 0.014971097931265831, 0.014905126765370369, 0.014932101126760244, 0.014995718840509653, 0.01498608011752367, 0.015036819037050009, 0.014902051072567701, 0.014941310044378042, 0.014979640021920204, 0.014850614126771688, 0.015116698574274778, 0.014908378012478352, 0.014997791964560747, 0.015012013260275126, 0.014978196937590837, 0.014913530088961124, 0.014973091892898083, 0.014944413211196661, 0.014950831886380911, 0.014925929717719555, 0.015233856160193682], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 40.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  45.32     
Total input tokens:                      131072    
Total generated tokens:                  242162    
Request throughput (req/s):              22.60     
Output token throughput (tok/s):         5343.77   
Total Token throughput (tok/s):          8236.13   
---------------Time to First Token----------------
Mean TTFT (ms):                          3171.88   
Median TTFT (ms):                        326.49    
P99 TTFT (ms):                           7725.77   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          73.60     
Median TPOT (ms):                        78.94     
P99 TPOT (ms):                           93.66     
---------------Inter-token Latency----------------
Mean ITL (ms):                           72.74     
Median ITL (ms):                         54.04     
P99 ITL (ms):                            146.93    
==================================================
