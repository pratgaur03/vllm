INFO 07-09 12:43:47 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=40.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-40-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages, including Java, Python, and JavaScript. The text also includes fragments of sentences, names, and words from different languages, such as English, Spanish, French, and Portuguese.\n\nAfter analyzing the text, I\'ve identified some common themes and patterns:\n\n1. **Programming concepts**: The text includes references to programming concepts, such as data structures (e.g., arrays, lists, dictionaries), algorithms (e.g., sorting, searching), and software design patterns (e.g., MVC, Redux).\n2. **Code snippets**: There are numerous code snippets in the text, including Java, Python, and JavaScript code. These snippets appear to be fragments of larger programs or scripts.\n3. **Technical terms**: The text includes technical terms related to computer science, software engineering, and data analysis, such as "machine learning," "deep learning," "natural language processing," and "data visualization."\n4. **Names and proper nouns**: The text mentions various names, including people (e.g., Elon Musk, Kanye West), companies (e.g., Google, Amazon), and locations (e.g., New York, Paris).\n5', success=True, latency=3.7545058261603117, output_tokens=256, ttft=0.14227954810485244, itl=[4.02289442718029e-05, 0.013854186050593853, 0.013791793957352638, 0.014024610165506601, 0.013937734998762608, 0.014112301170825958, 0.014407302718609571, 0.013975351117551327, 0.01396951312199235, 0.014326157048344612, 0.014045463874936104, 0.014277487061917782, 0.014490257017314434, 0.014007875695824623, 0.014097948092967272, 0.014036598149687052, 0.014067456126213074, 0.013944410718977451, 0.014320941176265478, 0.014072224963456392, 0.014103898778557777, 0.014002731069922447, 0.014037755317986012, 0.014094780664891005, 0.014105874113738537, 0.014276463072746992, 0.014001055154949427, 0.014192655682563782, 0.01423183223232627, 0.014135461766272783, 0.0140574942342937, 0.01423064200207591, 0.014041754882782698, 0.014021942857652903, 0.014196730218827724, 0.014039247762411833, 0.014304342214018106, 0.014006535988301039, 0.014041874092072248, 0.014039537869393826, 0.014073078986257315, 0.014292520005255938, 0.014065789990127087, 0.014114860910922289, 0.014131391886621714, 0.014488026965409517, 0.014268472325056791, 0.014417944010347128, 0.014219183009117842, 0.01422441191971302, 0.014105524867773056, 0.014046057127416134, 0.014142825733870268, 0.01409473828971386, 0.014133952092379332, 0.014086080715060234, 0.014058201108127832, 0.014054577797651291, 0.014169390313327312, 0.014123576693236828, 0.014163121115416288, 0.014270802028477192, 0.014251688960939646, 0.014446431305259466, 0.01440121978521347, 0.014009584207087755, 0.014137828722596169, 0.014046259224414825, 0.014067412819713354, 0.014271355234086514, 0.01409433363005519, 0.014036586973816156, 0.014115518424659967, 0.014122949913144112, 0.014033324085175991, 0.014142327010631561, 0.01428907085210085, 0.01408779388293624, 0.014006319921463728, 0.01422988623380661, 0.014384102076292038, 0.01405083667486906, 0.014398369006812572, 0.01424076920375228, 0.014052967075258493, 0.014153901021927595, 0.014159138780087233, 0.014066128060221672, 0.01405881904065609, 0.014070237055420876, 0.014399578794836998, 0.014142477884888649, 0.014104433357715607, 0.014178715646266937, 0.014155890326946974, 0.01436933409422636, 0.014058446977287531, 0.014020262751728296, 0.014143477194011211, 0.014139198698103428, 0.014173582196235657, 0.014084468130022287, 0.014513239730149508, 0.014017457142472267, 0.014223042875528336, 0.01419749902561307, 0.014156266115605831, 0.014095536898821592, 0.01420758105814457, 0.014075046870857477, 0.014211697038263083, 0.014087640214711428, 0.014183709863573313, 0.01413522893562913, 0.014137744903564453, 0.014025313314050436, 0.014048309996724129, 0.014090559910982847, 0.01405654288828373, 0.01444292813539505, 0.014095783699303865, 0.014113560318946838, 0.013991043902933598, 0.014133695047348738, 0.014100942760705948, 0.014167552348226309, 0.014168683905154467, 0.014236358925700188, 0.014322471804916859, 0.014136909041553736, 0.014097797218710184, 0.014118835795670748, 0.01405816525220871, 0.014105266891419888, 0.014170696958899498, 0.014062745030969381, 0.014104657806456089, 0.014095880091190338, 0.014015431050211191, 0.014164363965392113, 0.01411858107894659, 0.014078615233302116, 0.014474886935204268, 0.01411222480237484, 0.014184956904500723, 0.014020098373293877, 0.014045476913452148, 0.014133757911622524, 0.014388739131391048, 0.01403376692906022, 0.014408716931939125, 0.014072749763727188, 0.014196638017892838, 0.014059162233024836, 0.014386560767889023, 0.014368874952197075, 0.014185088220983744, 0.014156356919556856, 0.014079428277909756, 0.014197107870131731, 0.014059097040444613, 0.014215643983334303, 0.014137312769889832, 0.014066325966268778, 0.014028389006853104, 0.014113076962530613, 0.01411778898909688, 0.013957460410892963, 0.014336668886244297, 0.013958891853690147, 0.014465827029198408, 0.014047731179744005, 0.014130639843642712, 0.014061139896512032, 0.014146262314170599, 0.014321429654955864, 0.013971779029816389, 0.014337148983031511, 0.014357916079461575, 0.014078552834689617, 0.014412390068173409, 0.014405898284167051, 0.014146585948765278, 0.014242103789001703, 0.0141223412938416, 0.014084993861615658, 0.014142933767288923, 0.014491165988147259, 0.014099308289587498, 0.014139515813440084, 0.014260398223996162, 0.014088954776525497, 0.014095689170062542, 0.01407035905867815, 0.014047817792743444, 0.014112330041825771, 0.01411144994199276, 0.014669087249785662, 0.014021743088960648, 0.014247145969420671, 0.014089151751250029, 0.014137783087790012, 0.01417496195062995, 0.01413126103579998, 0.014219154138118029, 0.0143732326105237, 0.014106345362961292, 0.01406682375818491, 0.014137457124888897, 0.014365536160767078, 0.01401509903371334, 0.014364146627485752, 0.01406265003606677, 0.014088624157011509, 0.014408405870199203, 0.014317136257886887, 0.014472915790975094, 0.014306557830423117, 0.014169258065521717, 0.014154868200421333, 0.014245850965380669, 0.014524397905915976, 0.014177507255226374, 0.01404314860701561, 0.014092872384935617, 0.014138987753540277, 0.014134733006358147, 0.014173615258187056, 0.01404973492026329, 0.014144778717309237, 0.01421755040064454, 0.014040057547390461, 0.014209553133696318, 0.014376289211213589, 0.014052938669919968, 0.014187507331371307, 0.014469416812062263, 0.014125857036560774, 0.014093149919062853, 0.014255956280976534, 0.014442722778767347, 0.014229795895516872, 0.014118781313300133, 0.014155234675854445, 0.01415168633684516, 0.01408697571605444, 0.014250392094254494, 0.014158888254314661, 0.014292897656559944, 0.014114785008132458, 0.014451503288000822, 0.014466620050370693, 0.014090572949498892, 0.014503104612231255, 0.014051406178623438, 0.01464405795559287], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 40.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  79.34     
Total input tokens:                      1048576   
Total generated tokens:                  225655    
Request throughput (req/s):              12.91     
Output token throughput (tok/s):         2844.26   
Total Token throughput (tok/s):          16060.99  
---------------Time to First Token----------------
Mean TTFT (ms):                          19592.68  
Median TTFT (ms):                        17020.37  
P99 TTFT (ms):                           40943.14  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          137.63    
Median TPOT (ms):                        154.89    
P99 TPOT (ms):                           213.85    
---------------Inter-token Latency----------------
Mean ITL (ms):                           133.80    
Median ITL (ms):                         186.57    
P99 ITL (ms):                            239.99    
==================================================
