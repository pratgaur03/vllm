INFO 07-09 20:13:11 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=1.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-1-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to specific domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock extractor")\n\t* Computer science (e.g., "DataLoader", "GPIO", "Parcelable")\n\t* Biology (e.g., "lipid", "protein")\n\t* Geography (e.g., "Latitude", "Longitude")\n\t* Marketing (e.g., "shaders", "marketing standings")\n3. **Code snippets and frameworks**: The text includes code snippets and references to various frameworks and libraries, such as:\n\t* Android development (e.g., "OnClickListener", "Parcelable")\n\t* Web development (e.g., "Redux", "React")\n\t* Data science (e.g., "Pandas", " NumPy")\n4. **Error messages and warnings**: There are some error messages', success=True, latency=3.6939725470729172, output_tokens=256, ttft=0.10350910620763898, itl=[3.4010037779808044e-05, 0.013688109815120697, 0.013847599271684885, 0.013930439949035645, 0.01389417378231883, 0.014317712280899286, 0.013978864997625351, 0.013929591979831457, 0.013929957989603281, 0.014195174910128117, 0.014013100881129503, 0.01413000700995326, 0.013920722994953394, 0.014139485079795122, 0.013981134165078402, 0.013987167738378048, 0.014192224014550447, 0.013997881207615137, 0.013994890730828047, 0.01400310406461358, 0.01401565596461296, 0.01393432728946209, 0.014048744924366474, 0.014220704790204763, 0.013987475074827671, 0.014011591207236052, 0.013976050075143576, 0.014112536795437336, 0.014059271197766066, 0.014005543664097786, 0.014095647260546684, 0.014105273876339197, 0.013979014940559864, 0.014164511114358902, 0.014050826895982027, 0.014055822975933552, 0.01392930606380105, 0.014022503979504108, 0.01402067020535469, 0.01401203079149127, 0.014416979160159826, 0.014041034039109945, 0.01403253199532628, 0.014074456878006458, 0.014055581763386726, 0.013971003238111734, 0.014057037886232138, 0.014001325238496065, 0.014205997809767723, 0.014053246937692165, 0.014055449981242418, 0.014065897092223167, 0.014053668826818466, 0.014064451213926077, 0.014157609082758427, 0.01399495406076312, 0.014079346787184477, 0.01404770603403449, 0.013977916911244392, 0.01399768702685833, 0.014020510949194431, 0.014012970961630344, 0.014034686144441366, 0.014166066888719797, 0.014023679308593273, 0.014074853621423244, 0.01403379812836647, 0.01403188519179821, 0.01407507574185729, 0.014196081086993217, 0.014178522862493992, 0.014054751954972744, 0.014038721099495888, 0.014110051095485687, 0.01405690098181367, 0.014030048158019781, 0.014014049898833036, 0.014066855888813734, 0.014052688144147396, 0.014097472187131643, 0.014180742669850588, 0.014115781988948584, 0.013986192177981138, 0.014006507117301226, 0.01411528792232275, 0.014397528022527695, 0.014056671876460314, 0.014012894127517939, 0.01402042992413044, 0.014064162038266659, 0.01404024288058281, 0.014046342112123966, 0.014046343974769115, 0.014187802094966173, 0.014018204063177109, 0.014036455657333136, 0.01407118234783411, 0.014118171762675047, 0.014005450997501612, 0.014077452011406422, 0.014203337952494621, 0.013997009955346584, 0.014095493126660585, 0.014034864027053118, 0.014285875018686056, 0.013893058057874441, 0.014097718987613916, 0.014076913706958294, 0.014086944982409477, 0.01418709708377719, 0.014099872205406427, 0.014065805822610855, 0.014140201266855001, 0.014256506692618132, 0.014176290016621351, 0.014040993992239237, 0.014105187263339758, 0.01408959086984396, 0.013986810110509396, 0.014012827072292566, 0.014246337581425905, 0.014055807143449783, 0.014029770158231258, 0.014130177907645702, 0.014297048095613718, 0.014047764707356691, 0.014110927004367113, 0.014258337207138538, 0.014114865101873875, 0.014062332920730114, 0.014077902771532536, 0.013973755296319723, 0.014130702707916498, 0.014004908036440611, 0.014120262116193771, 0.014034932013601065, 0.014093420002609491, 0.014036392793059349, 0.014045912306755781, 0.014090401120483875, 0.014273112639784813, 0.014046691358089447, 0.014331741724163294, 0.014052586164325476, 0.014081408735364676, 0.014362586196511984, 0.013970247004181147, 0.014172487892210484, 0.014064885210245848, 0.014051313977688551, 0.01404577773064375, 0.014187144115567207, 0.014036721084266901, 0.014105835929512978, 0.014084527269005775, 0.014044773764908314, 0.014074758160859346, 0.014119324740022421, 0.01408869493752718, 0.01411076495423913, 0.014016284141689539, 0.014183023013174534, 0.014045209158211946, 0.014045692048966885, 0.014067588839679956, 0.014008819125592709, 0.01403477881103754, 0.014069661032408476, 0.014040649868547916, 0.014008047990500927, 0.014036588370800018, 0.014052249025553465, 0.01402320759370923, 0.014083380345255136, 0.014009844046086073, 0.013989511877298355, 0.014058067928999662, 0.01419644895941019, 0.014045700896531343, 0.014106027316302061, 0.014033257961273193, 0.01409873878583312, 0.014092715922743082, 0.01401373092085123, 0.014225297141820192, 0.013998819049447775, 0.013993203174322844, 0.014063785783946514, 0.01415605703368783, 0.014139201026409864, 0.014126872178167105, 0.014007337857037783, 0.014097908046096563, 0.014064235147088766, 0.014067191630601883, 0.014237885363399982, 0.01406275574117899, 0.01423844788223505, 0.01409053336828947, 0.01412105793133378, 0.01406027004122734, 0.014129014685750008, 0.014009356033056974, 0.01407760102301836, 0.014063856098800898, 0.014252714812755585, 0.014079284388571978, 0.014087810646742582, 0.014171347953379154, 0.014113646000623703, 0.014020259026437998, 0.014167325105518103, 0.014065809082239866, 0.014098372776061296, 0.014043416362255812, 0.014079575892537832, 0.014183222781866789, 0.013938887976109982, 0.014180931262671947, 0.014101069886237383, 0.014055177103728056, 0.014049984049052, 0.014075474813580513, 0.014118885155767202, 0.014043542090803385, 0.014110365882515907, 0.014413006138056517, 0.013985774014145136, 0.014070279896259308, 0.01408371003344655, 0.014158406760543585, 0.014055618084967136, 0.014095090795308352, 0.014037355314940214, 0.014149879105389118, 0.014104799833148718, 0.013976885937154293, 0.01403129007667303, 0.014045767951756716, 0.014248569030314684, 0.013999647926539183, 0.014115074183791876, 0.014102629851549864, 0.01403264980763197, 0.014283775351941586, 0.014153836760669947, 0.014046696946024895, 0.014018512330949306, 0.014086368028074503, 0.014250237960368395, 0.014001009985804558, 0.014143564738333225, 0.014109730254858732, 0.01422756165266037, 0.014121441170573235, 0.014385656919330359], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 1.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  1087.11   
Total input tokens:                      524288    
Total generated tokens:                  230938    
Request throughput (req/s):              0.94      
Output token throughput (tok/s):         212.43    
Total Token throughput (tok/s):          694.71    
---------------Time to First Token----------------
Mean TTFT (ms):                          4507.64   
Median TTFT (ms):                        106.60    
P99 TTFT (ms):                           85412.58  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          19.11     
Median TPOT (ms):                        14.97     
P99 TPOT (ms):                           70.14     
---------------Inter-token Latency----------------
Mean ITL (ms):                           19.29     
Median ITL (ms):                         14.51     
P99 ITL (ms):                            90.74     
==================================================
