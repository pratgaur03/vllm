INFO 07-10 03:24:58 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-30-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=4.8890860439278185, output_tokens=256, ttft=4.8877386269159615, itl=[4.032673314213753e-05, 1.5154946595430374e-05, 9.714160114526749e-06, 7.295049726963043e-06, 5.878973752260208e-06, 5.9031881392002106e-06, 5.704816430807114e-06, 5.273148417472839e-06, 5.010981112718582e-06, 5.139969289302826e-06, 4.78280708193779e-06, 4.990957677364349e-06, 5.051959306001663e-06, 4.847068339586258e-06, 4.789326339960098e-06, 4.801899194717407e-06, 4.698988050222397e-06, 5.180947482585907e-06, 4.726927727460861e-06, 4.841946065425873e-06, 4.8442743718624115e-06, 5.1390379667282104e-06, 5.244743078947067e-06, 4.88990917801857e-06, 5.089212208986282e-06, 5.486886948347092e-06, 5.057081580162048e-06, 4.891771823167801e-06, 5.442183464765549e-06, 4.970002919435501e-06, 5.573965609073639e-06, 5.193985998630524e-06, 4.976987838745117e-06, 5.749054253101349e-06, 4.75812703371048e-06, 4.689674824476242e-06, 4.644971340894699e-06, 4.664994776248932e-06, 4.6943314373493195e-06, 4.786066710948944e-06, 4.717614501714706e-06, 5.905982106924057e-06, 4.874076694250107e-06, 4.7292560338974e-06, 4.577916115522385e-06, 4.712957888841629e-06, 4.653818905353546e-06, 4.518311470746994e-06, 4.627741873264313e-06, 4.750210791826248e-06, 4.8857182264328e-06, 4.763249307870865e-06, 4.711095243692398e-06, 5.120877176523209e-06, 4.700850695371628e-06, 4.814937710762024e-06, 4.709232598543167e-06, 4.663132131099701e-06, 5.134847015142441e-06, 4.875008016824722e-06, 4.693865776062012e-06, 4.674308001995087e-06, 4.6729110181331635e-06, 5.226116627454758e-06, 4.843808710575104e-06, 5.403999239206314e-06, 4.631932824850082e-06, 4.83216717839241e-06, 4.6067871153354645e-06, 4.664994776248932e-06, 5.315057933330536e-06, 4.580244421958923e-06, 4.553701728582382e-06, 4.6370550990104675e-06, 4.868023097515106e-06, 4.743225872516632e-06, 4.720874130725861e-06, 5.561858415603638e-06, 4.8102810978889465e-06, 5.557667464017868e-06, 4.97233122587204e-06, 4.746951162815094e-06, 4.939734935760498e-06, 5.225185304880142e-06, 4.732050001621246e-06, 4.637986421585083e-06, 5.084089934825897e-06, 4.68594953417778e-06, 5.349982529878616e-06, 5.356036126613617e-06, 4.736706614494324e-06, 4.807952791452408e-06, 4.772096872329712e-06, 6.03310763835907e-06, 5.268026143312454e-06, 4.772096872329712e-06, 6.388872861862183e-06, 4.807021468877792e-06, 4.71901148557663e-06, 4.664994776248932e-06, 5.126930773258209e-06, 4.949979484081268e-06, 4.845205694437027e-06, 4.760921001434326e-06, 4.813075065612793e-06, 5.346722900867462e-06, 5.112960934638977e-06, 4.732981324195862e-06, 4.623085260391235e-06, 6.588175892829895e-06, 4.800967872142792e-06, 5.661975592374802e-06, 4.961155354976654e-06, 4.602596163749695e-06, 4.664994776248932e-06, 5.1283277571201324e-06, 4.726927727460861e-06, 5.412846803665161e-06, 5.074311047792435e-06, 5.42961061000824e-06, 5.074311047792435e-06, 5.261972546577454e-06, 5.039852112531662e-06, 4.825182259082794e-06, 5.2656978368759155e-06, 4.620291292667389e-06, 4.686880856752396e-06, 5.498062819242477e-06, 4.991888999938965e-06, 5.641952157020569e-06, 5.72623685002327e-06, 4.8857182264328e-06, 4.61190938949585e-06, 4.934147000312805e-06, 4.794914275407791e-06, 5.142297595739365e-06, 4.7157518565654755e-06, 4.627276211977005e-06, 4.843808710575104e-06, 5.516223609447479e-06, 5.53671270608902e-06, 4.731118679046631e-06, 5.16790896654129e-06, 5.005858838558197e-06, 4.888046532869339e-06, 4.82611358165741e-06, 4.6622008085250854e-06, 4.807952791452408e-06, 4.723668098449707e-06, 6.307382136583328e-06, 4.740897566080093e-06, 4.692003130912781e-06, 5.522742867469788e-06, 4.7711655497550964e-06, 4.680827260017395e-06, 4.634261131286621e-06, 4.706904292106628e-06, 5.2121467888355255e-06, 4.644040018320084e-06, 4.956033080816269e-06, 5.548819899559021e-06, 4.78280708193779e-06, 4.603993147611618e-06, 4.5942142605781555e-06, 5.425885319709778e-06, 4.7818757593631744e-06, 4.880130290985107e-06, 4.828907549381256e-06, 4.7441571950912476e-06, 4.807021468877792e-06, 5.0282105803489685e-06, 4.717614501714706e-06, 4.6691857278347015e-06, 7.094815373420715e-06, 5.055218935012817e-06, 4.711095243692398e-06, 4.571862518787384e-06, 4.719942808151245e-06, 4.636123776435852e-06, 4.8140063881874084e-06, 5.44404610991478e-06, 5.0407834351062775e-06, 4.717148840427399e-06, 4.830770194530487e-06, 4.741363227367401e-06, 5.037989467382431e-06, 4.751607775688171e-06, 4.708301275968552e-06, 4.794914275407791e-06, 4.650093615055084e-06, 4.723668098449707e-06, 4.721339792013168e-06, 5.018897354602814e-06, 4.942063242197037e-06, 4.942994564771652e-06, 4.693865776062012e-06, 4.541128873825073e-06, 4.702713340520859e-06, 5.661044269800186e-06, 4.800036549568176e-06, 4.710163921117783e-06, 7.275957614183426e-06, 4.795845597982407e-06, 4.922039806842804e-06, 5.277339369058609e-06, 4.7567300498485565e-06, 4.629138857126236e-06, 4.654750227928162e-06, 5.636364221572876e-06, 4.7478824853897095e-06, 5.359761416912079e-06, 4.731118679046631e-06, 5.7211145758628845e-06, 5.039852112531662e-06, 4.6710483729839325e-06, 4.6389177441596985e-06, 5.320180207490921e-06, 4.7888606786727905e-06, 5.332287400960922e-06, 9.800773113965988e-06, 4.893168807029724e-06, 4.993751645088196e-06, 4.8102810978889465e-06, 4.74369153380394e-06, 4.71901148557663e-06, 4.6510249376297e-06, 6.197020411491394e-06, 4.656147211790085e-06, 4.767905920743942e-06, 5.677808076143265e-06, 5.662441253662109e-06, 4.728790372610092e-06, 4.58303838968277e-06, 5.788169801235199e-06, 5.7569704949855804e-06, 4.622619599103928e-06, 4.538334906101227e-06, 6.177928298711777e-06, 4.711095243692398e-06, 4.8209913074970245e-06, 4.732050001621246e-06, 6.29667192697525e-06, 4.884321242570877e-06, 4.712957888841629e-06, 4.6817585825920105e-06, 4.8442743718624115e-06, 4.567671567201614e-06, 5.559064447879791e-06, 4.766974598169327e-06, 4.866160452365875e-06, 5.691777914762497e-06, 4.785135388374329e-06, 4.6067871153354645e-06, 7.06501305103302e-06, 4.785135388374329e-06, 6.4140185713768005e-06], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  83.38     
Total input tokens:                      2097152   
Total generated tokens:                  0         
Request throughput (req/s):              12.28     
Output token throughput (tok/s):         0.00      
Total Token throughput (tok/s):          25152.79  
---------------Time to First Token----------------
Mean TTFT (ms):                          15317.96  
Median TTFT (ms):                        0.00      
P99 TTFT (ms):                           83033.10  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.00      
Median TPOT (ms):                        0.00      
P99 TPOT (ms):                           0.00      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.01      
P99 ITL (ms):                            0.02      
==================================================
