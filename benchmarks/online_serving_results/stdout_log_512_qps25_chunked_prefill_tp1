INFO 07-08 06:34:12 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=25.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-25-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.8064613700844347, output_tokens=256, ttft=0.10303082736209035, itl=[3.888877108693123e-05, 0.01458835182711482, 0.014355882070958614, 0.014428403228521347, 0.014404592104256153, 0.014443823602050543, 0.014485403429716825, 0.014630898833274841, 0.014465839136391878, 0.014402518048882484, 0.014389113988727331, 0.014478569850325584, 0.014439691789448261, 0.014494195114821196, 0.014501501806080341, 0.014451726339757442, 0.01444323593750596, 0.014615091029554605, 0.014427484944462776, 0.01439183996990323, 0.014460290782153606, 0.014617126435041428, 0.014431316871196032, 0.014442298095673323, 0.014537426643073559, 0.014407400041818619, 0.014488275162875652, 0.014464921783655882, 0.014570837374776602, 0.014466910623013973, 0.014519489370286465, 0.014468814712017775, 0.014466140884906054, 0.014422617387026548, 0.014491401612758636, 0.014622196089476347, 0.014469895977526903, 0.014490323141217232, 0.014486751984804869, 0.014508618973195553, 0.014391906093806028, 0.014516927767544985, 0.014531319960951805, 0.014501560013741255, 0.014882957097142935, 0.014414454344660044, 0.014472584705799818, 0.014420220162719488, 0.014475893694907427, 0.014594146981835365, 0.014425970148295164, 0.01448536617681384, 0.014483385719358921, 0.014440276194363832, 0.014451649971306324, 0.014485604129731655, 0.014621369075030088, 0.014433400705456734, 0.014596574008464813, 0.01446114620193839, 0.014499618671834469, 0.014459845144301653, 0.014473081100732088, 0.014581847935914993, 0.014506978914141655, 0.014543616212904453, 0.014534421730786562, 0.014545994345098734, 0.014464708045125008, 0.014518877025693655, 0.014577455818653107, 0.014460533857345581, 0.014585498254746199, 0.014490498695522547, 0.014512258116155863, 0.014477699063718319, 0.015089401043951511, 0.014090683776885271, 0.014467730186879635, 0.01451908703893423, 0.014469427056610584, 0.014479294884949923, 0.014478569850325584, 0.014700466301292181, 0.014367746654897928, 0.01452716113999486, 0.014536754228174686, 0.014518313575536013, 0.014516507275402546, 0.014470390975475311, 0.014709406066685915, 0.014516690745949745, 0.01449787337332964, 0.014792507980018854, 0.014490341767668724, 0.014492267277091742, 0.014557876624166965, 0.01456529414281249, 0.014431631192564964, 0.014498066622763872, 0.014506602194160223, 0.014510431792587042, 0.01449900632724166, 0.014535436872392893, 0.014556447975337505, 0.014425863977521658, 0.014518003910779953, 0.01452715927734971, 0.014516874682158232, 0.014470380265265703, 0.014583497773855925, 0.014565642923116684, 0.014499587006866932, 0.014567350037395954, 0.014494375325739384, 0.014532490633428097, 0.014449227135628462, 0.014473537914454937, 0.014633503276854753, 0.014470766764134169, 0.014596348162740469, 0.01445422787219286, 0.014462064951658249, 0.014456843957304955, 0.014492060989141464, 0.014548938255757093, 0.014484615065157413, 0.014554600697010756, 0.014432933181524277, 0.014475109986960888, 0.014500145800411701, 0.01447534142062068, 0.014539152849465609, 0.014507823158055544, 0.014632440637797117, 0.014468264300376177, 0.014561285730451345, 0.014478577300906181, 0.014476082753390074, 0.014608543831855059, 0.01448663230985403, 0.014537348877638578, 0.014462537132203579, 0.014476967975497246, 0.014507967978715897, 0.014479628764092922, 0.014541295357048512, 0.01447207760065794, 0.014527239371091127, 0.017669775988906622, 0.012573252897709608, 0.014502023812383413, 0.014706428162753582, 0.014322410803288221, 0.014525307342410088, 0.014568378683179617, 0.01449549337849021, 0.014523219782859087, 0.014519277028739452, 0.014656939078122377, 0.014466980937868357, 0.014506488107144833, 0.014687707647681236, 0.01451355405151844, 0.014529973268508911, 0.014520365744829178, 0.014596776105463505, 0.014502312988042831, 0.014732550829648972, 0.01447110716253519, 0.014491207897663116, 0.014473986346274614, 0.014552527572959661, 0.014619322028011084, 0.014488247223198414, 0.014592232182621956, 0.014524332713335752, 0.014492222107946873, 0.014497227035462856, 0.014509776141494513, 0.014557546004652977, 0.014488300774246454, 0.014517955016344786, 0.01452872110530734, 0.014584765769541264, 0.014457625336945057, 0.014570096973329782, 0.01462165592238307, 0.014506082981824875, 0.014558290131390095, 0.014508308842778206, 0.014443180058151484, 0.014535468071699142, 0.014563918579369783, 0.014597829431295395, 0.014476192649453878, 0.014576675370335579, 0.014487845823168755, 0.014515151735395193, 0.014533155132085085, 0.014551039319485426, 0.014566459693014622, 0.014473896007984877, 0.014614806976169348, 0.014551414176821709, 0.014511899091303349, 0.014561505988240242, 0.014541311655193567, 0.01463075214996934, 0.014675254002213478, 0.014370506163686514, 0.014582859817892313, 0.014448971953243017, 0.014496489893645048, 0.014638041146099567, 0.014347142074257135, 0.014505486935377121, 0.014582194853574038, 0.014501190278679132, 0.014528885018080473, 0.014526034705340862, 0.01458542700856924, 0.014443236403167248, 0.014497085008770227, 0.014539400581270456, 0.014500432182103395, 0.01444392278790474, 0.014516438357532024, 0.014693333767354488, 0.014424168039113283, 0.014555729925632477, 0.014757334254682064, 0.014500132761895657, 0.014509778004139662, 0.014558221213519573, 0.014579540118575096, 0.014510092791169882, 0.014552449807524681, 0.014525532256811857, 0.014421124011278152, 0.014483836945146322, 0.014530447777360678, 0.014556377194821835, 0.014589935075491667, 0.014534260146319866, 0.014495476614683867, 0.0145321199670434, 0.014503233134746552, 0.014529698994010687, 0.014565534889698029, 0.01447709510102868, 0.014588868245482445, 0.014570642728358507, 0.01446342607960105, 0.014529002830386162, 0.014843679033219814], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 25.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  59.80     
Total input tokens:                      524288    
Total generated tokens:                  230179    
Request throughput (req/s):              17.12     
Output token throughput (tok/s):         3849.31   
Total Token throughput (tok/s):          12617.03  
---------------Time to First Token----------------
Mean TTFT (ms):                          2662.81   
Median TTFT (ms):                        597.59    
P99 TTFT (ms):                           6496.28   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          99.90     
Median TPOT (ms):                        110.03    
P99 TPOT (ms):                           140.34    
---------------Inter-token Latency----------------
Mean ITL (ms):                           98.42     
Median ITL (ms):                         57.19     
P99 ITL (ms):                            218.62    
==================================================
