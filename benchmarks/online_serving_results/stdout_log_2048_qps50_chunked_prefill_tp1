INFO 07-07 18:03:35 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=100, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-2048-tp-1.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with the code, such as syntax errors, runtime errors, or configuration problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or code snippet. This may be due to a copy-paste error or a formatting issue.\n4. **Non-ASCII characters**: The text contains some non-ASCII characters, such as Chinese characters, which may indicate that the text was copied from a non-English source.\n\nTo better assist you, could you please provide more context about the text, such as:\n\n* Where did you find this text?\n*", success=True, latency=7.348512704018503, output_tokens=256, ttft=0.4573929663747549, itl=[0.0023193908855319023, 0.026494745165109634, 0.02680829679593444, 0.026899340096861124, 0.026922169141471386, 0.026875015813857317, 0.02702937787398696, 0.02663839189335704, 0.02687383396551013, 0.02689263503998518, 0.026870956178754568, 0.026899679098278284, 0.026877484750002623, 0.026941615156829357, 0.026819610968232155, 0.026816809084266424, 0.0268343691714108, 0.026848469860851765, 0.02696167305111885, 0.02686139987781644, 0.026956190820783377, 0.02702341414988041, 0.026854698080569506, 0.026831345167011023, 0.02691958984360099, 0.02707047387957573, 0.026882715988904238, 0.02689199708402157, 0.02685267897322774, 0.0268851350992918, 0.026976721826940775, 0.026935927104204893, 0.026958420872688293, 0.026958796195685863, 0.0269077830016613, 0.02689984906464815, 0.026935272850096226, 0.02697293320670724, 0.02703482285141945, 0.026922232937067747, 0.02699135709553957, 0.026945486664772034, 0.027041496243327856, 0.027449314016848803, 0.02659616619348526, 0.026946804951876402, 0.026949246879667044, 0.026913302019238472, 0.027026199735701084, 0.026903773192316294, 0.026950592175126076, 0.026947643607854843, 0.027066531125456095, 0.027478956151753664, 0.026616156101226807, 0.026956515852361917, 0.027072426863014698, 0.026921784970909357, 0.026930843014270067, 0.02690356830134988, 0.02706789691001177, 0.026935829780995846, 0.02693327609449625, 0.026921968907117844, 0.02705566305667162, 0.026982073206454515, 0.02699147490784526, 0.02698793914169073, 0.02700667968019843, 0.026944370940327644, 0.0268957051448524, 0.026946123223751783, 0.02701180102303624, 0.02692099893465638, 0.027002918999642134, 0.026934287045150995, 0.027057628612965345, 0.027057997416704893, 0.027094998862594366, 0.026990167796611786, 0.02704421617090702, 0.027027301024645567, 0.027023390866816044, 0.026888530235737562, 0.026988808996975422, 0.02695730095729232, 0.026995907071977854, 0.026921937707811594, 0.026978957001119852, 0.02703186124563217, 0.027096196077764034, 0.026942159980535507, 0.027099073864519596, 0.02703102584928274, 0.027016055304557085, 0.02697127778083086, 0.027084503788501024, 0.02692783111706376, 0.026920272037386894, 0.026952118147164583, 0.026972009800374508, 0.02697028499096632, 0.02701188111677766, 0.02700878120958805, 0.02700117090716958, 0.0269784489646554, 0.027033661026507616, 0.026987727731466293, 0.02715820213779807, 0.027037031017243862, 0.027039961889386177, 0.026943489909172058, 0.027002656366676092, 0.026940705720335245, 0.027089609298855066, 0.026947116013616323, 0.027000607922673225, 0.027015544939786196, 0.026947806123644114, 0.027039736974984407, 0.02698214165866375, 0.027022484224289656, 0.027018857188522816, 0.027060561813414097, 0.027041899040341377, 0.02700076112523675, 0.027091041672974825, 0.027031620033085346, 0.027147626038640738, 0.027064493857324123, 0.027046152390539646, 0.0269853537902236, 0.027096645906567574, 0.027017601300030947, 0.02708395989611745, 0.02701237890869379, 0.027082413900643587, 0.027073121163994074, 0.027131195180118084, 0.027056822553277016, 0.027016721200197935, 0.027039487846195698, 0.02707573212683201, 0.027011555153876543, 0.027088318020105362, 0.02700547082349658, 0.027018690947443247, 0.02700958587229252, 0.02713773725554347, 0.027074352838099003, 0.027033042162656784, 0.026964832097291946, 0.02700816188007593, 0.026989970821887255, 0.026995588093996048, 0.027009419165551662, 0.02698418777436018, 0.02697349013760686, 0.02713635703548789, 0.027032644022256136, 0.0270499880425632, 0.02707973401993513, 0.02705644303932786, 0.02697125868871808, 0.027051986195147038, 0.027037525083869696, 0.027039507869631052, 0.02707736985757947, 0.0271153231151402, 0.027015863917768, 0.027136757969856262, 0.027055528946220875, 0.027030738070607185, 0.027078259270638227, 0.02711379388347268, 0.02708604885265231, 0.02708144625648856, 0.026974206790328026, 0.027069183997809887, 0.02711814921349287, 0.02701237564906478, 0.027002637274563313, 0.027082360815256834, 0.026984015945345163, 0.02713149506598711, 0.027082225307822227, 0.027078204788267612, 0.027040339075028896, 0.027107548899948597, 0.027025669813156128, 0.02709072921425104, 0.027064785826951265, 0.02712927432730794, 0.026997305918484926, 0.027123613748699427, 0.0269779060035944, 0.027070446405559778, 0.026990585960447788, 0.027162170968949795, 0.027293025981634855, 0.027025721967220306, 0.02701044688001275, 0.027052797842770815, 0.0270235282368958, 0.027076047845184803, 0.026979280170053244, 0.027156169060617685, 0.026987223885953426, 0.02703623380511999, 0.027024483308196068, 0.027070711832493544, 0.027024200186133385, 0.027071740943938494, 0.027061298955231905, 0.02718175994232297, 0.026983612217009068, 0.027075410820543766, 0.027007813099771738, 0.02717789402231574, 0.02706786384806037, 0.027101674117147923, 0.0270592849701643, 0.027146373875439167, 0.027002316899597645, 0.02707441197708249, 0.027031494304537773, 0.02697524707764387, 0.027118241880089045, 0.027275738772004843, 0.02703940635547042, 0.02709875488653779, 0.02719777775928378, 0.027087122201919556, 0.027083024848252535, 0.027060160879045725, 0.027085453271865845, 0.02709952089935541, 0.027028519194573164, 0.027048074640333652, 0.02706808317452669, 0.027121916878968477, 0.02707610698416829, 0.027088795322924852, 0.02709192270413041, 0.027179677039384842, 0.026888855267316103, 0.027136976830661297, 0.02699248120188713, 0.027120535727590322, 0.027009177953004837, 0.027096061035990715, 0.027007700875401497, 0.02713071834295988, 0.02699101995676756, 0.027090382762253284, 0.027443903032690287], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     100       
Benchmark duration (s):                  40.81     
Total input tokens:                      204800    
Total generated tokens:                  21958     
Request throughput (req/s):              2.45      
Output token throughput (tok/s):         538.02    
Total Token throughput (tok/s):          5556.06   
---------------Time to First Token----------------
Mean TTFT (ms):                          12862.63  
Median TTFT (ms):                        12331.66  
P99 TTFT (ms):                           28229.80  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          118.83    
Median TPOT (ms):                        92.35     
P99 TPOT (ms):                           531.51    
---------------Inter-token Latency----------------
Mean ITL (ms):                           93.78     
Median ITL (ms):                         41.44     
P99 ITL (ms):                            642.91    
==================================================
