INFO 07-08 04:09:52 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.741512061096728, output_tokens=256, ttft=0.9825377459637821, itl=[0.003702753223478794, 0.01458142464980483, 0.014574113301932812, 0.014566238969564438, 0.014774959068745375, 0.014671013690531254, 0.014494710136204958, 0.01464033406227827, 0.014655431732535362, 0.014600694179534912, 0.014627894852310419, 0.01467842934653163, 0.014628805685788393, 0.01468497421592474, 0.014640380162745714, 0.014684564899653196, 0.014692279044538736, 0.01466549001634121, 0.014626546762883663, 0.0148610919713974, 0.014485694002360106, 0.01464228704571724, 0.014614589046686888, 0.014736343175172806, 0.014542162884026766, 0.014709868002682924, 0.01474639493972063, 0.01465595094487071, 0.014634964056313038, 0.014654166996479034, 0.014657118823379278, 0.014625504147261381, 0.014681490138173103, 0.014747630804777145, 0.01462968299165368, 0.01463455194607377, 0.014645377174019814, 0.014616062864661217, 0.014722403138875961, 0.014659087173640728, 0.01469762995839119, 0.014728434849530458, 0.014644498005509377, 0.014654289931058884, 0.014652173034846783, 0.014658832922577858, 0.014731873292475939, 0.01466238172724843, 0.014658804051578045, 0.01463105482980609, 0.014641200192272663, 0.014738588128238916, 0.014683405868709087, 0.01469094306230545, 0.014665110968053341, 0.014681831933557987, 0.014619152061641216, 0.014617050997912884, 0.014663896057754755, 0.01472154213115573, 0.014880380593240261, 0.014617685228586197, 0.014656553976237774, 0.01466976897791028, 0.014666671864688396, 0.014633672311902046, 0.014710783027112484, 0.014733124990016222, 0.014700519852340221, 0.014619615860283375, 0.014678453095257282, 0.014756286982446909, 0.014626188203692436, 0.014685185626149178, 0.014792350120842457, 0.014635282102972269, 0.014657340943813324, 0.014720357954502106, 0.01470497902482748, 0.014697848819196224, 0.01465993421152234, 0.014751937240362167, 0.014680699910968542, 0.014739107806235552, 0.014673382975161076, 0.014714534860104322, 0.014768123161047697, 0.014692161232233047, 0.01470970083028078, 0.01473728520795703, 0.014682251960039139, 0.01468708785250783, 0.014679200015962124, 0.014715224970132113, 0.014704498928040266, 0.014717006124556065, 0.014693418052047491, 0.014693147037178278, 0.014731697738170624, 0.01469434704631567, 0.014664470218122005, 0.015013232827186584, 0.014551395084708929, 0.014779029879719019, 0.014643413946032524, 0.014712078031152487, 0.01469966908916831, 0.014720407780259848, 0.01480203727260232, 0.014681336004287004, 0.014894915744662285, 0.014674847014248371, 0.014675237238407135, 0.014681152999401093, 0.014705930836498737, 0.014783867169171572, 0.014735526870936155, 0.014719102997332811, 0.014716063160449266, 0.014664832036942244, 0.014711825642734766, 0.014710686169564724, 0.014748923014849424, 0.014712607953697443, 0.014736826997250319, 0.014663368929177523, 0.014720163308084011, 0.014680787920951843, 0.014764907769858837, 0.014732078183442354, 0.014787339139729738, 0.014650625642389059, 0.014802440069615841, 0.014753836207091808, 0.014726318884640932, 0.015118030831217766, 0.014564932323992252, 0.014758084900677204, 0.014779035933315754, 0.01468711020424962, 0.014721718616783619, 0.014710470102727413, 0.014769468922168016, 0.014735582284629345, 0.014811207074671984, 0.014620848931372166, 0.01477167196571827, 0.014689549803733826, 0.014789608307182789, 0.01475084898993373, 0.014710333663970232, 0.014704326167702675, 0.014779020100831985, 0.014735656790435314, 0.014788844157010317, 0.014747646171599627, 0.014784725848585367, 0.014700158033519983, 0.014717349782586098, 0.01581595791503787, 0.014703216031193733, 0.014787092339247465, 0.014766494743525982, 0.014767526183277369, 0.014716095756739378, 0.014698189217597246, 0.014711502008140087, 0.014700353145599365, 0.014816279988735914, 0.014717581681907177, 0.014785992912948132, 0.014783666003495455, 0.014764702413231134, 0.014776155818253756, 0.014697783160954714, 0.014802878722548485, 0.014763917308300734, 0.014724933542311192, 0.01476600719615817, 0.014711137861013412, 0.0147154382430017, 0.014716126956045628, 0.014775830786675215, 0.014812379144132137, 0.014710458926856518, 0.014742086175829172, 0.014700980857014656, 0.014735665172338486, 0.014771892689168453, 0.014703217428177595, 0.014842433854937553, 0.014722384978085756, 0.014715749770402908, 0.014704777393490076, 0.014817808754742146, 0.014714212156832218, 0.014745358843356371, 0.014773248229175806, 0.014722694642841816, 0.014727458357810974, 0.014715803787112236, 0.014724057167768478, 0.014717791695147753, 0.014853553380817175, 0.014723433647304773, 0.014727733097970486, 0.01479047117754817, 0.014704209752380848, 0.014639046043157578, 0.014785591047257185, 0.014826969243586063, 0.01474683964625001, 0.014740553218871355, 0.014729566872119904, 0.014752436894923449, 0.014721422921866179, 0.014719798229634762, 0.014820856042206287, 0.014678257051855326, 0.014804193750023842, 0.01474927319213748, 0.014741427730768919, 0.014779437333345413, 0.014783364720642567, 0.0148216113448143, 0.014687379822134972, 0.014804863836616278, 0.01472188625484705, 0.014711559750139713, 0.014821899123489857, 0.014733654912561178, 0.014788269065320492, 0.014773156028240919, 0.014762277249246836, 0.014765360858291388, 0.014756354968994856, 0.014788250904530287, 0.014993845019489527, 0.014755524229258299, 0.014740814920514822, 0.014782120939344168, 0.014770010951906443, 0.014690481126308441, 0.014769050758332014, 0.01485940394923091, 0.014764136169105768, 0.01476724585518241, 0.014761601109057665, 0.014758941251784563, 0.014766030944883823, 0.014795046765357256, 0.014810595195740461, 0.014731913805007935, 0.014773119240999222, 0.014797014649957418, 0.015424484387040138], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  157.83    
Total input tokens:                      2097152   
Total generated tokens:                  229453    
Request throughput (req/s):              6.49      
Output token throughput (tok/s):         1453.76   
Total Token throughput (tok/s):          14740.87  
---------------Time to First Token----------------
Mean TTFT (ms):                          61822.44  
Median TTFT (ms):                        61541.67  
P99 TTFT (ms):                           124670.83 
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          214.35    
Median TPOT (ms):                        252.73    
P99 TPOT (ms):                           268.32    
---------------Inter-token Latency----------------
Mean ITL (ms):                           209.34    
Median ITL (ms):                         242.74    
P99 ITL (ms):                            290.21    
==================================================
