INFO 07-09 06:27:20 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. The text contains a mix of programming languages, including Java, Python, and possibly others.\n2. There are references to various technologies, such as macOS, GPIO, DataLoader, and Parcelable.\n3. Some words and phrases appear to be related to business, finance, and economics (e.g., "Profit estimator," "NYSE," "Lack sensationalmoth Legislative").\n4. There are also mentions of geographic locations (e.g., "Brazil," "Omaha," "Prague").\n5. The text includes some non-English words and phrases, such as "wei√ü" (German for "white"), " package" ( possibly referring to a software package), and "contadorulingsuchosspecifier" (which appears to be a made-up word).\n\n**Possible interpretations:**\n\n1. **Code snippet collection:** The text might be a collection of code snippets from various projects or sources, possibly gathered for reference or testing purposes.\n2. **Automated text generation:** The text could be the result of automated text generation, such as a', success=True, latency=6.45212511299178, output_tokens=256, ttft=2.8812310649082065, itl=[4.9221329391002655e-05, 0.013605474028736353, 0.013724552001804113, 0.013982310891151428, 0.01396212074905634, 0.013854326214641333, 0.013861570972949266, 0.014605997130274773, 0.013575880788266659, 0.013911583926528692, 0.014069478027522564, 0.013828857336193323, 0.014452609699219465, 0.01379022328183055, 0.013940901961177588, 0.013984128832817078, 0.013955182861536741, 0.014193406328558922, 0.014296199660748243, 0.01403628010302782, 0.013677512295544147, 0.014074901584535837, 0.013903458137065172, 0.013850003015249968, 0.013869049027562141, 0.013893763069063425, 0.016168265137821436, 0.013670316897332668, 0.013933919835835695, 0.013908376917243004, 0.0138592473231256, 0.013894084841012955, 0.014284043107181787, 0.013999172020703554, 0.014282424934208393, 0.013633905909955502, 0.014567614067345858, 0.013869023881852627, 0.014070184901356697, 0.013826341368258, 0.013987498823553324, 0.013830117881298065, 0.0146642392501235, 0.013281763065606356, 0.013948120642453432, 0.013819124083966017, 0.013969355262815952, 0.013956096023321152, 0.01387211587280035, 0.013834727928042412, 0.01400796789675951, 0.013908440247178078, 0.01389465294778347, 0.013830950018018484, 0.013909953646361828, 0.013967524282634258, 0.013853013049811125, 0.01390291703864932, 0.014549036044627428, 0.01343392999842763, 0.01390122389420867, 0.014338376931846142, 0.014055784791707993, 0.0137266144156456, 0.013877613004297018, 0.01398249575868249, 0.013840731233358383, 0.014123039785772562, 0.013702054973691702, 0.0139440200291574, 0.01394378300756216, 0.013901804108172655, 0.013942451681941748, 0.013890520203858614, 0.014669992960989475, 0.013836403843015432, 0.013952848967164755, 0.013874661177396774, 0.014086802024394274, 0.014028801117092371, 0.013611712027341127, 0.01434373902156949, 0.01386298704892397, 0.013967415783554316, 0.013939296826720238, 0.013934497255831957, 0.013966011814773083, 0.013875351287424564, 0.013952263630926609, 0.01387384906411171, 0.014010217040777206, 0.014611339196562767, 0.0142360869795084, 0.013704351149499416, 0.01446564495563507, 0.0138257946819067, 0.013949634041637182, 0.014084665104746819, 0.01394297182559967, 0.01386185921728611, 0.014002409763634205, 0.013869153335690498, 0.013996712863445282, 0.013871178030967712, 0.013906294014304876, 0.014056055806577206, 0.013817694038152695, 0.0145873399451375, 0.013539442326873541, 0.014280718751251698, 0.013601238839328289, 0.013899054378271103, 0.013994041830301285, 0.013898068107664585, 0.014038295950740576, 0.013886518776416779, 0.013916071970015764, 0.013932946138083935, 0.014475930947810411, 0.013983587268739939, 0.013916919939219952, 0.014010319020599127, 0.014144429937005043, 0.01414801087230444, 0.013871253002434969, 0.013859663158655167, 0.014132977928966284, 0.01400049589574337, 0.01417959714308381, 0.014285258017480373, 0.013897032011300325, 0.013960361946374178, 0.01426644204184413, 0.013630957808345556, 0.013849677983671427, 0.014052861370146275, 0.013987001962959766, 0.013931210618466139, 0.013909604400396347, 0.014219981618225574, 0.013874272350221872, 0.013971243053674698, 0.01407407596707344, 0.014175982680171728, 0.01395414024591446, 0.014680899679660797, 0.013605128042399883, 0.01441833795979619, 0.014391468372195959, 0.013632665853947401, 0.014038820751011372, 0.013930543325841427, 0.014306562952697277, 0.014149582013487816, 0.01372688403353095, 0.013951386790722609, 0.013940689153969288, 0.014029636047780514, 0.013985158875584602, 0.014038884080946445, 0.013905148953199387, 0.014659992884844542, 0.014015370048582554, 0.013959072064608335, 0.014052323997020721, 0.013877267017960548, 0.013937004841864109, 0.013957192189991474, 0.014289394952356815, 0.014085371978580952, 0.013994858134537935, 0.013774290680885315, 0.014053743332624435, 0.013870629947632551, 0.01388257509097457, 0.014049010816961527, 0.013988183811306953, 0.013946362305432558, 0.0139312450774014, 0.01399315195158124, 0.014161060098558664, 0.014053054619580507, 0.013843938242644072, 0.014247721992433071, 0.014295995701104403, 0.013825473375618458, 0.013995354063808918, 0.013985027559101582, 0.014149188064038754, 0.0139059042558074, 0.013982319738715887, 0.014004193246364594, 0.01398090086877346, 0.014502350240945816, 0.013441627845168114, 0.014521780889481306, 0.013831317890435457, 0.013919498305767775, 0.013886584900319576, 0.013982988893985748, 0.013993063010275364, 0.01393918227404356, 0.013911334797739983, 0.013871393166482449, 0.014434006996452808, 0.013964077923446894, 0.014659306034445763, 0.013430207036435604, 0.014546407852321863, 0.013635868206620216, 0.014011286664754152, 0.01396905304864049, 0.014034747146070004, 0.013935310766100883, 0.013928458094596863, 0.014005305245518684, 0.013978528790175915, 0.013928723987191916, 0.014129088260233402, 0.013936597853899002, 0.01405979273840785, 0.014050817117094994, 0.01398129528388381, 0.013930015731602907, 0.014027192257344723, 0.013991637621074915, 0.01397676207125187, 0.013946100138127804, 0.013855379074811935, 0.014292507898062468, 0.014028886798769236, 0.014512022025883198, 0.013671870343387127, 0.013921384699642658, 0.013909569010138512, 0.01408088393509388, 0.013890657108277082, 0.013870842289179564, 0.014022760558873415, 0.013954661320894957, 0.013906820677220821, 0.014188263099640608, 0.01374966325238347, 0.013944830745458603, 0.014051226899027824, 0.01424099924042821, 0.013646078761667013, 0.013876609038561583, 0.014066304080188274, 0.01396984700113535, 0.01401475491002202, 0.014459706377238035, 0.013756488915532827, 0.01392701268196106, 0.014188876375555992, 0.01428033784031868], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  46.06     
Total input tokens:                      262144    
Total generated tokens:                  239445    
Request throughput (req/s):              22.23     
Output token throughput (tok/s):         5198.56   
Total Token throughput (tok/s):          10889.94  
---------------Time to First Token----------------
Mean TTFT (ms):                          5913.70   
Median TTFT (ms):                        1007.05   
P99 TTFT (ms):                           13132.64  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          80.37     
Median TPOT (ms):                        90.70     
P99 TPOT (ms):                           114.70    
---------------Inter-token Latency----------------
Mean ITL (ms):                           79.23     
Median ITL (ms):                         48.74     
P99 ITL (ms):                            200.74    
==================================================
