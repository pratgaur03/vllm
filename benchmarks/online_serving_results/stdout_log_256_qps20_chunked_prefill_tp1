INFO 07-08 05:59:42 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-20-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `testProfit`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C# (e.g., `Cleanup.structure`)\n* Kotlin (e.g., `lateinit`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Data science and machine learning (e.g., `testProfit`, `estimator`)\n* Web development (e.g., `Component`, `Cleanup.structure`)\n* IoT and sensor-related topics (e.g., `SENSOR_BUSY`, `wifi`)\n* Finance and economics (e.g., `NYSE`, `profit`)\n* Geography and location-based services (e.g., `Latitude`, `Prague`)\n\n**Other observations:**\n\n* There are many typos and non-English words/phrases, which might indicate that the text is a result of a machine translation or a text generation algorithm.\n* Some parts of the", success=True, latency=3.8163007497787476, output_tokens=256, ttft=0.08307504374533892, itl=[3.3217016607522964e-05, 0.014709020033478737, 0.01449949899688363, 0.014509417116641998, 0.014549288898706436, 0.014540475327521563, 0.01457712659612298, 0.014543392229825258, 0.01452316576614976, 0.014565103221684694, 0.014609257224947214, 0.014580165967345238, 0.014511539600789547, 0.014623561408370733, 0.014517977833747864, 0.014520036987960339, 0.014542900957167149, 0.014584120828658342, 0.014591445215046406, 0.014980904757976532, 0.014212075155228376, 0.014570652972906828, 0.014590253122150898, 0.0146172228269279, 0.01457490399479866, 0.014608720317482948, 0.01467816298827529, 0.01460558082908392, 0.014623523224145174, 0.01459048269316554, 0.01462428318336606, 0.0146525539457798, 0.014560710173100233, 0.01470903167501092, 0.014565680176019669, 0.014625585172325373, 0.014597710687667131, 0.014605135191231966, 0.014580720104277134, 0.014679033774882555, 0.014658750034868717, 0.01457070279866457, 0.014621620066463947, 0.014654756989330053, 0.014683809131383896, 0.014647187199443579, 0.014628408011049032, 0.014685052912682295, 0.01462367782369256, 0.014625528827309608, 0.014685382135212421, 0.014714762102812529, 0.014556113164871931, 0.014626002870500088, 0.014638714957982302, 0.014607483986765146, 0.014614706858992577, 0.01464025629684329, 0.014658232685178518, 0.014650389086455107, 0.014667912852019072, 0.014701317064464092, 0.014674960169941187, 0.014612679835408926, 0.014637894928455353, 0.014702889136970043, 0.014571674168109894, 0.014751785900443792, 0.01451899018138647, 0.014584288001060486, 0.014621161855757236, 0.01464249612763524, 0.014637934975326061, 0.0146171348169446, 0.014707708265632391, 0.014669058844447136, 0.01465133298188448, 0.01464293384924531, 0.014920029323548079, 0.01456478564068675, 0.014657977968454361, 0.014673278201371431, 0.01462592277675867, 0.014631468337029219, 0.014676260761916637, 0.014704914297908545, 0.014706109650433064, 0.014683968387544155, 0.014691140968352556, 0.014646808616816998, 0.014645192306488752, 0.014677087776362896, 0.014634762890636921, 0.014644681010395288, 0.014628084376454353, 0.01467042788863182, 0.014701080974191427, 0.014649906195700169, 0.014651728793978691, 0.014640246983617544, 0.014623947907239199, 0.014821785967797041, 0.014576238114386797, 0.014677756931632757, 0.014614150859415531, 0.014562647324055433, 0.014619099907577038, 0.014630428049713373, 0.01485181087628007, 0.014382617082446814, 0.014627262018620968, 0.014599774032831192, 0.014640267938375473, 0.01468323078006506, 0.014600370079278946, 0.014756989199668169, 0.014625777024775743, 0.014624397736042738, 0.014609497040510178, 0.014688934199512005, 0.01462608901783824, 0.01460533682256937, 0.014736173208802938, 0.014597768895328045, 0.014658270869404078, 0.01463908702135086, 0.014642402995377779, 0.014616085216403008, 0.014603714924305677, 0.014658710919320583, 0.014611301012337208, 0.014631388243287802, 0.014633509796112776, 0.014651578851044178, 0.014593746047466993, 0.014585058204829693, 0.014657564926892519, 0.014594429172575474, 0.014639036729931831, 0.014629083219915628, 0.01468650484457612, 0.014670115895569324, 0.014667798299342394, 0.014632613863795996, 0.014610894955694675, 0.01468496909365058, 0.014690192881971598, 0.014626830816268921, 0.01459632208570838, 0.014615350868552923, 0.01472677243873477, 0.014645061921328306, 0.014601577073335648, 0.01465108199045062, 0.014610929880291224, 0.01463255099952221, 0.014936224091798067, 0.014331891667097807, 0.014599937945604324, 0.014638828113675117, 0.014667744282633066, 0.014637771993875504, 0.014603422954678535, 0.01466138195246458, 0.014613812789320946, 0.014604581985622644, 0.014620417263358831, 0.014868919737637043, 0.014607823919504881, 0.014588798396289349, 0.014711780939251184, 0.01461051870137453, 0.014680853113532066, 0.014680543914437294, 0.014974977355450392, 0.014534507878124714, 0.01463555172085762, 0.014634654391556978, 0.014597500674426556, 0.014589241240173578, 0.014593748841434717, 0.014630779158324003, 0.014597974717617035, 0.014623309951275587, 0.01466561621055007, 0.014616749249398708, 0.014658012893050909, 0.014750830829143524, 0.014561380259692669, 0.0145543129183352, 0.014638964086771011, 0.01465370086953044, 0.014585855882614851, 0.014592737890779972, 0.014644843060523272, 0.014700050931423903, 0.014644009992480278, 0.014553066343069077, 0.014699666760861874, 0.01459836307913065, 0.014652738813310862, 0.014682454988360405, 0.014773641247302294, 0.014612141996622086, 0.014684997964650393, 0.014644924085587263, 0.01464338880032301, 0.014616400934755802, 0.014623070135712624, 0.014680549036711454, 0.01460976991802454, 0.014753806870430708, 0.014641056302934885, 0.014646352734416723, 0.014650485944002867, 0.014651647303253412, 0.014616814907640219, 0.01459901686757803, 0.014670693315565586, 0.014625849667936563, 0.014672939199954271, 0.014665949158370495, 0.014688759576529264, 0.014643264003098011, 0.014680152293294668, 0.014676372054964304, 0.014655706938356161, 0.014695832971483469, 0.014655688777565956, 0.014670216012746096, 0.014623543247580528, 0.014634356833994389, 0.01472495123744011, 0.014598318841308355, 0.014619808178395033, 0.014639365952461958, 0.014666297007352114, 0.014604853000491858, 0.014653428923338652, 0.014703331049531698, 0.014635372906923294, 0.014602284878492355, 0.014715634286403656, 0.0146742039360106, 0.014650499913841486, 0.014782160054892302, 0.01452313270419836, 0.014644804410636425, 0.014652340672910213, 0.014652411919087172, 0.014682210981845856, 0.014725999440997839, 0.014715208671987057, 0.014599529094994068, 0.014650387223809958, 0.014966320712119341], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  61.86     
Total input tokens:                      262144    
Total generated tokens:                  239150    
Request throughput (req/s):              16.55     
Output token throughput (tok/s):         3866.12   
Total Token throughput (tok/s):          8103.95   
---------------Time to First Token----------------
Mean TTFT (ms):                          211.28    
Median TTFT (ms):                        213.65    
P99 TTFT (ms):                           396.12    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          60.92     
Median TPOT (ms):                        66.49     
P99 TPOT (ms):                           72.96     
---------------Inter-token Latency----------------
Mean ITL (ms):                           60.37     
Median ITL (ms):                         38.94     
P99 ITL (ms):                            136.85    
==================================================
