INFO 07-08 07:11:58 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-20-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or code snippet.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as accented letters, Cyrillic characters, and Chinese characters. These characters may indicate that the text has been copied from different sources or languages.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what you are trying to achieve. If you can provide more context or clarify what", success=True, latency=3.89540090970695, output_tokens=256, ttft=0.14857390569522977, itl=[4.540290683507919e-05, 0.014860107097774744, 0.014489133842289448, 0.014503691345453262, 0.014524249825626612, 0.014641901012510061, 0.014521075878292322, 0.014788694214075804, 0.014805607963353395, 0.01456408016383648, 0.014601257629692554, 0.014788722153753042, 0.014615900814533234, 0.014598984271287918, 0.014570538885891438, 0.01462735328823328, 0.014820420648902655, 0.014839407987892628, 0.014556314330548048, 0.014732646755874157, 0.01489272527396679, 0.014886194840073586, 0.014844815712422132, 0.014634797349572182, 0.014897753950208426, 0.0147507069632411, 0.014413346070796251, 0.014601025730371475, 0.01467809034511447, 0.01466192165389657, 0.014537638984620571, 0.014578086324036121, 0.014680746011435986, 0.014627621043473482, 0.014543057885020971, 0.01469193585216999, 0.014636198058724403, 0.01465233787894249, 0.014645983930677176, 0.014680406078696251, 0.01459431927651167, 0.014667185954749584, 0.014601565897464752, 0.014648665208369493, 0.014677471946924925, 0.014626675751060247, 0.01470338786020875, 0.014648979064077139, 0.01467035710811615, 0.01489674486219883, 0.014853866305202246, 0.014786460902541876, 0.01453582989051938, 0.014701568987220526, 0.014624676201492548, 0.01466815685853362, 0.014654550235718489, 0.014771047979593277, 0.014612894970923662, 0.014682830777019262, 0.014706239104270935, 0.014609229750931263, 0.014913167338818312, 0.014705376699566841, 0.014639776200056076, 0.014664184767752886, 0.014947790186852217, 0.01450395816937089, 0.01466894568875432, 0.014660679269582033, 0.014662372879683971, 0.014676996972411871, 0.014668912161141634, 0.014707510825246572, 0.014600272290408611, 0.01467825984582305, 0.014669145923107862, 0.014667800161987543, 0.014677641913294792, 0.014643981121480465, 0.014732451643794775, 0.014636966399848461, 0.01466660387814045, 0.014696072787046432, 0.014688445255160332, 0.014626814983785152, 0.014636097941547632, 0.0149201569147408, 0.014489586930721998, 0.014698903076350689, 0.01466355798766017, 0.01472804881632328, 0.015061865095049143, 0.014388229232281446, 0.014699819963425398, 0.014630622696131468, 0.014606334269046783, 0.014778309036046267, 0.014655194710940123, 0.014620613306760788, 0.014626981690526009, 0.014675336424261332, 0.0146745047532022, 0.014627600088715553, 0.014683219138532877, 0.014686116948723793, 0.01462003169581294, 0.014949324075132608, 0.014441048260778189, 0.01468630600720644, 0.014622041955590248, 0.014694352634251118, 0.014687699265778065, 0.014635012950748205, 0.01466614380478859, 0.014587920159101486, 0.01468187803402543, 0.014684339985251427, 0.014696633908897638, 0.014840899966657162, 0.014894709922373295, 0.01471044635400176, 0.014910886064171791, 0.014604955911636353, 0.014631216879934072, 0.014964389149099588, 0.014636592008173466, 0.014849798753857613, 0.014720452018082142, 0.014836477115750313, 0.014588443096727133, 0.014689092990010977, 0.014704119879752398, 0.014631000813096762, 0.014681460335850716, 0.014700390864163637, 0.014781112782657146, 0.014623013325035572, 0.014655090868473053, 0.014748401939868927, 0.014597701840102673, 0.01465281331911683, 0.014716773759573698, 0.01461463002488017, 0.014629839919507504, 0.014668405055999756, 0.014655479229986668, 0.014718974009156227, 0.014750391710549593, 0.014623500406742096, 0.014968277886509895, 0.014698604121804237, 0.014713902957737446, 0.014643455855548382, 0.014649055898189545, 0.014665900263935328, 0.014735825825482607, 0.01461761211976409, 0.014592390041798353, 0.014631949830800295, 0.014694399200379848, 0.014627869706600904, 0.014678020030260086, 0.014618366956710815, 0.01466607116162777, 0.014663933776319027, 0.014802856370806694, 0.01466080592945218, 0.01468131085857749, 0.014757704921066761, 0.01483789598569274, 0.014896265231072903, 0.014717346988618374, 0.01461992971599102, 0.014616153202950954, 0.014722759835422039, 0.01468849927186966, 0.014644881710410118, 0.01470647007226944, 0.0146480742841959, 0.014676407910883427, 0.014691407792270184, 0.015276717022061348, 0.014892296865582466, 0.014631373342126608, 0.014677834697067738, 0.014700711239129305, 0.014727354049682617, 0.014943524729460478, 0.014673135243356228, 0.0146342976950109, 0.01471007615327835, 0.014687465969473124, 0.014727265108376741, 0.01469816593453288, 0.01496558915823698, 0.01472272863611579, 0.01480916514992714, 0.014634592924267054, 0.014867720194160938, 0.014546581078320742, 0.014691168908029795, 0.014605549164116383, 0.01469828188419342, 0.014939160086214542, 0.01467416062951088, 0.014649400021880865, 0.01489449618384242, 0.014659109991043806, 0.014736218843609095, 0.014881185255944729, 0.014602428767830133, 0.014653100166469812, 0.014708909206092358, 0.01470972178503871, 0.014937841799110174, 0.014830398373305798, 0.014439880847930908, 0.014667497016489506, 0.014697771985083818, 0.014673123136162758, 0.01468400377780199, 0.014656316954642534, 0.014671321026980877, 0.014711129944771528, 0.014680409338325262, 0.01470133475959301, 0.014717500191181898, 0.014655902050435543, 0.014657652005553246, 0.014685845002532005, 0.014662571717053652, 0.014703485183417797, 0.014676793944090605, 0.014642316848039627, 0.014681401196867228, 0.014670609962195158, 0.014738986734300852, 0.01462223008275032, 0.014694903045892715, 0.014635904226452112, 0.01467600790783763, 0.014642405789345503, 0.014703985303640366, 0.01468100305646658, 0.014656458981335163, 0.014665300957858562, 0.014728781767189503, 0.0146551881916821, 0.014639378059655428, 0.014683343935757875, 0.01477381493896246, 0.014639862813055515, 0.014663515146821737, 0.01469207601621747, 0.015040318015962839], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  84.69     
Total input tokens:                      1048576   
Total generated tokens:                  225775    
Request throughput (req/s):              12.09     
Output token throughput (tok/s):         2665.91   
Total Token throughput (tok/s):          15047.30  
---------------Time to First Token----------------
Mean TTFT (ms):                          8778.85   
Median TTFT (ms):                        6399.03   
P99 TTFT (ms):                           19403.38  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          147.39    
Median TPOT (ms):                        167.89    
P99 TPOT (ms):                           230.42    
---------------Inter-token Latency----------------
Mean ITL (ms):                           143.64    
Median ITL (ms):                         178.35    
P99 ITL (ms):                            259.52    
==================================================
