INFO 07-08 05:27:02 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-10-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.8271960550919175, output_tokens=256, ttft=0.07931050704792142, itl=[3.618793562054634e-05, 0.014220811892300844, 0.014557219110429287, 0.014436515048146248, 0.014636845793575048, 0.014675493352115154, 0.014637038577347994, 0.014633569400757551, 0.01460183272138238, 0.014578135218471289, 0.014624679926782846, 0.014679739717394114, 0.014522361103445292, 0.014595556072890759, 0.01466551423072815, 0.014606054872274399, 0.014626018702983856, 0.014604339376091957, 0.014683982823044062, 0.014604307245463133, 0.014583327807486057, 0.014720112085342407, 0.014619818888604641, 0.014649502001702785, 0.014655227772891521, 0.014681859407573938, 0.014627079013735056, 0.01492844196036458, 0.014386008027940989, 0.014625729992985725, 0.014644111040979624, 0.01464563375338912, 0.01466890424489975, 0.014650551602244377, 0.014740904327481985, 0.014606805052608252, 0.014659395907074213, 0.014540445059537888, 0.014669361989945173, 0.014683232642710209, 0.014700200408697128, 0.014709941577166319, 0.014643690083175898, 0.014610079117119312, 0.014701777137815952, 0.014656076673418283, 0.014727342408150434, 0.014689190778881311, 0.014761191792786121, 0.014510125387459993, 0.014733068645000458, 0.014640969224274158, 0.014913289807736874, 0.014698189217597246, 0.014693040866404772, 0.014729300048202276, 0.01457308093085885, 0.014680765103548765, 0.014664961025118828, 0.014712877105921507, 0.014754157047718763, 0.01458726404234767, 0.014744136948138475, 0.01462889974936843, 0.014716262929141521, 0.014710461255162954, 0.014742827042937279, 0.014595658052712679, 0.014951092656701803, 0.014417078346014023, 0.014692316763103008, 0.014639826957136393, 0.01472783600911498, 0.014647996984422207, 0.014692225027829409, 0.014727325178682804, 0.0147056570276618, 0.014712500851601362, 0.014642140828073025, 0.014623562339693308, 0.014740207698196173, 0.014550730120390654, 0.014632738195359707, 0.014631765894591808, 0.014697860926389694, 0.014685293193906546, 0.014703882858157158, 0.014735506847500801, 0.014720605220645666, 0.014658619649708271, 0.014700964093208313, 0.014632181264460087, 0.014661776833236217, 0.014736989978700876, 0.014669312164187431, 0.014664115849882364, 0.014745497144758701, 0.014731945004314184, 0.014695895835757256, 0.014800698030740023, 0.014734269119799137, 0.014684601686894894, 0.014682566281408072, 0.014765246771275997, 0.014677523169666529, 0.015042917802929878, 0.014875393360853195, 0.014907949604094028, 0.01481740502640605, 0.014871833380311728, 0.01469942182302475, 0.014685029163956642, 0.014797593001276255, 0.014703219756484032, 0.014683088287711143, 0.01469670981168747, 0.014740585815161467, 0.014611696358770132, 0.014702729880809784, 0.014696308877319098, 0.014681837987154722, 0.014742634259164333, 0.014707277994602919, 0.014748123940080404, 0.014602921903133392, 0.014675798825919628, 0.01467874413356185, 0.014903443865478039, 0.014621760230511427, 0.01463095797225833, 0.014779111836105585, 0.014685607049614191, 0.014697999227792025, 0.014733770862221718, 0.014646287076175213, 0.014634792692959309, 0.014718626160174608, 0.014794774819165468, 0.014636744279414415, 0.014622833114117384, 0.014712723903357983, 0.014700750820338726, 0.014600038062781096, 0.014772845897823572, 0.014627693220973015, 0.014745310880243778, 0.014605741947889328, 0.014722876250743866, 0.014700773637741804, 0.014708166010677814, 0.014843331184238195, 0.014665110036730766, 0.014693940058350563, 0.014708565082401037, 0.014716760721057653, 0.014704226981848478, 0.014677209313958883, 0.01489455858245492, 0.014705428387969732, 0.014690768904983997, 0.014653156977146864, 0.014743436127901077, 0.014737308956682682, 0.014598289970308542, 0.01479497179389, 0.014606313314288855, 0.014783274848014116, 0.014704539906233549, 0.014717086218297482, 0.014753127936273813, 0.014730022754520178, 0.014767395332455635, 0.014695049729198217, 0.014680773951113224, 0.01471178699284792, 0.014742557890713215, 0.014770944137126207, 0.015038413926959038, 0.014420798048377037, 0.014716414269059896, 0.014757904689759016, 0.014752159360796213, 0.014707637019455433, 0.014691144693642855, 0.014818237163126469, 0.014561581891030073, 0.014808209147304296, 0.014584466814994812, 0.014678810257464647, 0.014762741979211569, 0.014714422635734081, 0.014702774118632078, 0.01472818898037076, 0.014656506013125181, 0.014761444181203842, 0.014684223104268312, 0.014744155574589968, 0.01472878735512495, 0.014795072842389345, 0.014581555966287851, 0.014649933204054832, 0.014721204992383718, 0.01464235270395875, 0.014703708235174417, 0.01475808210670948, 0.014830628875643015, 0.01473546214401722, 0.014688764698803425, 0.014706302899867296, 0.014753494411706924, 0.014771218877285719, 0.014574520755559206, 0.01473465422168374, 0.014781286008656025, 0.014693693723529577, 0.014763487037271261, 0.014741505961865187, 0.014658959116786718, 0.014790756162256002, 0.014631696976721287, 0.014751798938959837, 0.014751531183719635, 0.01473961304873228, 0.014708516653627157, 0.0147685999982059, 0.014651922974735498, 0.0146835851483047, 0.014777680858969688, 0.014685616362839937, 0.014729422982782125, 0.014711000956594944, 0.014697135891765356, 0.01475853007286787, 0.014726023655384779, 0.014659798238426447, 0.014697934035211802, 0.01496230298653245, 0.014790848828852177, 0.014711423311382532, 0.014740293845534325, 0.014710474759340286, 0.01469151908531785, 0.014741932973265648, 0.014755172189325094, 0.01471482589840889, 0.014740507118403912, 0.01473724888637662, 0.014678929932415485, 0.014661447145044804, 0.014696617145091295, 0.014710608869791031, 0.014640696812421083, 0.014813707210123539, 0.014731050934642553, 0.014713570941239595, 0.014882040210068226], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  113.59    
Total input tokens:                      131072    
Total generated tokens:                  240230    
Request throughput (req/s):              9.01      
Output token throughput (tok/s):         2114.90   
Total Token throughput (tok/s):          3268.81   
---------------Time to First Token----------------
Mean TTFT (ms):                          109.63    
Median TTFT (ms):                        94.27     
P99 TTFT (ms):                           251.15    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          25.55     
Median TPOT (ms):                        25.56     
P99 TPOT (ms):                           30.00     
---------------Inter-token Latency----------------
Mean ITL (ms):                           25.45     
Median ITL (ms):                         19.78     
P99 ITL (ms):                            84.55     
==================================================
