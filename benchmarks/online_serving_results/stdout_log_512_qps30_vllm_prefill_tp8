INFO 07-10 04:28:21 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-30-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and contexts. I'll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed languages**: The text contains code snippets and keywords from multiple programming languages, including Java, Python, C++, and JavaScript.\n2. **Technical terms**: There are many technical terms and concepts mentioned, such as machine learning, data loading, GPIO, sensors, and more.\n3. **Company and product names**: Some company and product names are mentioned, like Volvo, Xiaomi, and macOS.\n4. **Geographic locations**: Several geographic locations are mentioned, including Brazil, Omaha, and Prague.\n5. **Random words and phrases**: The text also contains random words and phrases that don't seem to be related to any specific topic or context.\n\n**Possible explanations:**\n\n1. **Code dump**: It's possible that someone has dumped a large amount of code and text into a single block, without any organization or context.\n2. **Automated text generation**: The text might have been generated automatically using a tool or algorithm that combines different sources of text and code.\n3. **Error or glitch**:", success=True, latency=3.8394763097167015, output_tokens=256, ttft=0.1923501486890018, itl=[4.0363986045122147e-05, 0.014592211227864027, 0.014017221983522177, 0.014244947116822004, 0.014237502124160528, 0.01419576071202755, 0.014168330002576113, 0.014179441146552563, 0.014236700721085072, 0.01417588721960783, 0.014204862993210554, 0.014169670175760984, 0.014239628799259663, 0.014106497168540955, 0.014148938935250044, 0.014372353907674551, 0.014054703060537577, 0.01429597893729806, 0.014157486148178577, 0.014296877663582563, 0.01418277807533741, 0.014252664055675268, 0.014182367827743292, 0.014377686195075512, 0.014120081905275583, 0.014215792994946241, 0.014297007117420435, 0.014193982817232609, 0.014278462156653404, 0.01417551701888442, 0.014227442909032106, 0.01437149103730917, 0.014155535027384758, 0.014159462880343199, 0.014366806950420141, 0.014189995359629393, 0.014331118669360876, 0.014068188145756721, 0.014263270888477564, 0.014330364298075438, 0.014222454745322466, 0.014279154129326344, 0.014482452068477869, 0.014131051022559404, 0.014503750950098038, 0.014168335124850273, 0.014267602935433388, 0.014164811000227928, 0.014234354719519615, 0.01421876810491085, 0.014356281142681837, 0.014240754768252373, 0.014568927232176065, 0.01403423072770238, 0.014315132983028889, 0.014092770405113697, 0.01422612089663744, 0.014241965021938086, 0.014315614942461252, 0.01425533602014184, 0.014190781861543655, 0.014238405041396618, 0.014183364808559418, 0.01414463110268116, 0.014295869041234255, 0.01419339794665575, 0.014266653917729855, 0.014204725157469511, 0.01421661814674735, 0.014473957940936089, 0.013989783823490143, 0.014255544170737267, 0.014191819820553064, 0.014466848224401474, 0.014253772795200348, 0.014206042978912592, 0.014287780970335007, 0.014263634104281664, 0.01415913226082921, 0.014323665760457516, 0.014366419985890388, 0.014256163034588099, 0.014206164982169867, 0.01409989595413208, 0.014338248874992132, 0.014168328139930964, 0.014260527212172747, 0.014272958971560001, 0.014086677692830563, 0.014274080283939838, 0.01429848000407219, 0.01422938983887434, 0.014161096885800362, 0.014241822063922882, 0.01412072591483593, 0.01427017617970705, 0.014252375811338425, 0.014159969054162502, 0.01429586112499237, 0.014207025989890099, 0.014361085835844278, 0.014370942022651434, 0.014166340231895447, 0.014234249014407396, 0.014268821105360985, 0.0143399597145617, 0.014185523148626089, 0.01414485415443778, 0.014388883952051401, 0.014269118662923574, 0.014190795365720987, 0.01441618101671338, 0.014342695940285921, 0.014056551735848188, 0.014411202166229486, 0.014254416804760695, 0.01441203709691763, 0.01413954421877861, 0.014139009639620781, 0.01430268818512559, 0.014093649107962847, 0.014246006030589342, 0.014325827825814486, 0.014175449032336473, 0.014417109079658985, 0.014204165898263454, 0.01423133909702301, 0.014309144113212824, 0.014355361927300692, 0.014168569818139076, 0.01435408229008317, 0.014174652751535177, 0.01420873124152422, 0.0141798947006464, 0.014264550991356373, 0.014265640173107386, 0.014295942150056362, 0.014207116793841124, 0.014251429121941328, 0.01428860891610384, 0.014289726968854666, 0.014153582975268364, 0.014370752964168787, 0.014190346002578735, 0.014359216205775738, 0.014302311930805445, 0.014470024034380913, 0.014048751909285784, 0.0144474389962852, 0.01403219485655427, 0.014215676113963127, 0.01436153193935752, 0.01419410714879632, 0.014395962934941053, 0.014213654212653637, 0.014254008885473013, 0.01429912680760026, 0.014141967985779047, 0.01426838617771864, 0.014336795080453157, 0.014115460682660341, 0.014271120075136423, 0.014213921036571264, 0.014367540832608938, 0.014289714395999908, 0.014458131976425648, 0.014035668689757586, 0.014219942968338728, 0.01436379412189126, 0.01432846114039421, 0.014319115784019232, 0.01438859524205327, 0.01422816701233387, 0.014169272966682911, 0.014192706905305386, 0.014339502900838852, 0.014252889901399612, 0.014177211094647646, 0.014361150097101927, 0.014238032046705484, 0.014225272927433252, 0.014250228181481361, 0.014216728042811155, 0.014167057815939188, 0.014339278917759657, 0.014377327170222998, 0.014301009941846132, 0.014262739103287458, 0.014226523693650961, 0.014166697394102812, 0.014362251851707697, 0.014300242997705936, 0.014253064058721066, 0.014330281876027584, 0.014175307005643845, 0.014279548078775406, 0.014177276752889156, 0.014370148070156574, 0.014175860211253166, 0.014341517817229033, 0.014320577960461378, 0.01430313428863883, 0.014350466895848513, 0.014277687761932611, 0.01431092619895935, 0.014394163154065609, 0.014183070976287127, 0.014282939955592155, 0.014185860753059387, 0.014468953013420105, 0.014211164321750402, 0.014319221954792738, 0.014439476653933525, 0.014169103000313044, 0.014166824985295534, 0.014305787160992622, 0.01422591507434845, 0.014311226084828377, 0.014583328738808632, 0.01575552998110652, 0.014979928266257048, 0.014947266783565283, 0.0163972950540483, 0.01665269723162055, 0.016636084765195847, 0.015471871942281723, 0.014354433864355087, 0.014154014177620411, 0.014197918120771646, 0.014316830784082413, 0.01418142020702362, 0.014411472715437412, 0.014173773117363453, 0.01422988623380661, 0.014322875998914242, 0.014416106976568699, 0.014156432822346687, 0.014313215855509043, 0.0143186179921031, 0.014295544009655714, 0.014246863313019276, 0.014358854852616787, 0.014216150157153606, 0.014227755833417177, 0.01432769512757659, 0.01427821395918727, 0.01429132092744112, 0.014225062914192677, 0.01435699313879013, 0.01446801284328103, 0.014119256287813187, 0.0142182856798172, 0.014186904300004244, 0.014439000748097897, 0.014192088041454554, 0.014515995979309082], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  56.06     
Total input tokens:                      524288    
Total generated tokens:                  230450    
Request throughput (req/s):              18.27     
Output token throughput (tok/s):         4111.07   
Total Token throughput (tok/s):          13464.01  
---------------Time to First Token----------------
Mean TTFT (ms):                          4740.46   
Median TTFT (ms):                        758.17    
P99 TTFT (ms):                           12419.12  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          101.66    
Median TPOT (ms):                        101.63    
P99 TPOT (ms):                           267.74    
---------------Inter-token Latency----------------
Mean ITL (ms):                           95.22     
Median ITL (ms):                         50.56     
P99 ITL (ms):                            828.52    
==================================================
