INFO 07-10 05:06:49 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-5-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `numpy`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C++ (e.g., `GPIO`)\n* Kotlin (e.g., `data class`)\n\n**Domains and topics:**\n\n* Machine learning (e.g., `DataLoader`, `estimator`)\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Web development (e.g., `Component`, `React`)\n* IoT (e.g., `GPIO`)\n* Finance (e.g., `NYSE`, `profit`)\n* Geography (e.g., `Latitude`, `Longitude`)\n* Politics (e.g., `Cuomo`, `Judicial`)\n\n**Other observations:**\n\n* There are many typos and grammatical errors throughout the text.\n* Some words and phrases appear to be randomly inserted or concatenated (e.g., `cheng Milit"&finding`, `flotation.sensorBrazil`).\n* There', success=True, latency=3.672202918678522, output_tokens=256, ttft=0.07860593590885401, itl=[3.6893878132104874e-05, 0.013571289833635092, 0.013980105984956026, 0.014095569960772991, 0.014056748244911432, 0.014131983742117882, 0.014168483205139637, 0.014220221899449825, 0.014213297981768847, 0.014096408151090145, 0.014031990896910429, 0.014146544970571995, 0.014020510949194431, 0.014132336247712374, 0.014059384819120169, 0.014088836032897234, 0.014068055897951126, 0.014191326219588518, 0.01421163184568286, 0.014053807128220797, 0.014061059802770615, 0.014167039189487696, 0.014178834855556488, 0.014041739981621504, 0.014170384965837002, 0.014235773123800755, 0.013956793118268251, 0.014181619975715876, 0.014108181931078434, 0.014157034922391176, 0.014092069119215012, 0.014057368971407413, 0.014203551225364208, 0.013991575688123703, 0.014263240154832602, 0.0141427768394351, 0.013993707951158285, 0.014092739205807447, 0.014180426951497793, 0.014083784073591232, 0.013951759785413742, 0.014147331938147545, 0.01410910440608859, 0.01412174478173256, 0.014108463190495968, 0.014025371056050062, 0.014201868791133165, 0.014129939954727888, 0.014019809197634459, 0.014110796619206667, 0.01420362712815404, 0.014180105179548264, 0.01400795578956604, 0.014466341119259596, 0.013740052003413439, 0.013993448112159967, 0.014080644119530916, 0.014043410774320364, 0.013977739959955215, 0.014068187214434147, 0.014002394862473011, 0.01431462075561285, 0.01403983635827899, 0.01410250598564744, 0.014115959871560335, 0.014025195967406034, 0.014085664879530668, 0.014091138262301683, 0.014073072001338005, 0.014057375956326723, 0.01410963200032711, 0.013972728978842497, 0.014137113001197577, 0.01401376910507679, 0.014065610710531473, 0.014158155303448439, 0.014056458603590727, 0.01406348217278719, 0.014074481092393398, 0.013994712848216295, 0.014474380295723677, 0.013932477682828903, 0.014079207088798285, 0.01399802090600133, 0.014156741090118885, 0.014036952052265406, 0.014145811088383198, 0.014117748010903597, 0.014007792808115482, 0.014435057993978262, 0.013701293151825666, 0.013986148871481419, 0.014153480995446444, 0.014104133006185293, 0.014103121124207973, 0.014062121044844389, 0.014092237688601017, 0.014049377292394638, 0.0140852858312428, 0.014161350205540657, 0.01400006702169776, 0.014074716717004776, 0.014066864270716906, 0.014192740898579359, 0.014074475038796663, 0.014100144151598215, 0.014079018961638212, 0.014098224695771933, 0.014075125101953745, 0.014091614168137312, 0.01436459505930543, 0.013847047928720713, 0.014106223825365305, 0.014193409122526646, 0.014076230116188526, 0.01406604889780283, 0.014097325038164854, 0.01397174596786499, 0.014151717070490122, 0.013989788014441729, 0.014145769644528627, 0.014115243218839169, 0.014066534116864204, 0.014042889699339867, 0.014104964211583138, 0.0141658796928823, 0.014095827005803585, 0.01404003007337451, 0.014000696130096912, 0.01406230591237545, 0.01417112909257412, 0.014020298141986132, 0.014056355692446232, 0.013968519400805235, 0.014062828850001097, 0.01404342195019126, 0.014074751175940037, 0.014047086704522371, 0.01402258686721325, 0.014178639277815819, 0.014072661753743887, 0.01404117513448, 0.014022389892488718, 0.014067719224840403, 0.014110801741480827, 0.014082696288824081, 0.014174990821629763, 0.014133940916508436, 0.014134764205664396, 0.014073737896978855, 0.014048919081687927, 0.014084234833717346, 0.014066053088754416, 0.014204468112438917, 0.014056935906410217, 0.014041039161384106, 0.014044683892279863, 0.014199294149875641, 0.014143901877105236, 0.014054093975573778, 0.014222320169210434, 0.014039043802767992, 0.014052506070584059, 0.014038221910595894, 0.014081985224038363, 0.014231270644813776, 0.014040088281035423, 0.014112386852502823, 0.013906620908528566, 0.014061633963137865, 0.01409007329493761, 0.014057447668164968, 0.014051806181669235, 0.014050479047000408, 0.014126126188784838, 0.014101043809205294, 0.014276355970650911, 0.014101639855653048, 0.014011246152222157, 0.013993142172694206, 0.014087890740484, 0.014061474241316319, 0.014128138776868582, 0.014249667059630156, 0.014185877982527018, 0.014104082249104977, 0.01417505880817771, 0.014071525074541569, 0.014019922818988562, 0.014133200980722904, 0.013965822290629148, 0.01410757889971137, 0.014128353912383318, 0.014086605980992317, 0.01401229901239276, 0.01406312920153141, 0.014174351003021002, 0.014106648974120617, 0.014088337775319815, 0.014067476149648428, 0.014095098711550236, 0.014116392005234957, 0.014157106168568134, 0.014121322892606258, 0.01404884411022067, 0.014060569927096367, 0.014075042214244604, 0.014095308724790812, 0.0141779282130301, 0.014190576039254665, 0.014056816697120667, 0.013963489327579737, 0.014121321961283684, 0.01410709973424673, 0.014131368137896061, 0.01409999979659915, 0.014010011218488216, 0.01419260399416089, 0.014066806063055992, 0.014152094721794128, 0.014102497138082981, 0.014073855243623257, 0.014063941780477762, 0.014001492876559496, 0.01417282409965992, 0.014091456308960915, 0.01404520682990551, 0.014082835055887699, 0.014236550778150558, 0.01417918922379613, 0.014059778768569231, 0.014389233198016882, 0.013838985934853554, 0.014087654184550047, 0.014156489633023739, 0.014014853164553642, 0.014107913244515657, 0.014077751897275448, 0.014148234855383635, 0.01408110884949565, 0.0140920951962471, 0.014117951039224863, 0.01424910593777895, 0.014118542894721031, 0.014107808005064726, 0.014037000015377998, 0.014139016158878803, 0.014029534067958593, 0.014065575785934925, 0.014062066096812487, 0.014017119072377682, 0.014024195726960897, 0.014064333401620388, 0.014149829745292664, 0.014072279911488295, 0.014404286164790392], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  221.21    
Total input tokens:                      262144    
Total generated tokens:                  239244    
Request throughput (req/s):              4.63      
Output token throughput (tok/s):         1081.50   
Total Token throughput (tok/s):          2266.52   
---------------Time to First Token----------------
Mean TTFT (ms):                          84.19     
Median TTFT (ms):                        80.19     
P99 TTFT (ms):                           141.81    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          20.36     
Median TPOT (ms):                        20.16     
P99 TPOT (ms):                           25.77     
---------------Inter-token Latency----------------
Mean ITL (ms):                           20.27     
Median ITL (ms):                         17.46     
P99 ITL (ms):                            73.13     
==================================================
