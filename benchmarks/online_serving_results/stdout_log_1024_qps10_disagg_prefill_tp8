INFO 07-10 02:34:42 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-10-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=4.7620276552625, output_tokens=256, ttft=4.760627807117999, itl=[4.817591980099678e-05, 1.6219913959503174e-05, 9.26293432712555e-06, 6.949994713068008e-06, 5.665235221385956e-06, 5.997717380523682e-06, 5.526002496480942e-06, 5.484092980623245e-06, 5.115289241075516e-06, 5.505979061126709e-06, 4.8228539526462555e-06, 5.015172064304352e-06, 5.058944225311279e-06, 4.882924258708954e-06, 4.72506508231163e-06, 5.243811756372452e-06, 4.937872290611267e-06, 5.243346095085144e-06, 5.087815225124359e-06, 5.277805030345917e-06, 5.170237272977829e-06, 5.554873496294022e-06, 4.988163709640503e-06, 5.070120096206665e-06, 4.961621016263962e-06, 5.315057933330536e-06, 4.927162081003189e-06, 4.748813807964325e-06, 5.236361175775528e-06, 4.816800355911255e-06, 5.519948899745941e-06, 5.30807301402092e-06, 5.157198756933212e-06, 6.338581442832947e-06, 4.791188985109329e-06, 4.7818757593631744e-06, 4.829373210668564e-06, 4.815869033336639e-06, 4.908069968223572e-06, 4.773028194904327e-06, 4.810746759176254e-06, 6.600283086299896e-06, 4.894565790891647e-06, 4.9280934035778046e-06, 4.745088517665863e-06, 4.8209913074970245e-06, 4.71901148557663e-06, 4.740897566080093e-06, 4.83635812997818e-06, 4.99282032251358e-06, 5.058012902736664e-06, 4.779081791639328e-06, 4.987698048353195e-06, 5.6051649153232574e-06, 4.834029823541641e-06, 5.111098289489746e-06, 4.9280934035778046e-06, 4.882924258708954e-06, 5.3406693041324615e-06, 5.199108272790909e-06, 4.9551017582416534e-06, 4.789792001247406e-06, 4.68594953417778e-06, 5.536247044801712e-06, 4.825182259082794e-06, 6.005633622407913e-06, 5.082227289676666e-06, 4.842877388000488e-06, 4.693865776062012e-06, 4.795379936695099e-06, 5.780719220638275e-06, 4.706904292106628e-06, 4.658009856939316e-06, 4.837289452552795e-06, 5.12879341840744e-06, 4.827976226806641e-06, 4.715286195278168e-06, 6.4070336520671844e-06, 4.7120265662670135e-06, 5.956739187240601e-06, 5.600973963737488e-06, 4.9280934035778046e-06, 4.807021468877792e-06, 5.30807301402092e-06, 4.789792001247406e-06, 4.868023097515106e-06, 5.448237061500549e-06, 4.787929356098175e-06, 4.837755113840103e-06, 5.370005965232849e-06, 4.6622008085250854e-06, 4.775822162628174e-06, 4.875939339399338e-06, 6.9229863584041595e-06, 5.379319190979004e-06, 4.945788532495499e-06, 7.327180355787277e-06, 4.983972758054733e-06, 4.705972969532013e-06, 4.808884114027023e-06, 6.035901606082916e-06, 5.002133548259735e-06, 4.697125405073166e-06, 4.82192263007164e-06, 4.915054887533188e-06, 5.353707820177078e-06, 5.076173692941666e-06, 4.7818757593631744e-06, 4.8959627747535706e-06, 7.148366421461105e-06, 4.8140063881874084e-06, 5.702022463083267e-06, 5.2317045629024506e-06, 4.879198968410492e-06, 4.697125405073166e-06, 4.759989678859711e-06, 4.728790372610092e-06, 5.471985787153244e-06, 5.131121724843979e-06, 6.026122719049454e-06, 5.608890205621719e-06, 5.846843123435974e-06, 5.238223820924759e-06, 5.06080687046051e-06, 6.4070336520671844e-06, 5.1497481763362885e-06, 4.830304533243179e-06, 5.50784170627594e-06, 4.991888999938965e-06, 6.824266165494919e-06, 5.016103386878967e-06, 4.798639565706253e-06, 5.779322236776352e-06, 5.434732884168625e-06, 5.563255399465561e-06, 5.048699676990509e-06, 4.946254193782806e-06, 4.983972758054733e-06, 5.705747753381729e-06, 5.130190402269363e-06, 4.809815436601639e-06, 4.704110324382782e-06, 5.715060979127884e-06, 5.201902240514755e-06, 4.76418063044548e-06, 4.739966243505478e-06, 5.5818818509578705e-06, 5.105976015329361e-06, 4.782341420650482e-06, 6.809830665588379e-06, 6.319954991340637e-06, 4.735775291919708e-06, 5.188398063182831e-06, 5.302950739860535e-06, 4.652887582778931e-06, 5.107838660478592e-06, 5.8389268815517426e-06, 4.827044904232025e-06, 5.380250513553619e-06, 5.228910595178604e-06, 5.0067901611328125e-06, 4.725996404886246e-06, 5.9800222516059875e-06, 5.031004548072815e-06, 4.766043275594711e-06, 4.868954420089722e-06, 6.063375622034073e-06, 5.383044481277466e-06, 4.737637937068939e-06, 4.875939339399338e-06, 4.666391760110855e-06, 4.975590854883194e-06, 5.8980658650398254e-06, 7.088296115398407e-06, 5.664769560098648e-06, 4.99701127409935e-06, 5.627050995826721e-06, 4.970934242010117e-06, 4.726927727460861e-06, 5.403067916631699e-06, 5.153939127922058e-06, 4.7800131142139435e-06, 4.7781504690647125e-06, 4.815869033336639e-06, 4.8121437430381775e-06, 5.781184881925583e-06, 6.23287633061409e-06, 4.725996404886246e-06, 4.8568472266197205e-06, 5.1888637244701385e-06, 4.7460198402404785e-06, 4.765111953020096e-06, 4.79724258184433e-06, 4.753004759550095e-06, 4.9299560487270355e-06, 5.545094609260559e-06, 4.819594323635101e-06, 4.736240953207016e-06, 5.662906914949417e-06, 4.78280708193779e-06, 4.828441888093948e-06, 7.05057755112648e-06, 5.373265594244003e-06, 5.223788321018219e-06, 5.715992301702499e-06, 4.7441571950912476e-06, 4.86522912979126e-06, 5.910638719797134e-06, 4.892237484455109e-06, 4.58909198641777e-06, 4.656612873077393e-06, 5.79003244638443e-06, 4.866160452365875e-06, 4.82611358165741e-06, 4.691071808338165e-06, 5.85382804274559e-06, 4.85079362988472e-06, 4.802364856004715e-06, 6.543006747961044e-06, 4.952773451805115e-06, 4.950910806655884e-06, 4.845205694437027e-06, 4.881061613559723e-06, 4.9960799515247345e-06, 4.7888606786727905e-06, 6.780028343200684e-06, 4.7818757593631744e-06, 5.811918526887894e-06, 5.120877176523209e-06, 6.896443665027618e-06, 4.8908405005931854e-06, 4.793982952833176e-06, 4.805158823728561e-06, 7.628928869962692e-06, 4.807021468877792e-06, 4.858709871768951e-06, 4.750210791826248e-06, 6.075948476791382e-06, 4.7548674046993256e-06, 4.850327968597412e-06, 4.9336813390254974e-06, 4.780944436788559e-06, 5.950219929218292e-06, 5.0067901611328125e-06, 4.816334694623947e-06, 6.746966391801834e-06, 5.067791789770126e-06, 4.709232598543167e-06, 6.61797821521759e-06, 4.99701127409935e-06, 5.112960934638977e-06, 5.461741238832474e-06, 4.8889778554439545e-06, 4.746951162815094e-06, 4.639383405447006e-06, 7.0086680352687836e-06], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     654       
Benchmark duration (s):                  109.13    
Total input tokens:                      669696    
Total generated tokens:                  56831     
Request throughput (req/s):              5.99      
Output token throughput (tok/s):         520.78    
Total Token throughput (tok/s):          6657.64   
---------------Time to First Token----------------
Mean TTFT (ms):                          25350.35  
Median TTFT (ms):                        31375.27  
P99 TTFT (ms):                           54783.34  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.01      
Median TPOT (ms):                        0.01      
P99 TPOT (ms):                           0.01      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.00      
P99 ITL (ms):                            0.01      
==================================================
