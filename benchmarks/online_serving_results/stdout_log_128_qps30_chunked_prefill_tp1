INFO 07-08 03:05:50 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-30-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.8010028009302914, output_tokens=256, ttft=0.07862995378673077, itl=[3.175204619765282e-05, 0.01437918795272708, 0.014426630921661854, 0.014523799996823072, 0.014532380271703005, 0.014626414980739355, 0.01445866096764803, 0.014498001895844936, 0.014506102073937654, 0.0145346918143332, 0.014544800389558077, 0.014533489011228085, 0.014624552801251411, 0.014524528756737709, 0.014484694227576256, 0.014495186973363161, 0.014477081131190062, 0.0145155880600214, 0.014585456810891628, 0.014609503094106913, 0.014491811860352755, 0.014536926057189703, 0.014672356192022562, 0.014788313768804073, 0.01458929106593132, 0.014483343809843063, 0.014580400194972754, 0.014556063804775476, 0.014546300284564495, 0.014575144741684198, 0.014519797172397375, 0.014571336098015308, 0.014645470771938562, 0.014476194977760315, 0.01452352199703455, 0.014551118947565556, 0.014641440007835627, 0.014523592311888933, 0.014554559718817472, 0.014680949971079826, 0.014387237373739481, 0.01452248077839613, 0.014501930214464664, 0.014567841775715351, 0.014555753208696842, 0.01458779675886035, 0.01468538586050272, 0.01453159935772419, 0.014491305686533451, 0.014498631004244089, 0.014569911174476147, 0.014566903002560139, 0.014716479927301407, 0.014736860059201717, 0.014499079901725054, 0.014507750980556011, 0.014639925211668015, 0.014552104752510786, 0.014597878325730562, 0.014576101675629616, 0.014653035905212164, 0.014481473248451948, 0.014592168852686882, 0.014556664042174816, 0.014707161113619804, 0.0145685700699687, 0.014966547954827547, 0.014360749162733555, 0.01450526574626565, 0.014539159834384918, 0.014551409985870123, 0.014570108149200678, 0.01462407922372222, 0.014580870978534222, 0.014621344860643148, 0.01450925599783659, 0.014566654805094004, 0.01455997209995985, 0.014580986928194761, 0.014601023402065039, 0.01457408582791686, 0.014598492067307234, 0.014535140711814165, 0.014536393340677023, 0.014630915597081184, 0.014606236014515162, 0.014634736347943544, 0.014606101904064417, 0.01461566612124443, 0.014516057912260294, 0.014614410698413849, 0.014702658168971539, 0.014545245096087456, 0.014615087769925594, 0.014725754037499428, 0.014374935999512672, 0.014625055249780416, 0.014538162853568792, 0.01456802198663354, 0.014577205292880535, 0.014624365605413914, 0.014634740073233843, 0.014510354958474636, 0.01451049605384469, 0.014604348223656416, 0.014607130084186792, 0.014573460910469294, 0.014634443912655115, 0.014630170073360205, 0.014630344696342945, 0.014549578074365854, 0.014554506167769432, 0.014534850139170885, 0.014648849610239267, 0.014547699131071568, 0.014629354234784842, 0.014565196819603443, 0.014528067782521248, 0.014558442402631044, 0.014705612789839506, 0.01464012498036027, 0.014577228110283613, 0.01476359274238348, 0.014525908045470715, 0.014574432279914618, 0.01458414876833558, 0.014540463220328093, 0.014651373960077763, 0.01461633201688528, 0.014612761791795492, 0.014502817299216986, 0.01459290599450469, 0.01464656600728631, 0.014572340995073318, 0.014558456838130951, 0.01462800707668066, 0.014786940068006516, 0.014539076946675777, 0.014530425891280174, 0.014560023788362741, 0.014619986992329359, 0.014569441322237253, 0.014820295851677656, 0.014378805179148912, 0.014573609922081232, 0.014581236988306046, 0.014573901891708374, 0.014544379897415638, 0.014638703316450119, 0.014676924794912338, 0.014553508255630732, 0.014546050690114498, 0.014551590196788311, 0.014607328921556473, 0.014586704783141613, 0.01453179307281971, 0.01470430614426732, 0.01449997816234827, 0.01457919692620635, 0.014549524988979101, 0.014599851798266172, 0.014617001172155142, 0.014617100823670626, 0.014724534936249256, 0.014543400146067142, 0.014535755850374699, 0.014591731131076813, 0.01457559922710061, 0.014633398968726397, 0.014564170967787504, 0.014668114949017763, 0.014541787095367908, 0.014594893902540207, 0.01456143381074071, 0.014690767973661423, 0.014532069209963083, 0.014606066048145294, 0.014916772954165936, 0.014540241099894047, 0.01449511293321848, 0.014570775907486677, 0.014644475188106298, 0.014572413638234138, 0.014541540294885635, 0.014690208714455366, 0.014564095996320248, 0.014584382064640522, 0.015438125003129244, 0.01453295024111867, 0.014664795715361834, 0.01466573216021061, 0.014551471918821335, 0.014553007204085588, 0.014503994025290012, 0.014611486811190844, 0.014564691111445427, 0.014682067092508078, 0.014811425935477018, 0.014399143867194653, 0.014531734865158796, 0.01456951629370451, 0.014639896806329489, 0.014589198864996433, 0.014587412122637033, 0.014731040224432945, 0.014649045653641224, 0.014535723254084587, 0.014569964725524187, 0.014551568310707808, 0.014639658853411674, 0.014649211894720793, 0.014730662107467651, 0.014484317973256111, 0.014568296261131763, 0.014575856737792492, 0.014683027286082506, 0.014621322974562645, 0.014611187856644392, 0.014590928796678782, 0.014514843933284283, 0.01464896509423852, 0.014720926061272621, 0.01466254610568285, 0.014830239117145538, 0.014939555898308754, 0.01462530205026269, 0.014667192939668894, 0.01473565399646759, 0.014579238835722208, 0.0146442293189466, 0.014559422619640827, 0.014628414995968342, 0.01468681637197733, 0.014563845936208963, 0.014573570806533098, 0.014599718153476715, 0.014577073976397514, 0.014596152119338512, 0.014677997678518295, 0.014589813072234392, 0.014562272932380438, 0.01451106509193778, 0.014576218090951443, 0.014568619895726442, 0.014597299974411726, 0.01483076112344861, 0.014386281836777925, 0.014560041017830372, 0.014577609952539206, 0.014605364296585321, 0.014671124052256346, 0.014535435941070318, 0.014653113670647144, 0.014593856409192085, 0.01523385476320982, 0.015249370131641626], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  48.49     
Total input tokens:                      131072    
Total generated tokens:                  242790    
Request throughput (req/s):              21.12     
Output token throughput (tok/s):         5006.98   
Total Token throughput (tok/s):          7710.03   
---------------Time to First Token----------------
Mean TTFT (ms):                          1024.42   
Median TTFT (ms):                        271.31    
P99 TTFT (ms):                           3050.18   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          73.57     
Median TPOT (ms):                        79.74     
P99 TPOT (ms):                           90.46     
---------------Inter-token Latency----------------
Mean ITL (ms):                           72.88     
Median ITL (ms):                         78.82     
P99 ITL (ms):                            143.30    
==================================================
