INFO 07-09 19:36:39 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-5-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to specific domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock extractor")\n\t* Computer science (e.g., "DataLoader", "GPIO", "Parcelable")\n\t* Biology (e.g., "lipid", "protein")\n\t* Geography (e.g., "Latitude", "Longitude")\n\t* Marketing (e.g., "shaders", "marketing standings")\n3. **Code snippets and frameworks**: The text includes code snippets and references to various frameworks and libraries, such as:\n\t* Android development (e.g., "OnClickListener", "Parcelable")\n\t* Web development (e.g., "Redux", "React")\n\t* Data science (e.g., "Pandas", " NumPy")\n4. **Error messages and warnings**: There are some error messages', success=True, latency=3.733869274612516, output_tokens=256, ttft=0.10266509093344212, itl=[3.709504380822182e-05, 0.013887573033571243, 0.014424702618271112, 0.014092970173805952, 0.014130648225545883, 0.014172124676406384, 0.014122205320745707, 0.014098936691880226, 0.014070566277951002, 0.01407462079077959, 0.014170029200613499, 0.014097460079938173, 0.014033713843673468, 0.014138417784124613, 0.01421924727037549, 0.014115812722593546, 0.014153154101222754, 0.014173701871186495, 0.014369423035532236, 0.01444183336570859, 0.01411438174545765, 0.01453645620495081, 0.014187311753630638, 0.014214454218745232, 0.014140008948743343, 0.01403421675786376, 0.01415878627449274, 0.014130180701613426, 0.014112411998212337, 0.014193214010447264, 0.014228555373847485, 0.014401828870177269, 0.014066229108721018, 0.014396640006452799, 0.014108727686107159, 0.014076919294893742, 0.01411176472902298, 0.014283716212958097, 0.014542889781296253, 0.014034753199666739, 0.014404152054339647, 0.014090389013290405, 0.014093092642724514, 0.014251630287617445, 0.014363178052008152, 0.014445149805396795, 0.0142012401483953, 0.014183135703206062, 0.014130037277936935, 0.01415548799559474, 0.014189480803906918, 0.014047317206859589, 0.01403846312314272, 0.014116024598479271, 0.01411057636141777, 0.014234152622520924, 0.014453850220888853, 0.014210373163223267, 0.014201195910573006, 0.014192525763064623, 0.01424889825284481, 0.014521884731948376, 0.014207058120518923, 0.014090357813984156, 0.014192888047546148, 0.014069561380892992, 0.014239721931517124, 0.014534682035446167, 0.0141562526114285, 0.014424445107579231, 0.014221324119716883, 0.014123016968369484, 0.014068556018173695, 0.014482261147350073, 0.01409307774156332, 0.014263158198446035, 0.01417371490970254, 0.01411361712962389, 0.014236191753298044, 0.01419408107176423, 0.014284695032984018, 0.01443857280537486, 0.014195888303220272, 0.014134589117020369, 0.014181801583617926, 0.014103091321885586, 0.014254034962505102, 0.01416859496384859, 0.014153977856040001, 0.01418602792546153, 0.014128286391496658, 0.014121674001216888, 0.014187994878739119, 0.01415174687281251, 0.014271966181695461, 0.014139589853584766, 0.014276370871812105, 0.014506812207400799, 0.014455477707087994, 0.014244444202631712, 0.014565087854862213, 0.01426487322896719, 0.014235710725188255, 0.014076680410653353, 0.014205805025994778, 0.014198092743754387, 0.014210021123290062, 0.014210889115929604, 0.014141371939331293, 0.014101337641477585, 0.014204866252839565, 0.014518843963742256, 0.014176846016198397, 0.014170494861900806, 0.014182961080223322, 0.014421135187149048, 0.014442049898207188, 0.014153781812638044, 0.0142779890447855, 0.01427098922431469, 0.014273941982537508, 0.014146348927170038, 0.014148551039397717, 0.014222438912838697, 0.014461520127952099, 0.014280508738011122, 0.014084015041589737, 0.014157372992485762, 0.014506334904581308, 0.014191982336342335, 0.014565842691808939, 0.014356036204844713, 0.014192256145179272, 0.014432318042963743, 0.014154684729874134, 0.014168899040669203, 0.014301338233053684, 0.014174526557326317, 0.014201231300830841, 0.014230221975594759, 0.014274273999035358, 0.014547811821103096, 0.013717659283429384, 0.014497351832687855, 0.014123446773737669, 0.014387248083949089, 0.014169939327985048, 0.014236954972147942, 0.014136913698166609, 0.01425243029370904, 0.014276775997132063, 0.014309464953839779, 0.014133224729448557, 0.014413805212825537, 0.014215486124157906, 0.01415821397677064, 0.014555715955793858, 0.014278694055974483, 0.013966992031782866, 0.01444879686459899, 0.014547043014317751, 0.014170223847031593, 0.01418436923995614, 0.014169878792017698, 0.014264806173741817, 0.01411129580810666, 0.014121176209300756, 0.014290868770331144, 0.014118348248302937, 0.01418896671384573, 0.01420681132003665, 0.014143081847578287, 0.014369914773851633, 0.014488382264971733, 0.01432756194844842, 0.014284763019531965, 0.014098035171627998, 0.014181374572217464, 0.014220590237528086, 0.014269640203565359, 0.014134779572486877, 0.014587071258574724, 0.01420877082273364, 0.014062192291021347, 0.014432728756219149, 0.014513542875647545, 0.014204811304807663, 0.01440214179456234, 0.014187145978212357, 0.014204775914549828, 0.014089765027165413, 0.014459226280450821, 0.014228213112801313, 0.01422121562063694, 0.014352890197187662, 0.014508514199405909, 0.014484795741736889, 0.014085158240050077, 0.014563330914825201, 0.014155073091387749, 0.014495570678263903, 0.014227237086743116, 0.014267078135162592, 0.014213104732334614, 0.014240445103496313, 0.01410489110276103, 0.014199218712747097, 0.014404562301933765, 0.014486458152532578, 0.014167357701808214, 0.01470428192988038, 0.01421538321301341, 0.014184022787958384, 0.014410560950636864, 0.014288673177361488, 0.014251550193876028, 0.01423344062641263, 0.014341645408421755, 0.014097756706178188, 0.014239338226616383, 0.01417597895488143, 0.014255070127546787, 0.014127726666629314, 0.014247721061110497, 0.014389613177627325, 0.014155403710901737, 0.014184254221618176, 0.014135104138404131, 0.014195058029145002, 0.01422881055623293, 0.01418653316795826, 0.014174039009958506, 0.014179300982505083, 0.014556015841662884, 0.014192953240126371, 0.01414905209094286, 0.014094117097556591, 0.01415539300069213, 0.01443325961008668, 0.014326366130262613, 0.014171137940138578, 0.014148008078336716, 0.014656858053058386, 0.013936367817223072, 0.014130894094705582, 0.014131669886410236, 0.014180736150592566, 0.014246467966586351, 0.014187716878950596, 0.014112883247435093, 0.014545631129294634, 0.01443859189748764, 0.014533375855535269, 0.014178484212607145, 0.014144989661872387, 0.014460697304457426], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  221.28    
Total input tokens:                      524288    
Total generated tokens:                  229846    
Request throughput (req/s):              4.63      
Output token throughput (tok/s):         1038.71   
Total Token throughput (tok/s):          3408.05   
---------------Time to First Token----------------
Mean TTFT (ms):                          117.77    
Median TTFT (ms):                        109.80    
P99 TTFT (ms):                           216.56    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          20.55     
Median TPOT (ms):                        20.54     
P99 TPOT (ms):                           23.59     
---------------Inter-token Latency----------------
Mean ITL (ms):                           20.47     
Median ITL (ms):                         17.35     
P99 ITL (ms):                            100.46    
==================================================
