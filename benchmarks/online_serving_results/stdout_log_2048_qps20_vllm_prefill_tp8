INFO 07-10 04:44:37 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-20-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=3.9280452537350357, output_tokens=256, ttft=0.23689161986112595, itl=[3.9705075323581696e-05, 0.014542307704687119, 0.014373495243489742, 0.014520213939249516, 0.014604741241782904, 0.014450489543378353, 0.014499078039079905, 0.01447477238252759, 0.014601289760321379, 0.014470360241830349, 0.014449783600866795, 0.014503362122923136, 0.014450657181441784, 0.014461809769272804, 0.014453282114118338, 0.014497390016913414, 0.014506909996271133, 0.014473679941147566, 0.014406717848032713, 0.014485566411167383, 0.014396906830370426, 0.014453147072345018, 0.014538716990500689, 0.014478200115263462, 0.01441524364054203, 0.014548704028129578, 0.014451639261096716, 0.014363985043019056, 0.01439104788005352, 0.014540005940943956, 0.014434006996452808, 0.014468113891780376, 0.014502310194075108, 0.01440180093050003, 0.014398572035133839, 0.01480755303055048, 0.014133986085653305, 0.014462733641266823, 0.014448856003582478, 0.01445266418159008, 0.014436382800340652, 0.014456844422966242, 0.014726760797202587, 0.01416794816032052, 0.014425589703023434, 0.014443653170019388, 0.014457456767559052, 0.014393489342182875, 0.014399375766515732, 0.014540615025907755, 0.014290113002061844, 0.014453961048275232, 0.014471002854406834, 0.014409918338060379, 0.014409661758691072, 0.014405122958123684, 0.014535292983055115, 0.0145200090482831, 0.014446856919676065, 0.014377128332853317, 0.01441167388111353, 0.01445330772548914, 0.014396378304809332, 0.01481206202879548, 0.014469506684690714, 0.014436614234000444, 0.014476207084953785, 0.014439767692238092, 0.014545566402375698, 0.014484239742159843, 0.014501580037176609, 0.01454255310818553, 0.014425662811845541, 0.014465813059359789, 0.014392904005944729, 0.014424202032387257, 0.014474107883870602, 0.01449409406632185, 0.014434515032917261, 0.014434273820370436, 0.01442765723913908, 0.014517516829073429, 0.014413473196327686, 0.014449285808950663, 0.014448065310716629, 0.01438085874542594, 0.014407914131879807, 0.014412934891879559, 0.014480362180620432, 0.014483773615211248, 0.014415518380701542, 0.01454785093665123, 0.014423882123082876, 0.014463724568486214, 0.014376310165971518, 0.014413753990083933, 0.01443757489323616, 0.014529857318848372, 0.01445827865973115, 0.014493430964648724, 0.014486419036984444, 0.014425364322960377, 0.014511441811919212, 0.014350815210491419, 0.01444699103012681, 0.014555423986166716, 0.014402091968804598, 0.014457772020250559, 0.014391249045729637, 0.014422062784433365, 0.014479198027402163, 0.014467107132077217, 0.014570836909115314, 0.014467054978013039, 0.014513605739921331, 0.014481169171631336, 0.01443287217989564, 0.014418093953281641, 0.014477591961622238, 0.014557392802089453, 0.014409900177270174, 0.014500817749649286, 0.014547519385814667, 0.014471821021288633, 0.01451353682205081, 0.014492698945105076, 0.014556311070919037, 0.014471512753516436, 0.01452705031260848, 0.014446062967181206, 0.01443160604685545, 0.014379852917045355, 0.014540237840265036, 0.014524932019412518, 0.01451029721647501, 0.014510700944811106, 0.014585812110453844, 0.014443133026361465, 0.01444219471886754, 0.014578287024050951, 0.014268555212765932, 0.014469335786998272, 0.014388618990778923, 0.014476606156677008, 0.01448117382824421, 0.014440479222685099, 0.0145802590996027, 0.015136634930968285, 0.013727542944252491, 0.014376617036759853, 0.014398762956261635, 0.014457154087722301, 0.014462739694863558, 0.01454887306317687, 0.014404987916350365, 0.014381824061274529, 0.014500170946121216, 0.014524423982948065, 0.014426336158066988, 0.014514749869704247, 0.014551371335983276, 0.014496529940515757, 0.014519413001835346, 0.014479487668722868, 0.014413385186344385, 0.014417693950235844, 0.014427688904106617, 0.014592480380088091, 0.014544828794896603, 0.014503369107842445, 0.01444786274805665, 0.014444160275161266, 0.014482134953141212, 0.014394691679626703, 0.014594591222703457, 0.014601962175220251, 0.014410908799618483, 0.01444824505597353, 0.014480391051620245, 0.014398792758584023, 0.014458694960922003, 0.014555215369910002, 0.014426225796341896, 0.014527635183185339, 0.014396748971194029, 0.014466333668678999, 0.014541898388415575, 0.014419035986065865, 0.014961333014070988, 0.014450945891439915, 0.01443852111697197, 0.01444594468921423, 0.014453734271228313, 0.014500841964036226, 0.014521741773933172, 0.014513792935758829, 0.014553372282534838, 0.0143772317096591, 0.014471889939159155, 0.014445212204009295, 0.01450403407216072, 0.014499452896416187, 0.01450736029073596, 0.014447700697928667, 0.014394965022802353, 0.014467992819845676, 0.014399646315723658, 0.014495233073830605, 0.014465614687651396, 0.014467912260442972, 0.014527341816574335, 0.014474918134510517, 0.014467421919107437, 0.014472998213022947, 0.014463427010923624, 0.014544804580509663, 0.01453022938221693, 0.014481811784207821, 0.014452931005507708, 0.014491986948996782, 0.01448535593226552, 0.014493830036371946, 0.014416288118809462, 0.014502124860882759, 0.01453078305348754, 0.01450791908428073, 0.014411433134227991, 0.014486121945083141, 0.014494651928544044, 0.014515854883939028, 0.014535197988152504, 0.014521531295031309, 0.014569352846592665, 0.014498830772936344, 0.014405365101993084, 0.014441413339227438, 0.014884755946695805, 0.01413202378898859, 0.014529550913721323, 0.014478866942226887, 0.014549168292433023, 0.01452926779165864, 0.01449465611949563, 0.014543645083904266, 0.014310413971543312, 0.014522973913699389, 0.014554067049175501, 0.014530594926327467, 0.014424643944948912, 0.014481764286756516, 0.014580889604985714, 0.014471207279711962, 0.014420676976442337, 0.014423218090087175, 0.014532387722283602, 0.015012937132269144], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  134.07    
Total input tokens:                      2097152   
Total generated tokens:                  228634    
Request throughput (req/s):              7.64      
Output token throughput (tok/s):         1705.28   
Total Token throughput (tok/s):          17347.00  
---------------Time to First Token----------------
Mean TTFT (ms):                          32373.74  
Median TTFT (ms):                        24404.00  
P99 TTFT (ms):                           64967.16  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          256.64    
Median TPOT (ms):                        201.92    
P99 TPOT (ms):                           1374.44   
---------------Inter-token Latency----------------
Mean ITL (ms):                           201.83    
Median ITL (ms):                         60.54     
P99 ITL (ms):                            879.52    
==================================================
