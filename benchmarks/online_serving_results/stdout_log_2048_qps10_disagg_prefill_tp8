INFO 07-10 03:37:52 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-10-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=4.726057441905141, output_tokens=256, ttft=4.724678097758442, itl=[5.259038880467415e-05, 1.5840865671634674e-05, 9.325798600912094e-06, 6.495043635368347e-06, 5.6782737374305725e-06, 5.813781172037125e-06, 5.302019417285919e-06, 5.213078111410141e-06, 4.9727968871593475e-06, 5.241949111223221e-06, 5.179084837436676e-06, 4.9602240324020386e-06, 5.269888788461685e-06, 5.0729140639305115e-06, 4.840083420276642e-06, 5.132053047418594e-06, 4.9229711294174194e-06, 5.27501106262207e-06, 4.730187356472015e-06, 4.939734935760498e-06, 5.032867193222046e-06, 5.286186933517456e-06, 5.008187144994736e-06, 4.984904080629349e-06, 4.67570498585701e-06, 5.181413143873215e-06, 4.8656947910785675e-06, 4.874076694250107e-06, 5.078036338090897e-06, 5.3229741752147675e-06, 5.485024303197861e-06, 5.1031820476055145e-06, 4.945788532495499e-06, 5.47897070646286e-06, 4.741828888654709e-06, 4.70038503408432e-06, 4.732050001621246e-06, 4.91458922624588e-06, 4.9620866775512695e-06, 4.732050001621246e-06, 4.8531219363212585e-06, 6.172806024551392e-06, 4.992354661226273e-06, 4.721805453300476e-06, 5.065929144620895e-06, 5.039852112531662e-06, 4.782341420650482e-06, 4.727859050035477e-06, 4.8121437430381775e-06, 4.691071808338165e-06, 5.20097091794014e-06, 4.8228539526462555e-06, 4.9229711294174194e-06, 5.173962563276291e-06, 4.922039806842804e-06, 4.738103598356247e-06, 4.67570498585701e-06, 4.809349775314331e-06, 4.936009645462036e-06, 4.830770194530487e-06, 4.8531219363212585e-06, 4.807021468877792e-06, 4.868023097515106e-06, 5.068723112344742e-06, 4.92902472615242e-06, 5.5800192058086395e-06, 4.772096872329712e-06, 4.923902451992035e-06, 4.866160452365875e-06, 4.75393608212471e-06, 5.16790896654129e-06, 4.869885742664337e-06, 4.580244421958923e-06, 4.683155566453934e-06, 4.910863935947418e-06, 4.674773663282394e-06, 5.295034497976303e-06, 8.514150977134705e-06, 4.936940968036652e-06, 5.055218935012817e-06, 5.329027771949768e-06, 4.994682967662811e-06, 4.942994564771652e-06, 5.241017788648605e-06, 4.805158823728561e-06, 4.795845597982407e-06, 5.125068128108978e-06, 4.775822162628174e-06, 4.83635812997818e-06, 5.275942385196686e-06, 4.7460198402404785e-06, 4.727859050035477e-06, 4.8531219363212585e-06, 5.920883268117905e-06, 5.112960934638977e-06, 4.976987838745117e-06, 6.949063390493393e-06, 4.775822162628174e-06, 4.791188985109329e-06, 4.842877388000488e-06, 5.148351192474365e-06, 5.2228569984436035e-06, 5.180947482585907e-06, 4.910863935947418e-06, 4.893168807029724e-06, 5.424022674560547e-06, 5.086883902549744e-06, 4.93321567773819e-06, 4.774890840053558e-06, 6.644986569881439e-06, 5.544163286685944e-06, 5.165580660104752e-06, 4.949048161506653e-06, 4.780944436788559e-06, 4.856381565332413e-06, 5.2908435463905334e-06, 4.7548674046993256e-06, 5.298294126987457e-06, 5.162786692380905e-06, 5.618203431367874e-06, 4.966743290424347e-06, 5.09992241859436e-06, 5.005393177270889e-06, 4.780944436788559e-06, 5.51203265786171e-06, 4.8638321459293365e-06, 4.735775291919708e-06, 5.200039595365524e-06, 5.0691887736320496e-06, 6.1211176216602325e-06, 5.770009011030197e-06, 4.888046532869339e-06, 4.842877388000488e-06, 5.5800192058086395e-06, 4.8638321459293365e-06, 5.234964191913605e-06, 4.8102810978889465e-06, 4.759989678859711e-06, 4.951842129230499e-06, 5.422160029411316e-06, 5.3336843848228455e-06, 4.7781504690647125e-06, 5.262903869152069e-06, 5.022156983613968e-06, 4.836823791265488e-06, 4.847999662160873e-06, 4.860106855630875e-06, 4.671979695558548e-06, 5.867797881364822e-06, 6.927177309989929e-06, 4.970934242010117e-06, 4.7800131142139435e-06, 5.681067705154419e-06, 5.0389207899570465e-06, 5.579087883234024e-06, 4.862900823354721e-06, 4.8959627747535706e-06, 5.292240530252457e-06, 4.916917532682419e-06, 4.984904080629349e-06, 6.0140155255794525e-06, 4.973262548446655e-06, 4.7585926949977875e-06, 4.830304533243179e-06, 5.192123353481293e-06, 4.954636096954346e-06, 5.112960934638977e-06, 4.667323082685471e-06, 4.802830517292023e-06, 5.012843757867813e-06, 5.179084837436676e-06, 4.8102810978889465e-06, 4.716683179140091e-06, 6.6319480538368225e-06, 4.9551017582416534e-06, 4.9578957259655e-06, 4.761386662721634e-06, 4.855915904045105e-06, 4.736706614494324e-06, 4.9299560487270355e-06, 5.754176527261734e-06, 4.956964403390884e-06, 4.817266017198563e-06, 4.842877388000488e-06, 4.9727968871593475e-06, 5.835201591253281e-06, 4.945788532495499e-06, 4.936940968036652e-06, 4.813075065612793e-06, 5.413312464952469e-06, 4.832632839679718e-06, 4.75812703371048e-06, 4.9979425966739655e-06, 4.965346306562424e-06, 5.825888365507126e-06, 4.8247165977954865e-06, 4.956033080816269e-06, 4.827976226806641e-06, 6.182119250297546e-06, 4.709232598543167e-06, 5.144625902175903e-06, 6.852205842733383e-06, 5.138106644153595e-06, 5.023088306188583e-06, 5.273614078760147e-06, 4.649162292480469e-06, 4.827044904232025e-06, 4.590023308992386e-06, 5.71785494685173e-06, 4.773959517478943e-06, 5.7620927691459656e-06, 4.950910806655884e-06, 5.498062819242477e-06, 4.942063242197037e-06, 4.785135388374329e-06, 4.698988050222397e-06, 5.6549906730651855e-06, 4.728790372610092e-06, 5.695037543773651e-06, 4.983041435480118e-06, 4.961155354976654e-06, 5.024019628763199e-06, 4.805624485015869e-06, 4.762317985296249e-06, 4.895031452178955e-06, 4.958827048540115e-06, 6.128102540969849e-06, 4.678033292293549e-06, 4.9211084842681885e-06, 5.53671270608902e-06, 5.7462602853775024e-06, 4.776753485202789e-06, 4.8782676458358765e-06, 5.736947059631348e-06, 5.417037755250931e-06, 4.708766937255859e-06, 4.834961146116257e-06, 5.890149623155594e-06, 4.990026354789734e-06, 4.9551017582416534e-06, 4.859641194343567e-06, 5.7620927691459656e-06, 5.2209943532943726e-06, 4.766974598169327e-06, 5.616340786218643e-06, 4.8978254199028015e-06, 4.721805453300476e-06, 5.470123142004013e-06, 4.845205694437027e-06, 4.819594323635101e-06, 5.631241947412491e-06, 4.693865776062012e-06, 4.716217517852783e-06, 5.502719432115555e-06, 5.0300732254981995e-06, 6.563961505889893e-06], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     448       
Benchmark duration (s):                  109.00    
Total input tokens:                      917504    
Total generated tokens:                  0         
Request throughput (req/s):              4.11      
Output token throughput (tok/s):         0.00      
Total Token throughput (tok/s):          8417.75   
---------------Time to First Token----------------
Mean TTFT (ms):                          18189.25  
Median TTFT (ms):                        0.00      
P99 TTFT (ms):                           51861.59  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.00      
Median TPOT (ms):                        0.00      
P99 TPOT (ms):                           0.00      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.01      
P99 ITL (ms):                            0.02      
==================================================
