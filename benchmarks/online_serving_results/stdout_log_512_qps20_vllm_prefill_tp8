INFO 07-10 04:41:26 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-20-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and contexts. I'll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed languages**: The text contains code snippets and keywords from multiple programming languages, including Java, Python, C++, and JavaScript.\n2. **Technical terms**: There are many technical terms and concepts mentioned, such as machine learning, data loading, GPIO, sensors, and more.\n3. **Company and product names**: Some company and product names are mentioned, like Volvo, Xiaomi, and macOS.\n4. **Geographic locations**: Several geographic locations are mentioned, including Brazil, Omaha, and Prague.\n5. **Random words and phrases**: The text also contains random words and phrases that don't seem to be related to any specific topic or context.\n\n**Possible explanations:**\n\n1. **Code dump**: It's possible that someone has dumped a large amount of code and text into a single block, without any organization or context.\n2. **Automated text generation**: The text might have been generated automatically using a tool or algorithm that combines different sources of text and code.\n3. **Error or glitch**:", success=True, latency=3.7811780981719494, output_tokens=256, ttft=0.08470636000856757, itl=[3.796815872192383e-05, 0.014490699861198664, 0.014461974147707224, 0.014419612009078264, 0.014466987922787666, 0.014475034084171057, 0.014484889805316925, 0.014547655824571848, 0.014500596094876528, 0.014479860197752714, 0.014477510936558247, 0.01446131570264697, 0.014439885038882494, 0.014421722386032343, 0.01447718357667327, 0.014537176117300987, 0.014455783180892467, 0.014489070046693087, 0.0145263378508389, 0.014374832157045603, 0.014420685824006796, 0.01451042015105486, 0.014541584067046642, 0.014611783903092146, 0.01451851986348629, 0.014558292925357819, 0.014510777313262224, 0.014454240910708904, 0.014591943938285112, 0.014571193140000105, 0.014372925739735365, 0.014488587155938148, 0.014510811772197485, 0.014543099328875542, 0.014343901071697474, 0.014441399835050106, 0.014585071709007025, 0.014465162064880133, 0.014434194192290306, 0.014489229768514633, 0.014444832224398851, 0.014479623176157475, 0.014451202936470509, 0.014554250054061413, 0.01439637690782547, 0.014499561861157417, 0.014422821812331676, 0.01448099035769701, 0.0145412627607584, 0.014447333291172981, 0.014562796801328659, 0.01450720289722085, 0.014454625081270933, 0.014466954860836267, 0.014467969071120024, 0.0144688761793077, 0.014459375757724047, 0.014547090977430344, 0.014471448957920074, 0.014508422464132309, 0.014419788960367441, 0.01446166867390275, 0.01444375328719616, 0.014493013732135296, 0.014531549997627735, 0.014567025005817413, 0.014420105144381523, 0.014457163866609335, 0.0144824362359941, 0.014450524933636189, 0.014462294988334179, 0.01451207883656025, 0.014431686140596867, 0.01452405983582139, 0.014512088149785995, 0.014397141989320517, 0.014577025081962347, 0.014589035883545876, 0.014305033255368471, 0.014472429640591145, 0.014452610164880753, 0.014535566791892052, 0.014400733169168234, 0.01450043497607112, 0.014513153117150068, 0.014463799074292183, 0.014512415044009686, 0.0144698116928339, 0.014432859141379595, 0.014507550746202469, 0.014428013004362583, 0.014582019299268723, 0.01443071011453867, 0.014504316728562117, 0.014469034969806671, 0.014483144972473383, 0.0144507079385221, 0.014489558059722185, 0.014616596046835184, 0.014520069118589163, 0.014488385990262032, 0.014431240037083626, 0.014474539086222649, 0.01444574585184455, 0.014567081816494465, 0.01459877798333764, 0.014416971243917942, 0.014527130872011185, 0.014471773989498615, 0.014531092252582312, 0.014530339743942022, 0.014488350134342909, 0.01454251678660512, 0.014558867085725069, 0.014425021130591631, 0.014468004927039146, 0.014458240009844303, 0.014503622893244028, 0.014561650343239307, 0.014483836945146322, 0.014475850854068995, 0.014489597175270319, 0.014495241921395063, 0.014471170026808977, 0.01446440163999796, 0.014453611336648464, 0.014623457100242376, 0.01449634088203311, 0.014522525016218424, 0.014466915745288134, 0.014432166237384081, 0.014555539935827255, 0.014568031765520573, 0.014480686280876398, 0.014509220141917467, 0.014411961659789085, 0.014539636205881834, 0.014513679780066013, 0.014464253094047308, 0.014515383169054985, 0.014524016063660383, 0.014543747995048761, 0.014472671784460545, 0.01444813422858715, 0.01447695167735219, 0.014547308906912804, 0.014495416078716516, 0.014516174327582121, 0.014500828925520182, 0.014493312686681747, 0.01447385037317872, 0.014422191772609949, 0.014577674213796854, 0.014461108017712831, 0.014500586781650782, 0.01455612387508154, 0.014558400958776474, 0.014569081366062164, 0.01442022668197751, 0.014534692279994488, 0.014703195076435804, 0.014307220000773668, 0.014446816872805357, 0.01446961099281907, 0.014494822826236486, 0.01453643711283803, 0.014620597939938307, 0.014631942845880985, 0.014459064230322838, 0.014457800891250372, 0.014436648227274418, 0.014501200057566166, 0.01453013764694333, 0.014397697057574987, 0.014585172291845083, 0.014417833648622036, 0.014479332137852907, 0.014551566913723946, 0.014545300044119358, 0.014472815208137035, 0.014559841714799404, 0.014557180926203728, 0.014634293038398027, 0.01449692901223898, 0.014461355283856392, 0.014496833086013794, 0.01455575879663229, 0.014508211053907871, 0.01459954772144556, 0.01438778918236494, 0.014462958090007305, 0.014502194710075855, 0.014488018117845058, 0.014522551093250513, 0.014444357249885798, 0.014581817667931318, 0.014455054886639118, 0.014469226356595755, 0.014538585674017668, 0.014474719297140837, 0.014427785761654377, 0.014553830958902836, 0.014490418136119843, 0.014472508803009987, 0.014449789188802242, 0.014565680176019669, 0.014566127676516771, 0.014461094047874212, 0.014524008147418499, 0.014586738776415586, 0.014496538322418928, 0.014447187073528767, 0.014519277028739452, 0.01447675097733736, 0.014505191706120968, 0.014507988933473825, 0.014547154307365417, 0.014480063691735268, 0.01444788696244359, 0.014476029202342033, 0.014461190905421972, 0.014536280184984207, 0.014594689011573792, 0.014521502889692783, 0.01443905709311366, 0.014488053042441607, 0.014506008010357618, 0.014499206095933914, 0.01452056784182787, 0.014485651161521673, 0.014617367647588253, 0.014558366034179926, 0.014520171098411083, 0.014445944223552942, 0.01446622982621193, 0.014477071817964315, 0.014738722238689661, 0.01428263308480382, 0.014503955841064453, 0.014442729763686657, 0.014516788069158792, 0.014455379918217659, 0.014559943228960037, 0.014762547798454762, 0.014290605206042528, 0.014421922154724598, 0.014467138797044754, 0.014443706255406141, 0.014480720739811659, 0.014576729852706194, 0.014492338057607412, 0.014483570121228695, 0.014489260967820883, 0.014490369241684675, 0.01452470663934946, 0.014744507148861885], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  63.30     
Total input tokens:                      524288    
Total generated tokens:                  231564    
Request throughput (req/s):              16.18     
Output token throughput (tok/s):         3658.42   
Total Token throughput (tok/s):          11941.51  
---------------Time to First Token----------------
Mean TTFT (ms):                          184.61    
Median TTFT (ms):                        158.03    
P99 TTFT (ms):                           606.77    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          95.87     
Median TPOT (ms):                        104.94    
P99 TPOT (ms):                           127.45    
---------------Inter-token Latency----------------
Mean ITL (ms):                           94.99     
Median ITL (ms):                         63.14     
P99 ITL (ms):                            472.63    
==================================================
