INFO 07-10 04:59:12 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-10-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=3.8834834219887853, output_tokens=256, ttft=0.23853465588763356, itl=[3.609992563724518e-05, 0.014663716778159142, 0.014328700955957174, 0.01402962114661932, 0.01429439289495349, 0.014307608362287283, 0.01422760495916009, 0.014346787706017494, 0.014245829079300165, 0.014195849187672138, 0.014488121960312128, 0.01419430784881115, 0.014263279270380735, 0.01426369370892644, 0.01417168416082859, 0.014307272154837847, 0.014306777622550726, 0.014166542328894138, 0.014470770955085754, 0.0141254598274827, 0.014313953928649426, 0.014238340314477682, 0.014217881951481104, 0.014193154871463776, 0.01426099892705679, 0.01449871901422739, 0.014135412871837616, 0.014283894095569849, 0.014211168978363276, 0.014283597003668547, 0.01433787401765585, 0.014358984306454659, 0.014261036645621061, 0.014346386305987835, 0.014158703852444887, 0.0141721167601645, 0.014153266325592995, 0.014343221671879292, 0.014268532395362854, 0.014298312831670046, 0.014310484752058983, 0.014135222416371107, 0.014239026699215174, 0.014333234168589115, 0.014316829852759838, 0.014196408912539482, 0.014306281227618456, 0.014253520872443914, 0.014302859082818031, 0.014351929072290659, 0.014261620119214058, 0.014337512664496899, 0.014363069087266922, 0.0143034178763628, 0.014312466140836477, 0.01428815396502614, 0.01425186824053526, 0.014351476915180683, 0.014246240723878145, 0.01423667836934328, 0.014429967850446701, 0.014243911020457745, 0.0142356650903821, 0.014273191802203655, 0.014222397934645414, 0.014235806185752153, 0.014245375990867615, 0.014325600117444992, 0.01428609574213624, 0.014365233015269041, 0.014189230278134346, 0.014285868965089321, 0.014209439978003502, 0.014251288026571274, 0.014357160776853561, 0.014218572992831469, 0.014257509261369705, 0.014215710572898388, 0.014421570114791393, 0.014181632082909346, 0.014323818031698465, 0.014677323866635561, 0.013753243256360292, 0.014263858087360859, 0.014405508991330862, 0.014177478849887848, 0.01428949274122715, 0.014284535311162472, 0.014492322690784931, 0.013981312979012728, 0.014269181061536074, 0.01426078099757433, 0.014337402302771807, 0.01446044072508812, 0.014267690014094114, 0.014455941040068865, 0.01415358204394579, 0.014260624069720507, 0.014291672967374325, 0.014318020083010197, 0.014420324005186558, 0.014242432080209255, 0.014203584752976894, 0.014352814294397831, 0.014341953676193953, 0.01424957113340497, 0.014262049924582243, 0.014490998815745115, 0.014257072005420923, 0.014204176142811775, 0.014297476969659328, 0.014317033346742392, 0.014217317570000887, 0.014274310320615768, 0.014305777847766876, 0.014266618993133307, 0.014259344898164272, 0.014261599164456129, 0.01424318179488182, 0.014254369307309389, 0.014316032640635967, 0.014469427056610584, 0.014235783368349075, 0.01424353290349245, 0.014335138723254204, 0.014254399109631777, 0.014283563941717148, 0.014284221921116114, 0.014337724074721336, 0.014283806085586548, 0.014328606892377138, 0.014426580164581537, 0.014124914072453976, 0.014329314697533846, 0.014311195351183414, 0.014327655080705881, 0.014317316934466362, 0.014189350884407759, 0.014445129781961441, 0.014251184184104204, 0.014215331990271807, 0.014339473098516464, 0.014446877874433994, 0.014237976167351007, 0.014271934982389212, 0.014392138924449682, 0.014301761984825134, 0.014311995822936296, 0.014333612285554409, 0.01425611600279808, 0.014329480938613415, 0.014241249766200781, 0.014300354290753603, 0.014243907760828733, 0.014295985922217369, 0.014278613962233067, 0.014188109431415796, 0.01434805290773511, 0.01415152894333005, 0.014293547719717026, 0.014301300048828125, 0.014267134014517069, 0.014343410264700651, 0.014307419769465923, 0.01430030819028616, 0.014306560158729553, 0.014292038977146149, 0.014270870015025139, 0.01419089874252677, 0.01448142109438777, 0.014272870030254126, 0.01426652492955327, 0.014239793177694082, 0.01427231403067708, 0.014203010592609644, 0.01428501307964325, 0.014287039171904325, 0.014328743796795607, 0.01430888008326292, 0.014474394265562296, 0.014349829871207476, 0.014083122834563255, 0.014248251914978027, 0.014223240315914154, 0.014214064925909042, 0.014210605062544346, 0.014371249824762344, 0.014196530915796757, 0.014320623129606247, 0.014241963159292936, 0.01438970398157835, 0.014359885826706886, 0.01429066713899374, 0.01423247903585434, 0.014323221985250711, 0.014372200705111027, 0.014242326375097036, 0.014295394998043776, 0.014404573943465948, 0.014473768882453442, 0.014264442957937717, 0.014206638094037771, 0.014252589084208012, 0.014305492863059044, 0.014258972834795713, 0.01412410894408822, 0.014331066980957985, 0.0143308793194592, 0.014360466040670872, 0.014317560009658337, 0.014254475012421608, 0.01428938563913107, 0.014383577276021242, 0.014347286894917488, 0.014357388950884342, 0.01425613509491086, 0.014364697970449924, 0.014266401994973421, 0.014320111833512783, 0.014117155224084854, 0.014400864019989967, 0.014245992060750723, 0.014226936735212803, 0.014323906041681767, 0.014378567226231098, 0.014228298794478178, 0.01444255094975233, 0.014235808979719877, 0.014268976170569658, 0.014406180940568447, 0.0141605818644166, 0.014274636283516884, 0.014401556923985481, 0.014376164879649878, 0.014258584007620811, 0.014391020871698856, 0.014308454003185034, 0.014253356028348207, 0.014449712354689837, 0.01424058387055993, 0.014297714922577143, 0.014329947996884584, 0.014311912935227156, 0.014432104304432869, 0.014281726907938719, 0.014394646044820547, 0.014107134658843279, 0.01434524031355977, 0.014259235002100468, 0.014288072008639574, 0.014594967942684889, 0.014169127680361271, 0.01421734830364585, 0.014304270036518574, 0.014428917784243822, 0.01511083310469985], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  133.73    
Total input tokens:                      2097152   
Total generated tokens:                  229446    
Request throughput (req/s):              7.66      
Output token throughput (tok/s):         1715.80   
Total Token throughput (tok/s):          17398.37  
---------------Time to First Token----------------
Mean TTFT (ms):                          6803.70   
Median TTFT (ms):                        2540.99   
P99 TTFT (ms):                           16254.35  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          227.07    
Median TPOT (ms):                        216.03    
P99 TPOT (ms):                           797.90    
---------------Inter-token Latency----------------
Mean ITL (ms):                           208.77    
Median ITL (ms):                         60.70     
P99 ITL (ms):                            1669.68   
==================================================
