INFO 07-08 03:32:10 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=40.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-40-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.932142802979797, output_tokens=256, ttft=0.12638198491185904, itl=[3.56319360435009e-05, 0.015420297160744667, 0.015213180799037218, 0.015141078270971775, 0.015270703006535769, 0.015190056059509516, 0.01517802570015192, 0.015096955932676792, 0.015152666252106428, 0.015247553121298552, 0.015269430819898844, 0.014937824103981256, 0.014839061070233583, 0.01481988886371255, 0.014848133083432913, 0.014852296095341444, 0.014837899710983038, 0.014871654100716114, 0.014847876969724894, 0.014895556028932333, 0.014867112040519714, 0.014849059749394655, 0.01482580229640007, 0.014909661840647459, 0.01484856428578496, 0.014941969886422157, 0.014758039731532335, 0.014818437397480011, 0.014877210836857557, 0.014885196927934885, 0.014819159172475338, 0.01485134195536375, 0.014905430842190981, 0.014865557197481394, 0.014913436025381088, 0.014926232863217592, 0.014911594800651073, 0.01494213193655014, 0.014895050320774317, 0.014904717914760113, 0.01489333901554346, 0.014863341115415096, 0.014937147032469511, 0.014906555879861116, 0.014876058790832758, 0.014897832181304693, 0.014898423105478287, 0.01493693795055151, 0.014873932115733624, 0.014940031804144382, 0.014899942092597485, 0.014899658039212227, 0.014895425643771887, 0.014918070286512375, 0.014919542707502842, 0.01488862419500947, 0.01490469416603446, 0.014915097039192915, 0.014807312749326229, 0.015004066284745932, 0.01488996995612979, 0.014914159663021564, 0.014865294098854065, 0.014856186229735613, 0.015229758806526661, 0.014775382820516825, 0.014922386035323143, 0.014941266272217035, 0.014902316965162754, 0.01502655679360032, 0.014814747963100672, 0.014910065103322268, 0.014907276257872581, 0.014925196766853333, 0.014845077879726887, 0.014914380386471748, 0.014895344618707895, 0.014888486359268427, 0.014938393607735634, 0.014919557143002748, 0.014920690096914768, 0.014957239851355553, 0.01489951927214861, 0.014848530758172274, 0.014858607202768326, 0.014931950718164444, 0.01489396020770073, 0.014957190956920385, 0.014890993945300579, 0.014926055911928415, 0.014943564310669899, 0.014911628793925047, 0.014944593887776136, 0.014959780033677816, 0.014941697008907795, 0.0149717191234231, 0.014883269090205431, 0.014886240940541029, 0.014863027725368738, 0.014998507220298052, 0.01485340017825365, 0.014958045911043882, 0.014886558055877686, 0.014922035858035088, 0.014938591048121452, 0.014867627061903477, 0.014965839684009552, 0.014967487193644047, 0.01489801099523902, 0.014889862854033709, 0.014960338361561298, 0.014908021781593561, 0.014899191912263632, 0.01495147030800581, 0.014927139040082693, 0.01493669580668211, 0.014947046991437674, 0.014886158984154463, 0.01491215219721198, 0.014984168577939272, 0.014902460388839245, 0.014911510981619358, 0.014913443010300398, 0.014874573796987534, 0.01487613981589675, 0.014915313106030226, 0.014948362950235605, 0.014878291171044111, 0.014916765969246626, 0.014888064935803413, 0.014964594040066004, 0.01490379823371768, 0.014920142944902182, 0.014970181044191122, 0.014909826684743166, 0.014893203042447567, 0.014924478251487017, 0.014844585675746202, 0.01490059308707714, 0.01496582804247737, 0.01485008280724287, 0.014939713291823864, 0.014868983067572117, 0.014926974661648273, 0.014922756236046553, 0.014960413798689842, 0.01500067999586463, 0.014848968014121056, 0.014940845314413309, 0.01482710288837552, 0.014958600979298353, 0.01495980704203248, 0.014896587934345007, 0.015011657029390335, 0.014881970826536417, 0.014866468030959368, 0.014910988043993711, 0.014883529860526323, 0.01493741711601615, 0.01488964818418026, 0.0149599090218544, 0.014883753843605518, 0.014938022941350937, 0.014938456006348133, 0.014888577163219452, 0.014927281998097897, 0.014963645953685045, 0.014987803064286709, 0.014866448938846588, 0.014958140905946493, 0.01493759686127305, 0.014874034095555544, 0.014889260288327932, 0.014940830878913403, 0.014946462120860815, 0.014864070806652308, 0.014935522805899382, 0.014841128140687943, 0.014910214114934206, 0.01490905275568366, 0.014969941228628159, 0.014904800802469254, 0.01492913207039237, 0.014901973307132721, 0.014937134925276041, 0.014873696956783533, 0.01492471806704998, 0.015256220940500498, 0.014932380989193916, 0.014880139846354723, 0.014922740869224072, 0.01489586802199483, 0.014932922087609768, 0.015004259068518877, 0.01482110284268856, 0.014916729182004929, 0.014886177144944668, 0.014901157934218645, 0.014873507898300886, 0.014932818245142698, 0.014922632835805416, 0.014870288781821728, 0.014886294025927782, 0.014876556117087603, 0.01493955822661519, 0.014809617772698402, 0.014907022006809711, 0.014980717096477747, 0.014872090891003609, 0.014876462053507566, 0.014892459847033024, 0.01496548019349575, 0.015239336993545294, 0.014723886735737324, 0.014863510150462389, 0.014912445098161697, 0.01493128389120102, 0.014903807081282139, 0.014927826821804047, 0.014830222353339195, 0.01487943297252059, 0.01498298579826951, 0.014896946027874947, 0.014895327854901552, 0.014874052256345749, 0.014908228069543839, 0.014965042937546968, 0.015003843698650599, 0.014996827114373446, 0.01487336028367281, 0.014922795817255974, 0.014950987882912159, 0.014936676248908043, 0.01488916901871562, 0.014925322029739618, 0.014863799791783094, 0.014985349960625172, 0.014948646072298288, 0.014863381162285805, 0.014866448938846588, 0.015040205791592598, 0.01485157385468483, 0.014914499130100012, 0.01496129808947444, 0.014929935801774263, 0.014923420269042253, 0.014917891006916761, 0.014980276115238667, 0.0149303637444973, 0.014902778901159763, 0.014867880381643772, 0.014880361966788769, 0.01488438481464982, 0.014926217962056398, 0.014939961023628712, 0.015188090037554502], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 40.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  55.90     
Total input tokens:                      524288    
Total generated tokens:                  231501    
Request throughput (req/s):              18.32     
Output token throughput (tok/s):         4141.24   
Total Token throughput (tok/s):          13520.03  
---------------Time to First Token----------------
Mean TTFT (ms):                          7786.00   
Median TTFT (ms):                        3211.58   
P99 TTFT (ms):                           17532.58  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          99.96     
Median TPOT (ms):                        110.20    
P99 TPOT (ms):                           183.99    
---------------Inter-token Latency----------------
Mean ITL (ms):                           97.12     
Median ITL (ms):                         55.77     
P99 ITL (ms):                            225.90    
==================================================
