INFO 07-08 03:11:42 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-30-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `testProfit`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C# (e.g., `Cleanup.structure`)\n* Kotlin (e.g., `lateinit`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Data science and machine learning (e.g., `testProfit`, `estimator`)\n* Web development (e.g., `Component`, `Cleanup.structure`)\n* IoT and sensor-related topics (e.g., `SENSOR_BUSY`, `wifi`)\n* Finance and economics (e.g., `NYSE`, `profit`)\n* Geography and location-based services (e.g., `Latitude`, `Prague`)\n\n**Other observations:**\n\n* There are many typos and non-English words/phrases, which might indicate that the text is a result of a machine translation or a text generation algorithm.\n* Some parts of the", success=True, latency=3.8331171358004212, output_tokens=256, ttft=0.08344943774864078, itl=[4.8941001296043396e-05, 0.014994849916547537, 0.014475977048277855, 0.014555237255990505, 0.01456619193777442, 0.014597726985812187, 0.014556569047272205, 0.01464462885633111, 0.014616745058447123, 0.014614917803555727, 0.014583799988031387, 0.01456938125193119, 0.014634164050221443, 0.014593444764614105, 0.014642828144133091, 0.014690511859953403, 0.014623384922742844, 0.014621076174080372, 0.014605110976845026, 0.014644177164882421, 0.014646838884800673, 0.014623176772147417, 0.014673731289803982, 0.014685075730085373, 0.014672476332634687, 0.014572580810636282, 0.014621108770370483, 0.01462768530473113, 0.014598439913243055, 0.014690556097775698, 0.014684041030704975, 0.014609153848141432, 0.014679350890219212, 0.01462983014062047, 0.014673085883259773, 0.014727405272424221, 0.014608900994062424, 0.01460352074354887, 0.014773943927139044, 0.014714817982167006, 0.014704542234539986, 0.014729933813214302, 0.014705358073115349, 0.01461693923920393, 0.014723127707839012, 0.014710396993905306, 0.014626939315348864, 0.0147257917560637, 0.014708006288856268, 0.01471969299018383, 0.01478987978771329, 0.01465159421786666, 0.014668998774141073, 0.014756415039300919, 0.014787976164370775, 0.014619390945881605, 0.014761938713490963, 0.01476367237046361, 0.01468806155025959, 0.014632993377745152, 0.014751241076737642, 0.014678509905934334, 0.014617729932069778, 0.014789253007620573, 0.014670205768197775, 0.014668225310742855, 0.014687282033264637, 0.014688402879983187, 0.014642867725342512, 0.014647843316197395, 0.014817241113632917, 0.014659777749329805, 0.014647550880908966, 0.014652494341135025, 0.014699810650199652, 0.014765520114451647, 0.014719887170940638, 0.014657451771199703, 0.01475017424672842, 0.01466322597116232, 0.014689424075186253, 0.014678196981549263, 0.014738492667675018, 0.014692615251988173, 0.014697704929858446, 0.014607776887714863, 0.014717149082571268, 0.014727879781275988, 0.014703238382935524, 0.014675560873001814, 0.01475397078320384, 0.014703096356242895, 0.01470475597307086, 0.014687878079712391, 0.014669337775558233, 0.014659630134701729, 0.014709594659507275, 0.014754916075617075, 0.014674690086394548, 0.014756948221474886, 0.014685306698083878, 0.014765479136258364, 0.014888391830027103, 0.014728185255080462, 0.014718183781951666, 0.014671197161078453, 0.01472205575555563, 0.014787772204726934, 0.014813813846558332, 0.014643607195466757, 0.014791626948863268, 0.014653800055384636, 0.014742420986294746, 0.014682766981422901, 0.01471923803910613, 0.014742390718311071, 0.014691485092043877, 0.01467999815940857, 0.014694815035909414, 0.014759848825633526, 0.014713003300130367, 0.014690801966935396, 0.014735122676938772, 0.014687701128423214, 0.01469707116484642, 0.01475569000467658, 0.014685621950775385, 0.014732793904840946, 0.014768275897949934, 0.014715602155774832, 0.01468404708430171, 0.014728632755577564, 0.01468596002086997, 0.014685885049402714, 0.014767661225050688, 0.014682193752378225, 0.014675057958811522, 0.014651136938482523, 0.014748104382306337, 0.014717587735503912, 0.01474764896556735, 0.014678271021693945, 0.014858589973300695, 0.014655117876827717, 0.014735361095517874, 0.014656753279268742, 0.014694425743073225, 0.01470492733642459, 0.014677516650408506, 0.014700920321047306, 0.014734464697539806, 0.01472427323460579, 0.014719402883201838, 0.014658140018582344, 0.014727987814694643, 0.014717943966388702, 0.014712721109390259, 0.014669930096715689, 0.014786941930651665, 0.014683500863611698, 0.014691409189254045, 0.014671319164335728, 0.014704767614603043, 0.014739050064235926, 0.014731025323271751, 0.014743102714419365, 0.014654226135462523, 0.014757710974663496, 0.01470295013859868, 0.014730254653841257, 0.01479374198243022, 0.01465055625885725, 0.014785445760935545, 0.014668331015855074, 0.014675036072731018, 0.014751160982996225, 0.01473568519577384, 0.014627655036747456, 0.01481592794880271, 0.01457522390410304, 0.014708937145769596, 0.01473847171291709, 0.01466061221435666, 0.014717673882842064, 0.014738312922418118, 0.015002544969320297, 0.014679055195301771, 0.014755188953131437, 0.01519191125407815, 0.014702092856168747, 0.014703033957630396, 0.014674860052764416, 0.014717090874910355, 0.014730956871062517, 0.014756907243281603, 0.01469875080510974, 0.014744690153747797, 0.014702594839036465, 0.014698066283017397, 0.014743075706064701, 0.014692861121147871, 0.014723630156368017, 0.014659851789474487, 0.014645743183791637, 0.014691969845443964, 0.01471927110105753, 0.014797455165535212, 0.014681013766676188, 0.01465561892837286, 0.014702373184263706, 0.014720878098160028, 0.014967215713113546, 0.01477348105981946, 0.014641675166785717, 0.014621514827013016, 0.014731521252542734, 0.014731423929333687, 0.014700005762279034, 0.014728982001543045, 0.014911989215761423, 0.014727381058037281, 0.014689954929053783, 0.014764447696506977, 0.0146962134167552, 0.014719681814312935, 0.014704396016895771, 0.014724615961313248, 0.01467194315046072, 0.014700437895953655, 0.014685597736388445, 0.014714923221617937, 0.014652525074779987, 0.014731253031641245, 0.014775247778743505, 0.014658913016319275, 0.014751028269529343, 0.014687280636280775, 0.01467399625107646, 0.01481357915326953, 0.014670498669147491, 0.014763216022402048, 0.014723239932209253, 0.01473309937864542, 0.014647073578089476, 0.014740237034857273, 0.01465712208300829, 0.014682751148939133, 0.014769416768103838, 0.0146723841316998, 0.014711456838995218, 0.014675782062113285, 0.014696534257382154, 0.01478474773466587, 0.014716957230120897, 0.01470927195623517, 0.014969700016081333], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  51.25     
Total input tokens:                      262144    
Total generated tokens:                  239357    
Request throughput (req/s):              19.98     
Output token throughput (tok/s):         4670.16   
Total Token throughput (tok/s):          9784.93   
---------------Time to First Token----------------
Mean TTFT (ms):                          2065.32   
Median TTFT (ms):                        393.40    
P99 TTFT (ms):                           5042.38   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          81.71     
Median TPOT (ms):                        88.54     
P99 TPOT (ms):                           106.87    
---------------Inter-token Latency----------------
Mean ITL (ms):                           80.69     
Median ITL (ms):                         55.96     
P99 ITL (ms):                            185.94    
==================================================
