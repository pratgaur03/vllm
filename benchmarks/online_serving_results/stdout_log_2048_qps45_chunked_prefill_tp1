INFO 07-08 04:12:56 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=45.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-45-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.033778980374336, output_tokens=256, ttft=0.2961876019835472, itl=[0.0027783322148025036, 0.01447249110788107, 0.014438081067055464, 0.014457769691944122, 0.014529152307659388, 0.014581772964447737, 0.01449373085051775, 0.014639642089605331, 0.014492107089608908, 0.01455834973603487, 0.014550522901117802, 0.014551436994224787, 0.014478511177003384, 0.014535329770296812, 0.014605455100536346, 0.014560319017618895, 0.014536971226334572, 0.014442662708461285, 0.01452724914997816, 0.014492082875221968, 0.014550725929439068, 0.014640533365309238, 0.014511190820485353, 0.014545464888215065, 0.014643933158367872, 0.014542561955749989, 0.014557036105543375, 0.014557809103280306, 0.014658838976174593, 0.014574465807527304, 0.0145704192109406, 0.014570175670087337, 0.014601156115531921, 0.014554844237864017, 0.014570944011211395, 0.014633066952228546, 0.014538965653628111, 0.014544210396707058, 0.014592690858989954, 0.014679858926683664, 0.014546086080372334, 0.014671928714960814, 0.014700277242809534, 0.014593463856726885, 0.014608561992645264, 0.014771257992833853, 0.01453055627644062, 0.014555864967405796, 0.014592837076634169, 0.014691697899252176, 0.014623572118580341, 0.014586251694709063, 0.014594051986932755, 0.014646864961832762, 0.014643628150224686, 0.01471282122656703, 0.014623063616454601, 0.014623653143644333, 0.014625581912696362, 0.014583005104213953, 0.014548108913004398, 0.014608029276132584, 0.01469814358279109, 0.014649145305156708, 0.014612779021263123, 0.01456696167588234, 0.014607915189117193, 0.014603582210838795, 0.014671343844383955, 0.01463900413364172, 0.014605042058974504, 0.014609620906412601, 0.014626204036176205, 0.01465913001447916, 0.014586244709789753, 0.014625336974859238, 0.014684453140944242, 0.014536620117723942, 0.014666080940514803, 0.014604271855205297, 0.014639019034802914, 0.014584535267204046, 0.014621315989643335, 0.014652578625828028, 0.01464306702837348, 0.014669367112219334, 0.014603214804083109, 0.014624849427491426, 0.014599181711673737, 0.014613720122724771, 0.014707223977893591, 0.014623311813920736, 0.01464099995791912, 0.01458467124029994, 0.01464281976222992, 0.0146023272536695, 0.014633170794695616, 0.014691698364913464, 0.014628029894083738, 0.014656797982752323, 0.014572572894394398, 0.014608352910727262, 0.014607536140829325, 0.014695679768919945, 0.014663322363048792, 0.014608369674533606, 0.014559085015207529, 0.014640515204519033, 0.014717373996973038, 0.014594399835914373, 0.014637236017733812, 0.014625005889683962, 0.014645052142441273, 0.014614845160394907, 0.01465426292270422, 0.01463026087731123, 0.014630516991019249, 0.01469062129035592, 0.014640507753938437, 0.014615809079259634, 0.01467609778046608, 0.014634876046329737, 0.014623993076384068, 0.014687868300825357, 0.014778348617255688, 0.01455571735277772, 0.014578151982277632, 0.014619516674429178, 0.014701972249895334, 0.014609199948608875, 0.01464360672980547, 0.014768427237868309, 0.014574829954653978, 0.014604834839701653, 0.014667279087007046, 0.014719465281814337, 0.014586967881768942, 0.014642021153122187, 0.014741378836333752, 0.0146449557505548, 0.014646301046013832, 0.014654563274234533, 0.014576530084013939, 0.014641095884144306, 0.014959645923227072, 0.01444928115233779, 0.014643921982496977, 0.014606819953769445, 0.014669904951006174, 0.01458420604467392, 0.014663271140307188, 0.014814235735684633, 0.014596029184758663, 0.014672990888357162, 0.014599828980863094, 0.014711212832480669, 0.014707110356539488, 0.01468649972230196, 0.014718370977789164, 0.014632259961217642, 0.014627509284764528, 0.014686880633234978, 0.01465511042624712, 0.014582416974008083, 0.014715139754116535, 0.01483029592782259, 0.014607596211135387, 0.014646261930465698, 0.014669007156044245, 0.01461783004924655, 0.014667797833681107, 0.01471970696002245, 0.014735872857272625, 0.014584776945412159, 0.014660291373729706, 0.014720620587468147, 0.014643753413110971, 0.014652353711426258, 0.014591448940336704, 0.014730165246874094, 0.014740237034857273, 0.014595563057810068, 0.01459787180647254, 0.015198425855487585, 0.014616040047258139, 0.014762265142053366, 0.014499320182949305, 0.014730399008840322, 0.014529311563819647, 0.014814125373959541, 0.014689872041344643, 0.014602639712393284, 0.014687743037939072, 0.014598731882870197, 0.0146465920843184, 0.014664818998426199, 0.01464285608381033, 0.014672506134957075, 0.01470691105350852, 0.014799912925809622, 0.014698410872370005, 0.014691700227558613, 0.014628204982727766, 0.014608000870794058, 0.014741844031959772, 0.014640843961387873, 0.014892461709678173, 0.014525293372571468, 0.014621614012867212, 0.014692568685859442, 0.014663604088127613, 0.014634276274591684, 0.014732594601809978, 0.014766192063689232, 0.014558247290551662, 0.01487939478829503, 0.014524092897772789, 0.014643246307969093, 0.014736787881702185, 0.01476610405370593, 0.014775292947888374, 0.014752155169844627, 0.014712482690811157, 0.014708442147821188, 0.014730476774275303, 0.014697639271616936, 0.01480707386508584, 0.014789291191846132, 0.01469591073691845, 0.014773499220609665, 0.014717075042426586, 0.014802373945713043, 0.014689967967569828, 0.014717624057084322, 0.014653754886239767, 0.014683322049677372, 0.014606465119868517, 0.014664928894490004, 0.014706132933497429, 0.014586261939257383, 0.014947636984288692, 0.01463856315240264, 0.014715665020048618, 0.014727768953889608, 0.01468876888975501, 0.014667600858956575, 0.014656112063676119, 0.01477078115567565, 0.014672067947685719, 0.014659578911960125, 0.014714348129928112, 0.014637169893831015, 0.014715285040438175, 0.014735162258148193, 0.014727319590747356, 0.014950951095670462], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 45.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  157.09    
Total input tokens:                      2097152   
Total generated tokens:                  229453    
Request throughput (req/s):              6.52      
Output token throughput (tok/s):         1460.63   
Total Token throughput (tok/s):          14810.47  
---------------Time to First Token----------------
Mean TTFT (ms):                          60159.12  
Median TTFT (ms):                        59614.47  
P99 TTFT (ms):                           122031.39 
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          213.94    
Median TPOT (ms):                        250.82    
P99 TPOT (ms):                           268.64    
---------------Inter-token Latency----------------
Mean ITL (ms):                           208.91    
Median ITL (ms):                         243.08    
P99 ITL (ms):                            291.41    
==================================================
