INFO 07-08 06:38:46 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-10-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.843213301151991, output_tokens=256, ttft=0.1028564521111548, itl=[3.7395860999822617e-05, 0.014967929106205702, 0.014538699761033058, 0.014620534144341946, 0.014572251122444868, 0.01464517368003726, 0.014540771022439003, 0.014605999924242496, 0.014575168024748564, 0.01452238718047738, 0.014648666139692068, 0.014557417947798967, 0.014493478927761316, 0.014608304016292095, 0.014559779781848192, 0.014578744303435087, 0.014616417698562145, 0.014661547262221575, 0.014578974805772305, 0.01452276622876525, 0.014688386116176844, 0.014447689987719059, 0.014626555610448122, 0.01461853925138712, 0.01467087771743536, 0.014590575359761715, 0.014679678715765476, 0.014560526236891747, 0.01464600907638669, 0.014658651780337095, 0.014586587902158499, 0.014654668048024178, 0.014582931995391846, 0.014572001062333584, 0.014684143010526896, 0.014550799038261175, 0.014646369963884354, 0.014643797185271978, 0.014625535812228918, 0.014611159916967154, 0.01467922329902649, 0.01457791868597269, 0.014667298179119825, 0.014661864843219519, 0.01467850711196661, 0.014712416101247072, 0.014611386694014072, 0.014580178074538708, 0.014669752214103937, 0.01463264785706997, 0.014699289109557867, 0.014653002843260765, 0.01468055322766304, 0.014615253079682589, 0.014593062922358513, 0.014694218058139086, 0.014644864946603775, 0.01460353098809719, 0.014676841907203197, 0.01461972901597619, 0.014628280885517597, 0.014577522873878479, 0.014725917018949986, 0.014646257273852825, 0.014781557023525238, 0.014610741753131151, 0.014665637165307999, 0.014612612780183554, 0.01467077899724245, 0.014600830152630806, 0.01463342783972621, 0.014596711378544569, 0.014699192717671394, 0.014602279290556908, 0.014653222635388374, 0.014624908100813627, 0.014652392826974392, 0.014624240342527628, 0.014901632908731699, 0.01476440578699112, 0.014636409003287554, 0.014701543375849724, 0.015504315961152315, 0.014119621831923723, 0.014662473928183317, 0.014680533204227686, 0.014621019829064608, 0.014704449102282524, 0.014655570033937693, 0.014665631111711264, 0.014585001859813929, 0.01467486610636115, 0.014755896758288145, 0.014838771894574165, 0.014472790993750095, 0.01476593827828765, 0.014661801047623158, 0.014635834842920303, 0.01455740025267005, 0.014755506999790668, 0.014756876975297928, 0.014638565015047789, 0.014781415928155184, 0.014563956763595343, 0.014644633047282696, 0.01465798495337367, 0.014643329195678234, 0.014639555010944605, 0.014657708816230297, 0.014680403284728527, 0.014641373883932829, 0.014660317916423082, 0.01472569815814495, 0.014911983627825975, 0.014654116239398718, 0.01470121880993247, 0.014641311019659042, 0.01463345903903246, 0.014617517124861479, 0.014628841076046228, 0.014741888735443354, 0.014699703082442284, 0.014614177867770195, 0.014665005262941122, 0.014675273094326258, 0.014705693814903498, 0.015187413897365332, 0.014677373226732016, 0.014621051959693432, 0.014749644789844751, 0.01468676095828414, 0.0146019053645432, 0.01458201790228486, 0.014748239889740944, 0.01466358220204711, 0.014689648989588022, 0.014630849938839674, 0.01472067879512906, 0.014775812160223722, 0.01464558718726039, 0.014683716930449009, 0.014647845644503832, 0.014685419388115406, 0.014689814765006304, 0.01469457522034645, 0.014654512982815504, 0.014705617912113667, 0.014638287015259266, 0.014705830719321966, 0.014675337355583906, 0.014683425892144442, 0.014680299907922745, 0.01465661684051156, 0.014640212059020996, 0.014709766022861004, 0.014647339936345816, 0.01470249518752098, 0.014690675772726536, 0.014602807350456715, 0.014735071919858456, 0.014680103864520788, 0.014679170213639736, 0.014631245750933886, 0.014827325008809566, 0.014582447241991758, 0.014674263074994087, 0.014658381696790457, 0.01469377987086773, 0.014792696107178926, 0.014619603287428617, 0.014692913740873337, 0.014719656202942133, 0.014606747776269913, 0.014661794062703848, 0.01472444599494338, 0.014652952086180449, 0.014690191019326448, 0.014604853000491858, 0.014644211158156395, 0.014669822994619608, 0.014654457569122314, 0.014699305407702923, 0.014733298681676388, 0.014615948311984539, 0.014695491641759872, 0.014640278182923794, 0.014622265007346869, 0.014718049205839634, 0.014614687766879797, 0.014633358921855688, 0.014628965873271227, 0.014672750141471624, 0.014636459294706583, 0.014678543899208307, 0.014736745972186327, 0.014647151809185743, 0.014701168052852154, 0.014605809934437275, 0.014635954983532429, 0.014706746209412813, 0.014647661708295345, 0.01469145342707634, 0.014762152917683125, 0.014664692804217339, 0.01464067306369543, 0.014678962994366884, 0.014670930802822113, 0.014593358151614666, 0.01473928289487958, 0.014675979036837816, 0.014600159134715796, 0.01463739387691021, 0.014706186018884182, 0.014658656902611256, 0.014623431023210287, 0.01478764321655035, 0.014633713755756617, 0.014663008973002434, 0.014681561384350061, 0.014615217689424753, 0.014640664216130972, 0.01469126483425498, 0.014631389174610376, 0.014656814746558666, 0.014615036081522703, 0.015775145962834358, 0.014621679205447435, 0.0144184660166502, 0.01464686170220375, 0.01482897624373436, 0.014682253822684288, 0.014844070188701153, 0.014550772961229086, 0.014572277199476957, 0.014611413702368736, 0.014717014972120523, 0.01481911912560463, 0.01457626698538661, 0.014635023195296526, 0.014668552670627832, 0.014641810208559036, 0.014638943132013083, 0.014727533794939518, 0.014633698854595423, 0.014641080051660538, 0.014647356234490871, 0.014672137796878815, 0.014833839144557714, 0.01453972002491355, 0.015036262106150389, 0.014611105900257826, 0.014615274034440517, 0.014682421926409006, 0.014712831005454063, 0.014611235819756985, 0.014971680007874966], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  113.67    
Total input tokens:                      524288    
Total generated tokens:                  230047    
Request throughput (req/s):              9.01      
Output token throughput (tok/s):         2023.78   
Total Token throughput (tok/s):          6636.08   
---------------Time to First Token----------------
Mean TTFT (ms):                          163.77    
Median TTFT (ms):                        130.24    
P99 TTFT (ms):                           345.78    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          31.63     
Median TPOT (ms):                        31.56     
P99 TPOT (ms):                           38.09     
---------------Inter-token Latency----------------
Mean ITL (ms):                           31.48     
Median ITL (ms):                         21.15     
P99 ITL (ms):                            114.47    
==================================================
