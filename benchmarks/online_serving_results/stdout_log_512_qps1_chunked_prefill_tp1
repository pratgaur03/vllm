INFO 07-08 06:51:38 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=1.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-1-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.8452889560721815, output_tokens=256, ttft=0.10370176145806909, itl=[3.846874460577965e-05, 0.014836131129413843, 0.0144396279938519, 0.01449112081900239, 0.014612630940973759, 0.014550639316439629, 0.014555007684975863, 0.014686616137623787, 0.014509804081171751, 0.014603015966713428, 0.01457617711275816, 0.014542334713041782, 0.014564597979187965, 0.01500350097194314, 0.014124707318842411, 0.014575264882296324, 0.014607532881200314, 0.014610188081860542, 0.014646852854639292, 0.014625197276473045, 0.014639118686318398, 0.014613531064242125, 0.014627307187765837, 0.014567620120942593, 0.014608110766857862, 0.01460671192035079, 0.014602947048842907, 0.01465802313759923, 0.014560456853359938, 0.014576602261513472, 0.014627804048359394, 0.014636329840868711, 0.01461609872058034, 0.014666461385786533, 0.014696724712848663, 0.014561030082404613, 0.014669724274426699, 0.01461901469156146, 0.014552792999893427, 0.014622255228459835, 0.014598241075873375, 0.014694108627736568, 0.01462171832099557, 0.014610955026000738, 0.014631731901317835, 0.014664384070783854, 0.014662748668342829, 0.014650105033069849, 0.0147508610971272, 0.014672885183244944, 0.01463010674342513, 0.014638204127550125, 0.014623682014644146, 0.014801215846091509, 0.014632721897214651, 0.014720111154019833, 0.014625232201069593, 0.014605941716581583, 0.01471438817679882, 0.014709609095007181, 0.014748759102076292, 0.014755292795598507, 0.014504902064800262, 0.014660581015050411, 0.014642829075455666, 0.01464126305654645, 0.014750175643712282, 0.014719643164426088, 0.014675670769065619, 0.014638932421803474, 0.014623559545725584, 0.0146103510633111, 0.014668578281998634, 0.014695859048515558, 0.01469286996871233, 0.014661133754998446, 0.014632903039455414, 0.014711304102092981, 0.014657959807664156, 0.014637809246778488, 0.014734344091266394, 0.014650413766503334, 0.014702191110700369, 0.014599827118217945, 0.014745219610631466, 0.014656244311481714, 0.014647368807345629, 0.014703385066241026, 0.014696171972900629, 0.014698815066367388, 0.01466186298057437, 0.014619574882090092, 0.014662475325167179, 0.01472611865028739, 0.014639648143202066, 0.014646770898252726, 0.014731789007782936, 0.014594254083931446, 0.014632481150329113, 0.014733399730175734, 0.014679790940135717, 0.01472822530195117, 0.014794077724218369, 0.014574004337191582, 0.01469839084893465, 0.014656573068350554, 0.014665622729808092, 0.014691079966723919, 0.01467431802302599, 0.014744667336344719, 0.014640151988714933, 0.014658278785645962, 0.014613327104598284, 0.014697864186018705, 0.014680468942970037, 0.014684044755995274, 0.014724416192620993, 0.01463921694085002, 0.014629681129008532, 0.014745637774467468, 0.014968330040574074, 0.014666097238659859, 0.014683127868920565, 0.014690886717289686, 0.014644726179540157, 0.014659668784588575, 0.014687329065054655, 0.014606270007789135, 0.01479427795857191, 0.014743561390787363, 0.01475217379629612, 0.014632495120167732, 0.014666556846350431, 0.014678928069770336, 0.01468813605606556, 0.01467325072735548, 0.014628567267209291, 0.01473869290202856, 0.014657205902040005, 0.0146653912961483, 0.014732562936842442, 0.01470894506201148, 0.014654990751296282, 0.014781549107283354, 0.01465087803080678, 0.014655666891485453, 0.014596261084079742, 0.014676721766591072, 0.014661466237157583, 0.014646206982433796, 0.01476316899061203, 0.014648579061031342, 0.014604194089770317, 0.01469364296644926, 0.014649705030024052, 0.014678334817290306, 0.014748236164450645, 0.014758593868464231, 0.014579781796783209, 0.014684685971587896, 0.01464059017598629, 0.014655441977083683, 0.014734821859747171, 0.014703463297337294, 0.014748165849596262, 0.01463649095967412, 0.014662809204310179, 0.014688821043819189, 0.014663446694612503, 0.01491589518263936, 0.014619304798543453, 0.014733382035046816, 0.014631728176027536, 0.01461249589920044, 0.01465620193630457, 0.014714756980538368, 0.01464350102469325, 0.014691147021949291, 0.014664574060589075, 0.014693262055516243, 0.014683219138532877, 0.014658614061772823, 0.014704843983054161, 0.014616995584219694, 0.014771170448511839, 0.014641972724348307, 0.014693846926093102, 0.014658543281257153, 0.014645226765424013, 0.014702826272696257, 0.014668572694063187, 0.014744448009878397, 0.014629362151026726, 0.01467603212222457, 0.014720742590725422, 0.0146677833981812, 0.014736415818333626, 0.014700307976454496, 0.014688536059111357, 0.014668834861367941, 0.014734602067619562, 0.014685706235468388, 0.014666199684143066, 0.014728498179465532, 0.01470496691763401, 0.01474788086488843, 0.01465305034071207, 0.014645820017904043, 0.014716793783009052, 0.014699623920023441, 0.014662851113826036, 0.01471776282414794, 0.014687706250697374, 0.014667416922748089, 0.014676239807158709, 0.014677375089377165, 0.01478265831246972, 0.014720080886036158, 0.014845078811049461, 0.014487633015960455, 0.014737363904714584, 0.014693803153932095, 0.014641290996223688, 0.014691834803670645, 0.014714028220623732, 0.01473818114027381, 0.014675650745630264, 0.01467704027891159, 0.01460667559877038, 0.014737749006599188, 0.01474821800366044, 0.014639230445027351, 0.0146736865863204, 0.01473356131464243, 0.01461341092363, 0.014926361851394176, 0.014653181191533804, 0.01461563678458333, 0.014709202107042074, 0.014747856184840202, 0.01465107873082161, 0.014690991025418043, 0.014718826860189438, 0.014620814006775618, 0.01482021203264594, 0.014706873334944248, 0.014735023956745863, 0.014664615038782358, 0.01460646791383624, 0.014709832146763802, 0.014734214637428522, 0.01467004930600524, 0.014729463029652834, 0.014770139940083027, 0.014705469831824303, 0.015052902977913618], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 1.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  1085.78   
Total input tokens:                      524288    
Total generated tokens:                  228879    
Request throughput (req/s):              0.94      
Output token throughput (tok/s):         210.80    
Total Token throughput (tok/s):          693.66    
---------------Time to First Token----------------
Mean TTFT (ms):                          110.21    
Median TTFT (ms):                        110.21    
P99 TTFT (ms):                           121.65    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          15.69     
Median TPOT (ms):                        15.54     
P99 TPOT (ms):                           19.03     
---------------Inter-token Latency----------------
Mean ITL (ms):                           15.62     
Median ITL (ms):                         15.05     
P99 ITL (ms):                            18.23     
==================================================
