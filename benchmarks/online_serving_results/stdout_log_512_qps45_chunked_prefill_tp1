INFO 07-08 03:30:52 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=45.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-45-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.887133951764554, output_tokens=256, ttft=0.12836121674627066, itl=[4.043290391564369e-05, 0.015293937176465988, 0.014928868971765041, 0.014933013822883368, 0.014943878166377544, 0.014842352829873562, 0.01528640417382121, 0.01496228389441967, 0.014920513145625591, 0.01509067602455616, 0.014966104179620743, 0.014958738815039396, 0.014997606165707111, 0.01519582187756896, 0.014830682892352343, 0.014319157227873802, 0.014603490009903908, 0.01473224675282836, 0.014601667877286673, 0.014693339355289936, 0.014782081823796034, 0.014564485754817724, 0.01484664622694254, 0.014387853909283876, 0.014619806315749884, 0.014720834791660309, 0.014635886996984482, 0.014673000201582909, 0.014795852825045586, 0.014643672853708267, 0.014716824050992727, 0.014551075175404549, 0.014540002681314945, 0.014733646996319294, 0.014680302236229181, 0.014707238879054785, 0.014803065918385983, 0.014678305946290493, 0.014641831163316965, 0.014757019933313131, 0.014623987954109907, 0.014905082061886787, 0.014669592026621103, 0.014656612183898687, 0.0145531608723104, 0.014769363217055798, 0.014740168582648039, 0.014613679144531488, 0.014859692193567753, 0.014733398798853159, 0.014704195316880941, 0.014676606748253107, 0.014830235857516527, 0.014671056997030973, 0.014650145079940557, 0.014826367143541574, 0.014600859954953194, 0.01472139498218894, 0.014675334095954895, 0.014628465753048658, 0.014789756387472153, 0.014757410623133183, 0.014612103346735239, 0.014735723845660686, 0.014844215009361506, 0.01467703515663743, 0.014658753760159016, 0.014735911041498184, 0.014581148978322744, 0.014645184855908155, 0.014693421311676502, 0.014730584807693958, 0.014732216019183397, 0.014754420146346092, 0.01467669103294611, 0.014688028953969479, 0.014833635650575161, 0.01464611105620861, 0.014638995286077261, 0.014772491995245218, 0.014574381057173014, 0.014980314765125513, 0.014652458019554615, 0.014633507933467627, 0.014704175293445587, 0.014748703688383102, 0.01469356706365943, 0.014815744012594223, 0.014758378267288208, 0.014715875964611769, 0.014743063598871231, 0.01465394627302885, 0.014643230941146612, 0.014802332036197186, 0.01452952204272151, 0.014756951946765184, 0.014697433914989233, 0.014714808203279972, 0.01467484375461936, 0.014732981100678444, 0.014777188189327717, 0.014806143008172512, 0.01457669585943222, 0.014793068170547485, 0.014798960648477077, 0.014798673335462809, 0.01461023697629571, 0.014754493720829487, 0.014794405084103346, 0.014564645942300558, 0.014805035199970007, 0.014851978048682213, 0.014696213882416487, 0.014644661918282509, 0.014542837161570787, 0.015078211668878794, 0.01467239810153842, 0.014647689182311296, 0.014626033138483763, 0.014732114970684052, 0.014819415751844645, 0.014620031230151653, 0.014715428929775953, 0.01481939572840929, 0.014821590390056372, 0.014687205664813519, 0.014705756213515997, 0.014699789695441723, 0.014692644122987986, 0.014729911927133799, 0.014797206968069077, 0.014636120293289423, 0.014741695020347834, 0.014622685965150595, 0.014656486921012402, 0.01468599308282137, 0.014804715756326914, 0.014645078219473362, 0.014745132066309452, 0.014799618627876043, 0.014700011350214481, 0.014681000728160143, 0.014796730130910873, 0.014779581222683191, 0.014778999611735344, 0.014674995094537735, 0.01475163223221898, 0.014541186857968569, 0.014674162957817316, 0.014637688174843788, 0.015507607720792294, 0.014828876126557589, 0.01464023720473051, 0.01475882064551115, 0.014751597307622433, 0.01456085592508316, 0.014708362054079771, 0.01476042065769434, 0.014748611021786928, 0.014724312350153923, 0.014729894697666168, 0.014700858388096094, 0.014667548704892397, 0.014875735156238079, 0.014872099738568068, 0.014597387053072453, 0.014679097104817629, 0.0147287892177701, 0.014732816722244024, 0.01474517909809947, 0.014742496889084578, 0.014668080024421215, 0.014674410223960876, 0.014687162823975086, 0.01472104387357831, 0.014745264314115047, 0.014735789969563484, 0.014673434663563967, 0.014717397280037403, 0.014752116985619068, 0.014704774133861065, 0.014651390723884106, 0.014816053211688995, 0.014656541869044304, 0.015034445095807314, 0.014658160042017698, 0.01483530504629016, 0.014794243033975363, 0.014682110864669085, 0.014734799042344093, 0.014791755937039852, 0.01475570909678936, 0.014689941890537739, 0.014806450810283422, 0.01463369419798255, 0.014608395751565695, 0.014941173139959574, 0.014702365268021822, 0.014896240551024675, 0.014674658421427011, 0.014790112618356943, 0.014633644372224808, 0.014752126764506102, 0.014747446868568659, 0.014733069110661745, 0.01475796289741993, 0.014739679172635078, 0.014724994078278542, 0.014627437107264996, 0.014722151681780815, 0.014626444317400455, 0.014691696967929602, 0.014795309863984585, 0.014819024130702019, 0.014695428777486086, 0.014697371982038021, 0.014909834135323763, 0.014690313022583723, 0.014749173074960709, 0.014744010753929615, 0.014838830102235079, 0.014615370891988277, 0.014709162060171366, 0.014809577260166407, 0.014655432663857937, 0.014748105313628912, 0.0148273347876966, 0.01472740201279521, 0.014710277784615755, 0.014721378218382597, 0.014793294947594404, 0.014726754277944565, 0.015036174561828375, 0.014656162355095148, 0.014900448732078075, 0.014738244004547596, 0.014693418983370066, 0.01469297893345356, 0.01467035198584199, 0.014825569000095129, 0.014705346431583166, 0.014891302678734064, 0.014681057073175907, 0.014733406249433756, 0.014689131639897823, 0.014910934958606958, 0.014694806188344955, 0.014664452988654375, 0.014875463210046291, 0.014484573621302843, 0.014782300218939781, 0.014821399934589863, 0.014658797066658735, 0.014977185055613518, 0.014690051786601543, 0.01505696214735508], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 45.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  55.35     
Total input tokens:                      524288    
Total generated tokens:                  229661    
Request throughput (req/s):              18.50     
Output token throughput (tok/s):         4148.92   
Total Token throughput (tok/s):          13620.39  
---------------Time to First Token----------------
Mean TTFT (ms):                          9024.10   
Median TTFT (ms):                        4521.31   
P99 TTFT (ms):                           19954.26  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          99.75     
Median TPOT (ms):                        108.43    
P99 TPOT (ms):                           196.52    
---------------Inter-token Latency----------------
Mean ITL (ms):                           96.79     
Median ITL (ms):                         55.58     
P99 ITL (ms):                            227.95    
==================================================
