INFO 07-08 03:04:40 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=35.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-35-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.814980851020664, output_tokens=256, ttft=0.07950310409069061, itl=[4.0712300688028336e-05, 0.014333793893456459, 0.014424916822463274, 0.014514618087559938, 0.014558838214725256, 0.014544966630637646, 0.01454276405274868, 0.014544567093253136, 0.014550305902957916, 0.01462575513869524, 0.014611075166612864, 0.014520346652716398, 0.014568989165127277, 0.014544932171702385, 0.014727759640663862, 0.014535628259181976, 0.014622553717345, 0.014560128096491098, 0.014540391974151134, 0.014552955981343985, 0.014612287282943726, 0.014611747115850449, 0.014653772581368685, 0.014648509211838245, 0.01452928176149726, 0.014654084108769894, 0.014553917106240988, 0.014571722131222486, 0.014633798971772194, 0.014571970794349909, 0.014685796108096838, 0.014589217957109213, 0.014597747940570116, 0.014625713229179382, 0.014587638899683952, 0.014605417847633362, 0.014905954245477915, 0.014635514933615923, 0.014551600906997919, 0.014687173068523407, 0.014677084982395172, 0.014637132175266743, 0.014622495044022799, 0.014648542739450932, 0.014644322916865349, 0.014565757010132074, 0.014576067216694355, 0.014670409727841616, 0.014633323065936565, 0.014673969242721796, 0.014669843949377537, 0.014600792899727821, 0.01465050084516406, 0.014678907115012407, 0.014632272068411112, 0.014651398174464703, 0.014613552950322628, 0.014675161801278591, 0.014589122962206602, 0.014592770021408796, 0.01461282093077898, 0.014604391995817423, 0.014603981282562017, 0.014595667831599712, 0.014703168999403715, 0.014650975819677114, 0.014603006187826395, 0.014593872241675854, 0.014600127935409546, 0.014635854866355658, 0.014688495080918074, 0.014697602018713951, 0.014735600911080837, 0.014554894994944334, 0.014631642028689384, 0.014720547944307327, 0.014691319782286882, 0.014729329384863377, 0.01458383072167635, 0.01467185327783227, 0.014673661906272173, 0.01458160812035203, 0.014605015981942415, 0.014631742611527443, 0.01470276527106762, 0.01466976385563612, 0.01461893692612648, 0.014712185133248568, 0.01463750982657075, 0.014650300145149231, 0.014678959269076586, 0.014708632603287697, 0.014594519045203924, 0.01467103697359562, 0.014647565316408873, 0.014634684659540653, 0.0146147389896214, 0.014634649269282818, 0.014750666916370392, 0.014701197855174541, 0.014633303973823786, 0.01467057503759861, 0.01466911705210805, 0.014678874984383583, 0.014688932336866856, 0.014710675925016403, 0.014629735611379147, 0.014630696270614862, 0.014659472741186619, 0.014585323166102171, 0.014623487833887339, 0.014785083010792732, 0.014609776437282562, 0.014601737726479769, 0.014670291915535927, 0.014612165279686451, 0.014699257910251617, 0.014659038744866848, 0.01479919534176588, 0.01450728764757514, 0.014654019381850958, 0.014607323799282312, 0.014709302224218845, 0.014646589756011963, 0.0146217942237854, 0.014706484973430634, 0.014614325016736984, 0.014664643909782171, 0.014629257842898369, 0.014623512048274279, 0.014655421022325754, 0.014641123823821545, 0.014717990066856146, 0.014643914066255093, 0.014654534868896008, 0.01469144131988287, 0.01457829587161541, 0.014636973850429058, 0.01461456110700965, 0.014691456221044064, 0.014667449984699488, 0.014633806888014078, 0.014668904710561037, 0.014592772349715233, 0.014675578102469444, 0.014624653849750757, 0.014711017720401287, 0.014610106125473976, 0.014619586989283562, 0.014677121303975582, 0.014604253694415092, 0.014647460076957941, 0.014630104880779982, 0.0147461649030447, 0.014703975059092045, 0.014587552286684513, 0.014697976876050234, 0.014738106168806553, 0.01464539160951972, 0.014640482142567635, 0.014670495875179768, 0.014656390994787216, 0.014655856415629387, 0.014667417854070663, 0.01467512408271432, 0.014619211666285992, 0.014911134261637926, 0.014688071794807911, 0.014673537109047174, 0.01460695220157504, 0.014701041858643293, 0.014645492192357779, 0.0146440458483994, 0.014717926736921072, 0.014596368186175823, 0.014610438141971827, 0.014626571908593178, 0.014624659903347492, 0.01461702911183238, 0.014677539933472872, 0.01467872690409422, 0.014637201093137264, 0.01471326220780611, 0.014624299015849829, 0.015077451709657907, 0.014633819926530123, 0.01459564408287406, 0.014658275060355663, 0.014697172213345766, 0.014678841922432184, 0.01457989402115345, 0.01467587985098362, 0.014677895233035088, 0.014612231869250536, 0.01465584710240364, 0.014643440954387188, 0.014697961043566465, 0.01469457196071744, 0.014631442725658417, 0.014663072302937508, 0.014701100997626781, 0.014556452631950378, 0.014646445401012897, 0.014663179870694876, 0.014622050803154707, 0.014650313183665276, 0.014597102999687195, 0.0150050800293684, 0.01468122098594904, 0.014657835010439157, 0.014688368886709213, 0.01464275224134326, 0.014637554995715618, 0.014639724977314472, 0.01468402985483408, 0.014684023801237345, 0.014640792272984982, 0.014668473973870277, 0.014602439012378454, 0.014624417759478092, 0.014635032042860985, 0.014672892168164253, 0.014671825803816319, 0.014615741092711687, 0.014740371145308018, 0.014639758970588446, 0.014667335897684097, 0.01462687412276864, 0.014746557921171188, 0.01466740109026432, 0.014668021816760302, 0.014669719152152538, 0.014650428667664528, 0.014638630207628012, 0.014653799124062061, 0.014666394796222448, 0.014720614068210125, 0.014652966987341642, 0.014629518147557974, 0.01467318506911397, 0.014669816009700298, 0.014723504893481731, 0.014640985988080502, 0.01469310512766242, 0.014604633674025536, 0.014697234146296978, 0.014705562964081764, 0.014606384094804525, 0.014903133735060692, 0.014618540182709694, 0.014645535964518785, 0.0146740791387856, 0.014631910715252161, 0.01464866241440177, 0.014696221798658371, 0.014931081794202328], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 35.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  46.13     
Total input tokens:                      131072    
Total generated tokens:                  241568    
Request throughput (req/s):              22.20     
Output token throughput (tok/s):         5236.21   
Total Token throughput (tok/s):          8077.32   
---------------Time to First Token----------------
Mean TTFT (ms):                          2118.69   
Median TTFT (ms):                        311.14    
P99 TTFT (ms):                           5578.50   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          73.25     
Median TPOT (ms):                        79.68     
P99 TPOT (ms):                           94.44     
---------------Inter-token Latency----------------
Mean ITL (ms):                           72.48     
Median ITL (ms):                         57.25     
P99 ITL (ms):                            143.41    
==================================================
