INFO 07-08 05:23:56 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-20-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.825993398204446, output_tokens=256, ttft=0.07769627729430795, itl=[3.529805690050125e-05, 0.014238592702895403, 0.014542666263878345, 0.01467902772128582, 0.014552574139088392, 0.014606862794607878, 0.014633090235292912, 0.01465321285650134, 0.014538787305355072, 0.014678006991744041, 0.014589229598641396, 0.014500894118100405, 0.014646088238805532, 0.014614223968237638, 0.014601840637624264, 0.014633292332291603, 0.0147481937892735, 0.014579243957996368, 0.01465212693437934, 0.014575396198779345, 0.014617830980569124, 0.014631282072514296, 0.014634754043072462, 0.01467032078653574, 0.014631790108978748, 0.014676428865641356, 0.01464545028284192, 0.014671057928353548, 0.014667296782135963, 0.014956077095121145, 0.01438859524205327, 0.014653983991593122, 0.01463669678196311, 0.014682171866297722, 0.014585896395146847, 0.014716971665620804, 0.01469865394756198, 0.014644571114331484, 0.014640855137258768, 0.014694659039378166, 0.014659376814961433, 0.014591194223612547, 0.014651292935013771, 0.014730432070791721, 0.014639876782894135, 0.014692080207169056, 0.014677586033940315, 0.014641318004578352, 0.014660055749118328, 0.014713212847709656, 0.01471443334594369, 0.014671874698251486, 0.014667436946183443, 0.014623351395130157, 0.014649905730038881, 0.014836465939879417, 0.014641662128269672, 0.014824015088379383, 0.014641680754721165, 0.014635512139648199, 0.01467848801985383, 0.014702401123940945, 0.014723364729434252, 0.014637255109846592, 0.014733572956174612, 0.014655191916972399, 0.01470599602907896, 0.014709497336298227, 0.014707132708281279, 0.014732914976775646, 0.014843238983303308, 0.01453477330505848, 0.014642992988228798, 0.014727144036442041, 0.014651292935013771, 0.014708229806274176, 0.014712352305650711, 0.014711309690028429, 0.014655476901680231, 0.014609048143029213, 0.014651483856141567, 0.014680386986583471, 0.014699079096317291, 0.014663178008049726, 0.014774010982364416, 0.014680367894470692, 0.014687919057905674, 0.014676544349640608, 0.014693565666675568, 0.014703614171594381, 0.014793023932725191, 0.014747429173439741, 0.014641721732914448, 0.014697771985083818, 0.014650002121925354, 0.014698689803481102, 0.014732716139405966, 0.014710711315274239, 0.014718768652528524, 0.014694433193653822, 0.01468530809506774, 0.014721469953656197, 0.014684883877635002, 0.01473486190661788, 0.014826629310846329, 0.014712720643728971, 0.014758754055947065, 0.01466446602717042, 0.014725166838616133, 0.014715774450451136, 0.014752683695405722, 0.014739208854734898, 0.014706213027238846, 0.014764949213713408, 0.014681295957416296, 0.01468903012573719, 0.014662804082036018, 0.014748810790479183, 0.014768662862479687, 0.014714359305799007, 0.014652763027697802, 0.014643148053437471, 0.014724510721862316, 0.014696887228637934, 0.014726875815540552, 0.014804041013121605, 0.01470733992755413, 0.01469325926154852, 0.014748806599527597, 0.014667939394712448, 0.014870479702949524, 0.014659465290606022, 0.01472467603161931, 0.014649489894509315, 0.014691872987896204, 0.014708586037158966, 0.01467538671568036, 0.01473253220319748, 0.014680692926049232, 0.0147586390376091, 0.014626270160079002, 0.014718811959028244, 0.014690281823277473, 0.014699813909828663, 0.014755102340131998, 0.014783172868192196, 0.01468858914449811, 0.014685179572552443, 0.01466314122080803, 0.014756790827959776, 0.014720725361257792, 0.01468085078522563, 0.01476203789934516, 0.014648573938757181, 0.014755378942936659, 0.014704409055411816, 0.014715356286615133, 0.01468717772513628, 0.014686129055917263, 0.014787576161324978, 0.014698877930641174, 0.014723374973982573, 0.01471669226884842, 0.014706662856042385, 0.014714553952217102, 0.014768410008400679, 0.014765691943466663, 0.014633649960160255, 0.014697121921926737, 0.014755019918084145, 0.014743381179869175, 0.014678074046969414, 0.014696552883833647, 0.015069541055709124, 0.01460255216807127, 0.014655584935098886, 0.014695668127387762, 0.01473214291036129, 0.014678632840514183, 0.015102498233318329, 0.014306021854281425, 0.014726633206009865, 0.014715917874127626, 0.014710988849401474, 0.014741729944944382, 0.014731640927493572, 0.014806341379880905, 0.014689952600747347, 0.014643031172454357, 0.014717386104166508, 0.014737419784069061, 0.014761687256395817, 0.014697514940053225, 0.01474428502842784, 0.014715546742081642, 0.014689849223941565, 0.014718982856720686, 0.014814644120633602, 0.014720791950821877, 0.014678780920803547, 0.014797747135162354, 0.014731639996170998, 0.01468776585534215, 0.014706679154187441, 0.014674364123493433, 0.014734340831637383, 0.014724373817443848, 0.014776438008993864, 0.014692401979118586, 0.014675660990178585, 0.014676622115075588, 0.014764558058232069, 0.014747282955795527, 0.014661589171737432, 0.014732547104358673, 0.01467442000284791, 0.014668905641883612, 0.01465778611600399, 0.014765903819352388, 0.014703810214996338, 0.014735778793692589, 0.014719903003424406, 0.014659082982689142, 0.014656280167400837, 0.014752267859876156, 0.01472380617633462, 0.014727090951055288, 0.01470576785504818, 0.014646202325820923, 0.014750388916581869, 0.014655430801212788, 0.014742373023182154, 0.01469178730621934, 0.014741453807801008, 0.014823819044977427, 0.014636862091720104, 0.014707952737808228, 0.014711880125105381, 0.014650858938694, 0.014992105308920145, 0.014692382887005806, 0.014826120808720589, 0.01466019731014967, 0.014781578909605742, 0.014715018682181835, 0.014763548970222473, 0.014716459438204765, 0.014736208599060774, 0.01473388820886612, 0.014704084023833275, 0.01489797979593277, 0.014667136128991842, 0.014630930032581091, 0.014744094107300043, 0.01488851709291339, 0.014863188844174147], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  61.10     
Total input tokens:                      131072    
Total generated tokens:                  240548    
Request throughput (req/s):              16.76     
Output token throughput (tok/s):         3936.83   
Total Token throughput (tok/s):          6081.97   
---------------Time to First Token----------------
Mean TTFT (ms):                          157.23    
Median TTFT (ms):                        160.59    
P99 TTFT (ms):                           254.00    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          46.57     
Median TPOT (ms):                        47.85     
P99 TPOT (ms):                           54.67     
---------------Inter-token Latency----------------
Mean ITL (ms):                           46.31     
Median ITL (ms):                         32.05     
P99 ITL (ms):                            105.22    
==================================================
