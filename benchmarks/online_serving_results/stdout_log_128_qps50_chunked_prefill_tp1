INFO 07-08 03:01:20 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=4.437507811933756, output_tokens=256, ttft=0.7110935570672154, itl=[4.272162914276123e-05, 0.01403010729700327, 0.014212656766176224, 0.014371003955602646, 0.014345400035381317, 0.014318139292299747, 0.014442629646509886, 0.01445440435782075, 0.0143220080062747, 0.014418649952858686, 0.014367133844643831, 0.014301237184554338, 0.014371308032423258, 0.014393792022019625, 0.014255910646170378, 0.01442207908257842, 0.014366019051522017, 0.014267373830080032, 0.014388243202120066, 0.014340722933411598, 0.014347773045301437, 0.014445427805185318, 0.014382087159901857, 0.014317748136818409, 0.014333636034280062, 0.014317800756543875, 0.014361659996211529, 0.01435690512880683, 0.014487375039607286, 0.0144776557572186, 0.014238994102925062, 0.01455291686579585, 0.014563788194209337, 0.014520404860377312, 0.014542588032782078, 0.014567875303328037, 0.014612316619604826, 0.014539559371769428, 0.014639102853834629, 0.014560260809957981, 0.0146396872587502, 0.014492433052510023, 0.014503380749374628, 0.014631837140768766, 0.0145873399451375, 0.014585467055439949, 0.014568738173693419, 0.014686999842524529, 0.01467023603618145, 0.01450526574626565, 0.014676949009299278, 0.014544872101396322, 0.01454051909968257, 0.01461171405389905, 0.014582864008843899, 0.014588735066354275, 0.014670746866613626, 0.014664502814412117, 0.014592217281460762, 0.014578033704310656, 0.01459347503259778, 0.014616461005061865, 0.014598287176340818, 0.014714480843394995, 0.014564214274287224, 0.014585135970264673, 0.01463332585990429, 0.014649596065282822, 0.014613067731261253, 0.014585315249860287, 0.01464510103687644, 0.014623321127146482, 0.014641519635915756, 0.014587962068617344, 0.014678977895528078, 0.014630686957389116, 0.014525274280458689, 0.01473399717360735, 0.01447970187291503, 0.014617522712796926, 0.014643486123532057, 0.01460199523717165, 0.014590912964195013, 0.014593856874853373, 0.01467995997518301, 0.014722233172506094, 0.01461305283010006, 0.01462199492380023, 0.014598408248275518, 0.014606395736336708, 0.01459177816286683, 0.014649169985204935, 0.014594470150768757, 0.014644661918282509, 0.014630080666393042, 0.014605645090341568, 0.01464636716991663, 0.014579032082110643, 0.014640445820987225, 0.014600060880184174, 0.014696037396788597, 0.014565285760909319, 0.014628503937274218, 0.014596042223274708, 0.014601111877709627, 0.01460491493344307, 0.014643383212387562, 0.014609640929847956, 0.014573318883776665, 0.014609447214752436, 0.01462229760363698, 0.014648456126451492, 0.014680705033242702, 0.014658565167337656, 0.014639570843428373, 0.014687072951346636, 0.014607849065214396, 0.01465833792462945, 0.014603405259549618, 0.01466702064499259, 0.014589244965463877, 0.014613711275160313, 0.014618827030062675, 0.014664419926702976, 0.01460340991616249, 0.0147799220867455, 0.014428263064473867, 0.014570306055247784, 0.014652094803750515, 0.014716391917318106, 0.014608586207032204, 0.014680697117000818, 0.014626419637352228, 0.014651310164481401, 0.014670647215098143, 0.014625543728470802, 0.01469785487279296, 0.014675943180918694, 0.014724405016750097, 0.014653163030743599, 0.014680175110697746, 0.014660088811069727, 0.014615651220083237, 0.01461983472108841, 0.014665745198726654, 0.0146504957228899, 0.014693905133754015, 0.014624892268329859, 0.014659654814749956, 0.014617450069636106, 0.014599500689655542, 0.01463043037801981, 0.014652661047875881, 0.01467651966959238, 0.014653250109404325, 0.014657486230134964, 0.014628100674599409, 0.014598770998418331, 0.014627805911004543, 0.014666242990642786, 0.015474137384444475, 0.014612141996622086, 0.014632115606218576, 0.01479910034686327, 0.0146184959448874, 0.01465517096221447, 0.014723306056112051, 0.014615749008953571, 0.01469113677740097, 0.014693190343677998, 0.014604408759623766, 0.014637708198279142, 0.014645593706518412, 0.014716927893459797, 0.014614147134125233, 0.014673821162432432, 0.014668963849544525, 0.014639607165008783, 0.014624767936766148, 0.014697072096168995, 0.014704920817166567, 0.01457039313390851, 0.014725151937454939, 0.014647745061665773, 0.014622645918279886, 0.014684826135635376, 0.014641505666077137, 0.014752938412129879, 0.014546867925673723, 0.014717912767082453, 0.014674480073153973, 0.014657809864729643, 0.014660696033388376, 0.014669239986687899, 0.014765316154807806, 0.01465754583477974, 0.01462926622480154, 0.014692455064505339, 0.014735770877450705, 0.014602127019315958, 0.014650283847004175, 0.014712030999362469, 0.014645545277744532, 0.01467824075371027, 0.014642128255218267, 0.01468097697943449, 0.014686168637126684, 0.014767153188586235, 0.014673923142254353, 0.0146360257640481, 0.014700060244649649, 0.014667355921119452, 0.014636367093771696, 0.014760533813387156, 0.014605957083404064, 0.014645589049905539, 0.014642012771219015, 0.014654946979135275, 0.014670557342469692, 0.014662639703601599, 0.014662290923297405, 0.014696466270834208, 0.01473282091319561, 0.014644829090684652, 0.014645825140178204, 0.014650650788098574, 0.014630044810473919, 0.014707802329212427, 0.01466070581227541, 0.01471462706103921, 0.014674029778689146, 0.014766994398087263, 0.014671192038804293, 0.014627140946686268, 0.014674253761768341, 0.014720892999321222, 0.01467926288023591, 0.014845747034996748, 0.014643087983131409, 0.014660462271422148, 0.014661459717899561, 0.014847978949546814, 0.01453586807474494, 0.014741572085767984, 0.014629384968429804, 0.014660310000181198, 0.014698269311338663, 0.014814453665167093, 0.014691588003188372, 0.014599568210542202, 0.014677045866847038, 0.014601773116737604, 0.01470047514885664, 0.014638780616223812, 0.01482310425490141, 0.01493616309016943], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  42.23     
Total input tokens:                      131072    
Total generated tokens:                  242018    
Request throughput (req/s):              24.25     
Output token throughput (tok/s):         5731.46   
Total Token throughput (tok/s):          8835.51   
---------------Time to First Token----------------
Mean TTFT (ms):                          4184.20   
Median TTFT (ms):                        664.17    
P99 TTFT (ms):                           9483.63   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          71.59     
Median TPOT (ms):                        76.96     
P99 TPOT (ms):                           98.81     
---------------Inter-token Latency----------------
Mean ITL (ms):                           70.42     
Median ITL (ms):                         52.50     
P99 ITL (ms):                            156.09    
==================================================
