INFO 07-07 18:00:55 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=100, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-128-tp-1.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a mistake or a non-sequitur.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS and a "tel-prefix" mutation. It might be a technical term or a bug fix.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia**: This phrase combines several unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term from electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia**: This term is unclear, but it might be a misspelling or a made-up word.\n5. **flotation.sensorBrazil Seasons Speak-ball Mutationukkan**: This phrase appears to be a mix of unrelated terms:\n\t', success=True, latency=7.190997899975628, output_tokens=256, ttft=0.5029555470682681, itl=[4.02769073843956e-05, 0.025722594000399113, 0.025763406418263912, 0.025988323614001274, 0.026005275081843138, 0.026090259198099375, 0.025936064776033163, 0.026041619013994932, 0.02596434112638235, 0.026052978821098804, 0.025974294170737267, 0.026089446153491735, 0.0260158758610487, 0.0260242847725749, 0.026256142184138298, 0.02580505609512329, 0.026032661087810993, 0.026020526885986328, 0.02606319496408105, 0.02607769099995494, 0.0260631637647748, 0.026101616211235523, 0.026086349971592426, 0.026103646028786898, 0.02611309988424182, 0.02607871824875474, 0.026267163921147585, 0.02600566716864705, 0.026289035566151142, 0.02610701136291027, 0.026128116063773632, 0.026100336574018, 0.026468901429325342, 0.025931063573807478, 0.02608515042811632, 0.02625323971733451, 0.026035378221422434, 0.026052481029182673, 0.026156502775847912, 0.026110567152500153, 0.026136901695281267, 0.026168383192270994, 0.02642354601994157, 0.026079790201038122, 0.02613007090985775, 0.026084470096975565, 0.026284318882972002, 0.0260653761215508, 0.026131706777960062, 0.02614511689171195, 0.026170817203819752, 0.026203853078186512, 0.02622219594195485, 0.02625723509117961, 0.026169287972152233, 0.026142173912376165, 0.026199195068329573, 0.026183786801993847, 0.026193758007138968, 0.026237552985548973, 0.026183911133557558, 0.026200728956609964, 0.026186062023043633, 0.026148721110075712, 0.026225453708320856, 0.02613390702754259, 0.026260034181177616, 0.026205064728856087, 0.02626583632081747, 0.026138364803045988, 0.02625379106029868, 0.026394221000373363, 0.026176493149250746, 0.02611484006047249, 0.02630079770460725, 0.02625346090644598, 0.026215984020382166, 0.02613304415717721, 0.026212119963020086, 0.026477716863155365, 0.026232538279145956, 0.0261610159650445, 0.02620820514857769, 0.02616759156808257, 0.026244961190968752, 0.026256020180881023, 0.026257188990712166, 0.02616571495309472, 0.02623873297125101, 0.026167463045567274, 0.026233823969960213, 0.02614777209237218, 0.026324294041842222, 0.026202415581792593, 0.026218104176223278, 0.026165650226175785, 0.02631721179932356, 0.026212135795503855, 0.026287893299013376, 0.026253637857735157, 0.02620199415832758, 0.026226524729281664, 0.02621262427419424, 0.026183031033724546, 0.02626942563802004, 0.026201995089650154, 0.026196565944701433, 0.026137455366551876, 0.02627652697265148, 0.026415674947202206, 0.02617152174934745, 0.026214025914669037, 0.02623212616890669, 0.02610169304534793, 0.02621421217918396, 0.026210363022983074, 0.026272048708051443, 0.026194877922534943, 0.026266204193234444, 0.026310055050998926, 0.02608159789815545, 0.026116738095879555, 0.026272079907357693, 0.02624195721000433, 0.02628075098618865, 0.026206662878394127, 0.026216855738312006, 0.026202306151390076, 0.026296800933778286, 0.026254378259181976, 0.026283864863216877, 0.026189387775957584, 0.02617617743089795, 0.026204198598861694, 0.026222769170999527, 0.026262350846081972, 0.02645942708477378, 0.02612552000209689, 0.02615927206352353, 0.026138528250157833, 0.026397686917334795, 0.026165262795984745, 0.026293556205928326, 0.026187757961452007, 0.026191691868007183, 0.02618522895500064, 0.026324828155338764, 0.026270885951817036, 0.026421091984957457, 0.026112203020602465, 0.026211708784103394, 0.026232262142002583, 0.02631132584065199, 0.026223975233733654, 0.026234158780425787, 0.026161795016378164, 0.026295331306755543, 0.026499281637370586, 0.026159787084907293, 0.026217991020530462, 0.02618660731241107, 0.026243640575557947, 0.026274698320776224, 0.026244863867759705, 0.026306138839572668, 0.026177919004112482, 0.026279172394424677, 0.02621247200295329, 0.026346157770603895, 0.02622120315209031, 0.026286040898412466, 0.026196430902928114, 0.026306113228201866, 0.026273380033671856, 0.02631104690954089, 0.02624701103195548, 0.02631788793951273, 0.026208155788481236, 0.02630888717249036, 0.026252607814967632, 0.02629244513809681, 0.026191980112344027, 0.026335956994444132, 0.02624620171263814, 0.026323825120925903, 0.026193393860012293, 0.026488394010812044, 0.026187874376773834, 0.026318171061575413, 0.02624838473275304, 0.02630908600986004, 0.026325087063014507, 0.026344077195972204, 0.026211608666926622, 0.026249165181070566, 0.026456823106855154, 0.026241658721119165, 0.02629826497286558, 0.026240251027047634, 0.026267570909112692, 0.026352715212851763, 0.026312566827982664, 0.026298813987523317, 0.026239861268550158, 0.026316648814827204, 0.026307811960577965, 0.02628728188574314, 0.026306200306862593, 0.02638183208182454, 0.026340840850025415, 0.026283128187060356, 0.026237414684146643, 0.02643091417849064, 0.026286704000085592, 0.0263202590867877, 0.026244424749165773, 0.02644619531929493, 0.026337630581110716, 0.02639438910409808, 0.026259337086230516, 0.026466007810086012, 0.026259363163262606, 0.0265377308242023, 0.026155959349125624, 0.026405239012092352, 0.026180362794548273, 0.02629933226853609, 0.026297719683498144, 0.026346496306359768, 0.02621291484683752, 0.02630795817822218, 0.026263275649398565, 0.0264453599229455, 0.026348762214183807, 0.026202483102679253, 0.02636218909174204, 0.026532988995313644, 0.026124507654458284, 0.026270229369401932, 0.026213194709271193, 0.0263711242005229, 0.026269828900694847, 0.026309823151677847, 0.026292980648577213, 0.026364628225564957, 0.026317258831113577, 0.026323785074055195, 0.02626147586852312, 0.026395725086331367, 0.02625207230448723, 0.026333875954151154, 0.02627947274595499, 0.02639895910397172, 0.02628855686634779, 0.026284484192728996, 0.026627901010215282], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     100       
Benchmark duration (s):                  10.78     
Total input tokens:                      12800     
Total generated tokens:                  23260     
Request throughput (req/s):              9.27      
Output token throughput (tok/s):         2156.90   
Total Token throughput (tok/s):          3343.85   
---------------Time to First Token----------------
Mean TTFT (ms):                          330.20    
Median TTFT (ms):                        305.78    
P99 TTFT (ms):                           818.16    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          35.92     
Median TPOT (ms):                        35.54     
P99 TPOT (ms):                           44.16     
---------------Inter-token Latency----------------
Mean ITL (ms):                           35.46     
Median ITL (ms):                         33.11     
P99 ITL (ms):                            124.91    
==================================================
