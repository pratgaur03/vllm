INFO 07-08 06:01:07 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=15.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-15-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `testProfit`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C# (e.g., `Cleanup.structure`)\n* Kotlin (e.g., `lateinit`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Data science and machine learning (e.g., `testProfit`, `estimator`)\n* Web development (e.g., `Component`, `Cleanup.structure`)\n* IoT and sensor-related topics (e.g., `SENSOR_BUSY`, `wifi`)\n* Finance and economics (e.g., `NYSE`, `profit`)\n* Geography and location-based services (e.g., `Latitude`, `Prague`)\n\n**Other observations:**\n\n* There are many typos and non-English words/phrases, which might indicate that the text is a result of a machine translation or a text generation algorithm.\n* Some parts of the", success=True, latency=3.8390739653259516, output_tokens=256, ttft=0.08580122794955969, itl=[4.21782024204731e-05, 0.014940304215997458, 0.014685158617794514, 0.01462723733857274, 0.014687198679894209, 0.014677544124424458, 0.014695770107209682, 0.0147622749209404, 0.014829669147729874, 0.014725490007549524, 0.01472842087969184, 0.014611850958317518, 0.014675324782729149, 0.01474000234156847, 0.014673542696982622, 0.014703151304274797, 0.014681425876915455, 0.014525291975587606, 0.014769907109439373, 0.014580889139324427, 0.014671963639557362, 0.01464953226968646, 0.014710785821080208, 0.01466060383245349, 0.014628010336309671, 0.014663738664239645, 0.014626054093241692, 0.014747716952115297, 0.014630120247602463, 0.014741633087396622, 0.014641668647527695, 0.014624829404056072, 0.014709980692714453, 0.01475139195099473, 0.01467049028724432, 0.014670866075903177, 0.014779774006456137, 0.014705797657370567, 0.014681939966976643, 0.01472922321408987, 0.014700605999678373, 0.01466463878750801, 0.014607199933379889, 0.014756701420992613, 0.014694831799715757, 0.014651432167738676, 0.014657252002507448, 0.014686260838061571, 0.014700816012918949, 0.01481061615049839, 0.014707738999277353, 0.014683520887047052, 0.014674223028123379, 0.014823047909885645, 0.014576467219740152, 0.014720297884196043, 0.014702153857797384, 0.014649876859039068, 0.014662601985037327, 0.014677685219794512, 0.014743757899850607, 0.014681293163448572, 0.014725035056471825, 0.014739228878170252, 0.014646071009337902, 0.014658850152045488, 0.01470577996224165, 0.014686768874526024, 0.01476564584299922, 0.014667690265923738, 0.014681828673928976, 0.01469595218077302, 0.014730077236890793, 0.014760058838874102, 0.014755496755242348, 0.01470057899132371, 0.014661302324384451, 0.014753551688045263, 0.01464794622734189, 0.014688049908727407, 0.014696449972689152, 0.014784616883844137, 0.014727598987519741, 0.014960349071770906, 0.014759357087314129, 0.01468256302177906, 0.014772354159504175, 0.014656675979495049, 0.014722718857228756, 0.014721908140927553, 0.014704377856105566, 0.014702736865729094, 0.014685170259326696, 0.014679030980914831, 0.014658800791949034, 0.014711976051330566, 0.01470433222129941, 0.014665740076452494, 0.014718618709594011, 0.01472562225535512, 0.01470215991139412, 0.014688593801110983, 0.014709312003105879, 0.014739940874278545, 0.014734615106135607, 0.014655675273388624, 0.014688593801110983, 0.01466481713578105, 0.014985385816544294, 0.014608959201723337, 0.014699692837893963, 0.0146924271248281, 0.01471343170851469, 0.01470185024663806, 0.014739220030605793, 0.014754671137779951, 0.014705555979162455, 0.014774663839489222, 0.014703436754643917, 0.014685080386698246, 0.014686636626720428, 0.014731106348335743, 0.014828086830675602, 0.014724736101925373, 0.014785468112677336, 0.014681235887110233, 0.014661474153399467, 0.014904423616826534, 0.01465542707592249, 0.014687445014715195, 0.014745803084224463, 0.014719490893185139, 0.014770491048693657, 0.014648891985416412, 0.014717809855937958, 0.014722420368343592, 0.01472621364519, 0.014720260165631771, 0.014768968801945448, 0.014715842436999083, 0.014693789649754763, 0.014695911202579737, 0.014756753109395504, 0.014734106604009867, 0.015030618291348219, 0.014719430822879076, 0.014714883174747229, 0.014696897938847542, 0.014745844062417746, 0.014721547719091177, 0.014742386061698198, 0.014694246929138899, 0.014713595155626535, 0.014761274214833975, 0.014734959695488214, 0.014713563024997711, 0.014739661943167448, 0.014719760976731777, 0.014723679050803185, 0.014743423089385033, 0.01472708722576499, 0.014791203662753105, 0.014625573996454477, 0.014775863382965326, 0.014683809597045183, 0.01475163223221898, 0.014672985766083002, 0.01471192017197609, 0.014685857109725475, 0.014700159896165133, 0.014757026918232441, 0.01473204093053937, 0.014775358140468597, 0.014797896146774292, 0.014756453689187765, 0.014779642224311829, 0.014703595079481602, 0.014675262849777937, 0.014724141918122768, 0.014718743041157722, 0.014696917962282896, 0.01471176603808999, 0.014757675118744373, 0.014752133749425411, 0.014692162163555622, 0.014698050916194916, 0.014769463334232569, 0.014746565837413073, 0.014689601957798004, 0.01471190806478262, 0.014840424992144108, 0.014684995170682669, 0.014775110874325037, 0.014687264803797007, 0.014739841222763062, 0.01482804911211133, 0.014589231926947832, 0.01473520277068019, 0.014648869168013334, 0.01478046178817749, 0.014740375336259604, 0.014704037923365831, 0.014700418803840876, 0.01476126117631793, 0.014692570082843304, 0.014825693797320127, 0.014747248962521553, 0.01474571693688631, 0.014665392227470875, 0.014738095924258232, 0.014668554998934269, 0.014748932793736458, 0.014734860975295305, 0.014740366954356432, 0.014713272452354431, 0.014677839819341898, 0.01478413213044405, 0.014756566844880581, 0.014707244001328945, 0.014731315895915031, 0.014737038873136044, 0.014700969215482473, 0.014737258199602365, 0.014724382665008307, 0.014745613094419241, 0.01468086102977395, 0.014834117144346237, 0.014714639633893967, 0.014702118001878262, 0.014817302115261555, 0.01464170590043068, 0.014813383109867573, 0.014667904004454613, 0.014705624897032976, 0.014732933137565851, 0.0147425620816648, 0.014710647985339165, 0.014761120080947876, 0.014702966902405024, 0.014681770000606775, 0.014773055911064148, 0.014782432932406664, 0.014716210309416056, 0.014786113984882832, 0.014765869826078415, 0.014674677047878504, 0.014639018103480339, 0.014787449035793543, 0.01461891271173954, 0.014732219278812408, 0.014816059730947018, 0.014691577292978764, 0.014708478935062885, 0.01473557110875845, 0.01476055895909667, 0.014901638962328434], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 15.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  78.22     
Total input tokens:                      262144    
Total generated tokens:                  238918    
Request throughput (req/s):              13.09     
Output token throughput (tok/s):         3054.54   
Total Token throughput (tok/s):          6406.01   
---------------Time to First Token----------------
Mean TTFT (ms):                          154.37    
Median TTFT (ms):                        145.02    
P99 TTFT (ms):                           273.01    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          39.20     
Median TPOT (ms):                        39.53     
P99 TPOT (ms):                           47.03     
---------------Inter-token Latency----------------
Mean ITL (ms):                           38.97     
Median ITL (ms):                         26.04     
P99 ITL (ms):                            105.49    
==================================================
