INFO 07-10 04:42:53 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-20-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=3.804475933779031, output_tokens=256, ttft=0.13305595563724637, itl=[4.027830436825752e-05, 0.014783605001866817, 0.014357414096593857, 0.01430638087913394, 0.014392913784831762, 0.014380114153027534, 0.014326700009405613, 0.0144540099427104, 0.014343648217618465, 0.014435695949941874, 0.014379567001014948, 0.014407049864530563, 0.014249267987906933, 0.014497180934995413, 0.014418975915759802, 0.014443703927099705, 0.014282598160207272, 0.014493789989501238, 0.014379252213984728, 0.014441887848079205, 0.014234784990549088, 0.014485836960375309, 0.014310563914477825, 0.014325029216706753, 0.014493100810796022, 0.01429023314267397, 0.014338972978293896, 0.014339539222419262, 0.014424084685742855, 0.014511480927467346, 0.01437454717233777, 0.014390090014785528, 0.014336640015244484, 0.014902221038937569, 0.014431371819227934, 0.014290166087448597, 0.014489172957837582, 0.014248534105718136, 0.014341093134135008, 0.014319006819278002, 0.014420371036976576, 0.01434650318697095, 0.014481587801128626, 0.014310400001704693, 0.014454614836722612, 0.014258503913879395, 0.014421563129872084, 0.014354807324707508, 0.014374189544469118, 0.014491451438516378, 0.014327550772577524, 0.014357096049934626, 0.014325500000268221, 0.014299680944532156, 0.014301200862973928, 0.014532982371747494, 0.014369361568242311, 0.014544889330863953, 0.014349850825965405, 0.014357308857142925, 0.014468389097601175, 0.014663157984614372, 0.014556331094354391, 0.014470125082880259, 0.01429927907884121, 0.014357605017721653, 0.01449058298021555, 0.014333711005747318, 0.014457572717219591, 0.014540382195264101, 0.01436311099678278, 0.014425324741750956, 0.014492229092866182, 0.014274782035499811, 0.014338335022330284, 0.014436332043260336, 0.014438997022807598, 0.014274256769567728, 0.014395582024008036, 0.014485810417681932, 0.01440088264644146, 0.01427104091271758, 0.014350016135722399, 0.014585176017135382, 0.014121253043413162, 0.014475909061729908, 0.014303232077509165, 0.014338748063892126, 0.014509506057947874, 0.014338806737214327, 0.014421930070966482, 0.014309209771454334, 0.014400357380509377, 0.014360150787979364, 0.014418361242860556, 0.014428574591875076, 0.014333236031234264, 0.014458224177360535, 0.014225939754396677, 0.014495562296360731, 0.014414839912205935, 0.014363963156938553, 0.014257163740694523, 0.014441051054745913, 0.014443164225667715, 0.014342412818223238, 0.014360611792653799, 0.014411737211048603, 0.01445434708148241, 0.014465175103396177, 0.01429753191769123, 0.014480625744909048, 0.014318624045699835, 0.014313440304249525, 0.014452221803367138, 0.014219115022569895, 0.014381922781467438, 0.014464359264820814, 0.014384523034095764, 0.014245464000850916, 0.014409238938242197, 0.014329392928630114, 0.014308498241007328, 0.01446430990472436, 0.014285316690802574, 0.014450570102781057, 0.0145528563298285, 0.014277214650064707, 0.014330703299492598, 0.014357913751155138, 0.014289185870438814, 0.014363087248057127, 0.014420042745769024, 0.01441272022202611, 0.01438143104314804, 0.014267848804593086, 0.014356173109263182, 0.014403910841792822, 0.014366924297064543, 0.014406372793018818, 0.014325391966849566, 0.014375468250364065, 0.0146425049751997, 0.014265021774917841, 0.014375986065715551, 0.014433640986680984, 0.01432443829253316, 0.014467045664787292, 0.014558018185198307, 0.014508598018437624, 0.01438841875642538, 0.014350850135087967, 0.014266835059970617, 0.014563610777258873, 0.014254744164645672, 0.014301578048616648, 0.014387895818799734, 0.014311803970485926, 0.014563885983079672, 0.014331712387502193, 0.014357336796820164, 0.014383883215487003, 0.014518373645842075, 0.014311368111521006, 0.014319607056677341, 0.014368080999702215, 0.014568105805665255, 0.014286661054939032, 0.014360012020915747, 0.014296286273747683, 0.014417304657399654, 0.014240156393498182, 0.014501552563160658, 0.01435476215556264, 0.014638630207628012, 0.014310501050204039, 0.014311947859823704, 0.014439504127949476, 0.014370009768754244, 0.014340790919959545, 0.014343677088618279, 0.01473963726311922, 0.014243149664252996, 0.014399135950952768, 0.014301727060228586, 0.014347057323902845, 0.014361291658133268, 0.014460287056863308, 0.014500963967293501, 0.014328396879136562, 0.014375207014381886, 0.014367956202477217, 0.01435993006452918, 0.01436875993385911, 0.014436967205256224, 0.014548205770552158, 0.014345642179250717, 0.014543723780661821, 0.014352716039866209, 0.014397928956896067, 0.014365082141011953, 0.014446466695517302, 0.014397740364074707, 0.014446490909904242, 0.014388730749487877, 0.014324745163321495, 0.01461690803989768, 0.014419381972402334, 0.014376497827470303, 0.01458305399864912, 0.014423773158341646, 0.014327434822916985, 0.014274436049163342, 0.014325855299830437, 0.014587115962058306, 0.014199465978890657, 0.014638026710599661, 0.014175684191286564, 0.0145805892534554, 0.014293098822236061, 0.014351851772516966, 0.014353902079164982, 0.01445177523419261, 0.014566926751285791, 0.014427508227527142, 0.01435289392247796, 0.014511008746922016, 0.014464118052273989, 0.014441948384046555, 0.014334194827824831, 0.014458579942584038, 0.014374258928000927, 0.014437849167734385, 0.014387889765202999, 0.014395450241863728, 0.014538295101374388, 0.014598513022065163, 0.014343468006700277, 0.014442921616137028, 0.01435214001685381, 0.014344984199851751, 0.014464586973190308, 0.01432786975055933, 0.01437648106366396, 0.014478226192295551, 0.014433213975280523, 0.014351835008710623, 0.014532769098877907, 0.014230860862880945, 0.01430002087727189, 0.014291041065007448, 0.01442278129979968, 0.01435301173478365, 0.014360585249960423, 0.01435913098976016, 0.014762859791517258], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  79.11     
Total input tokens:                      1048576   
Total generated tokens:                  224549    
Request throughput (req/s):              12.94     
Output token throughput (tok/s):         2838.29   
Total Token throughput (tok/s):          16092.27  
---------------Time to First Token----------------
Mean TTFT (ms):                          6259.94   
Median TTFT (ms):                        1446.51   
P99 TTFT (ms):                           15288.18  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          142.26    
Median TPOT (ms):                        141.71    
P99 TPOT (ms):                           346.34    
---------------Inter-token Latency----------------
Mean ITL (ms):                           133.35    
Median ITL (ms):                         54.40     
P99 ITL (ms):                            938.87    
==================================================
