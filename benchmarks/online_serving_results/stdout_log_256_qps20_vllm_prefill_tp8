INFO 07-10 04:40:00 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-20-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `numpy`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C++ (e.g., `GPIO`)\n* Kotlin (e.g., `data class`)\n\n**Domains and topics:**\n\n* Machine learning (e.g., `DataLoader`, `estimator`)\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Web development (e.g., `Component`, `React`)\n* IoT (e.g., `GPIO`)\n* Finance (e.g., `NYSE`, `profit`)\n* Geography (e.g., `Latitude`, `Longitude`)\n* Politics (e.g., `Cuomo`, `Judicial`)\n\n**Other observations:**\n\n* There are many typos and grammatical errors throughout the text.\n* Some words and phrases appear to be randomly inserted or concatenated (e.g., `cheng Milit"&finding`, `flotation.sensorBrazil`).\n* There', success=True, latency=3.7477205521427095, output_tokens=256, ttft=0.08358928700909019, itl=[3.938516601920128e-05, 0.01397937024012208, 0.014245959930121899, 0.014277308713644743, 0.014305633958429098, 0.014491457026451826, 0.014225203078240156, 0.014345957897603512, 0.01446884823963046, 0.01412650616839528, 0.014330239966511726, 0.014331111684441566, 0.014304031152278185, 0.014298975933343172, 0.014342302922159433, 0.014398246072232723, 0.014236187096685171, 0.014283277094364166, 0.01447075791656971, 0.01436659274622798, 0.014542362187057734, 0.014291814062744379, 0.014350180048495531, 0.014237083960324526, 0.014363115187734365, 0.014325288590043783, 0.014359779190272093, 0.01439642021432519, 0.01435277471318841, 0.01453822385519743, 0.01415326027199626, 0.014248516876250505, 0.01430661603808403, 0.014405609108507633, 0.014272996690124273, 0.014196777250617743, 0.014390560798346996, 0.014290497172623873, 0.014430799055844545, 0.01423709373921156, 0.014275786001235247, 0.014428826980292797, 0.0142369931563735, 0.01444722106680274, 0.014325439929962158, 0.014335668180137873, 0.014379671774804592, 0.014271607156842947, 0.014381237793713808, 0.014576043002307415, 0.014437223318964243, 0.014327785931527615, 0.014468187931925058, 0.014284058008342981, 0.014496201183646917, 0.014173691626638174, 0.014327025040984154, 0.014434424228966236, 0.014471929986029863, 0.014322843868285418, 0.014296773821115494, 0.014372911304235458, 0.014342124108225107, 0.014458686579018831, 0.014267557300627232, 0.014233159832656384, 0.014368674252182245, 0.014298762660473585, 0.01432984508574009, 0.014378826133906841, 0.014418010134249926, 0.014633908867835999, 0.01434302981942892, 0.014240514021366835, 0.014263137243688107, 0.014290136750787497, 0.014381584245711565, 0.014410162810236216, 0.014420790132135153, 0.014277774840593338, 0.014385404996573925, 0.014296575915068388, 0.01440492132678628, 0.014308846089988947, 0.01438847091048956, 0.014432993717491627, 0.01435029599815607, 0.01427201135084033, 0.014329744968563318, 0.014383974019438028, 0.014350723009556532, 0.014349557925015688, 0.014399494975805283, 0.014357489068061113, 0.014273360837250948, 0.01441588019952178, 0.014420773833990097, 0.014348758850246668, 0.014474152121692896, 0.014452946837991476, 0.014346314128488302, 0.014630498830229044, 0.01431512227281928, 0.014326995704323053, 0.014359102118760347, 0.014469290152192116, 0.014369812794029713, 0.014411683194339275, 0.014499881770461798, 0.014360127039253712, 0.014282332267612219, 0.01446814090013504, 0.014468350913375616, 0.01440457720309496, 0.014358334708958864, 0.014346801210194826, 0.014254132751375437, 0.014375105034559965, 0.014359334018081427, 0.0143195241689682, 0.014334978070110083, 0.014415498822927475, 0.014590139966458082, 0.014098152983933687, 0.014320258982479572, 0.014376520179212093, 0.014395527075976133, 0.01436865609139204, 0.014478388708084822, 0.014438510872423649, 0.014325499068945646, 0.014406912960112095, 0.014389229007065296, 0.014305549208074808, 0.014476203825324774, 0.0142638492397964, 0.014457975048571825, 0.014523777645081282, 0.014392709359526634, 0.014338139910250902, 0.014507426880300045, 0.014352390076965094, 0.014455331023782492, 0.014433796051889658, 0.01448522275313735, 0.014243276324123144, 0.014411726035177708, 0.014271327760070562, 0.01441526785492897, 0.014445104170590639, 0.014353459235280752, 0.014300619717687368, 0.01434795605018735, 0.01444944180548191, 0.014216222334653139, 0.014364720787853003, 0.014365720096975565, 0.01442458014935255, 0.014395521953701973, 0.014405108988285065, 0.014419309794902802, 0.01431955024600029, 0.014271629974246025, 0.014674740843474865, 0.014671868178993464, 0.014319862704724073, 0.014499515295028687, 0.014182237908244133, 0.014266903977841139, 0.014338570181280375, 0.014319671783596277, 0.014409434050321579, 0.014350846875458956, 0.014329926110804081, 0.014302747789770365, 0.014405949041247368, 0.014307147357612848, 0.014312163926661015, 0.014334178064018488, 0.014535173773765564, 0.014281585812568665, 0.014344991184771061, 0.014407567214220762, 0.014604417607188225, 0.01446569710969925, 0.014276999980211258, 0.014483303297311068, 0.014342516660690308, 0.014333369210362434, 0.014382535126060247, 0.014602256938815117, 0.014253498986363411, 0.014290454797446728, 0.014478189870715141, 0.01441517611965537, 0.014439953956753016, 0.01441858895123005, 0.014518155250698328, 0.01438859198242426, 0.014428248163312674, 0.01436233101412654, 0.014389828778803349, 0.01442216383293271, 0.014360294211655855, 0.014579069800674915, 0.014377237297594547, 0.014375737868249416, 0.01447027176618576, 0.014146014116704464, 0.01438158005475998, 0.014513141941279173, 0.014291278086602688, 0.014472849201411009, 0.014200500678271055, 0.014392073266208172, 0.014317044988274574, 0.014279890805482864, 0.014387066941708326, 0.014391466043889523, 0.014416391961276531, 0.014520393218845129, 0.014311723876744509, 0.014276803005486727, 0.01442184904590249, 0.014451216906309128, 0.014322755858302116, 0.014453525189310312, 0.014284503180533648, 0.014302744064480066, 0.014289335813373327, 0.014356719795614481, 0.014521578326821327, 0.01429548766463995, 0.014443546067923307, 0.014314540196210146, 0.014353553764522076, 0.014378378167748451, 0.014483036007732153, 0.014159990940243006, 0.014321628026664257, 0.014286638237535954, 0.014367637690156698, 0.01433695713058114, 0.014314272906631231, 0.014419883955270052, 0.014274475164711475, 0.01441608089953661, 0.014280064031481743, 0.014398065861314535, 0.014237293973565102, 0.014732555951923132, 0.014241973403841257, 0.0144119868054986, 0.014325920026749372, 0.01446055993437767, 0.014650530181825161], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  62.42     
Total input tokens:                      262144    
Total generated tokens:                  238823    
Request throughput (req/s):              16.41     
Output token throughput (tok/s):         3826.33   
Total Token throughput (tok/s):          8026.30   
---------------Time to First Token----------------
Mean TTFT (ms):                          133.46    
Median TTFT (ms):                        131.02    
P99 TTFT (ms):                           275.69    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          79.66     
Median TPOT (ms):                        87.98     
P99 TPOT (ms):                           101.29    
---------------Inter-token Latency----------------
Mean ITL (ms):                           78.87     
Median ITL (ms):                         54.93     
P99 ITL (ms):                            353.13    
==================================================
