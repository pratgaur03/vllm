INFO 07-07 18:02:09 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=100, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-512-tp-1.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed languages**: The text contains code snippets and keywords from multiple programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terms**: There are terms related to various domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "portfolio")\n\t* Technology (e.g., "GPIO", "SENSOR_BUSY", "Parcelable")\n\t* Science (e.g., "flotation", "sensor", "thermodynamics")\n\t* Geography (e.g., "Brazil", "Omaha", "Prague")\n3. **Code fragments**: The text includes incomplete code snippets, such as method signatures, class names, and variable declarations.\n4. **Error messages and warnings**: There are some error messages and warnings, like "NotFound", "Debugger", and "Cleanup".\n\n**Possible explanations:**\n\n1. **Code generation or obfuscation**: The text might be the result of a code generation or obfuscation process, which can produce unreadable', success=True, latency=6.932607613969594, output_tokens=256, ttft=0.13922897167503834, itl=[3.5011209547519684e-05, 0.026483905036002398, 0.026178487110882998, 0.026212636847048998, 0.026254273019731045, 0.02632808079943061, 0.02629403816536069, 0.026315366849303246, 0.026330022141337395, 0.026346701197326183, 0.026339519768953323, 0.02628774894401431, 0.026444645132869482, 0.026366317179054022, 0.02638372080400586, 0.026402628980576992, 0.02641907799988985, 0.02636237582191825, 0.026454252190887928, 0.02643894823268056, 0.026403941679745913, 0.026410572230815887, 0.02643716288730502, 0.02623138017952442, 0.026386957615613937, 0.02639264240860939, 0.026346166618168354, 0.02639129525050521, 0.026435259729623795, 0.02631243411451578, 0.026377820875495672, 0.026415149215608835, 0.02643154887482524, 0.026453478261828423, 0.026823919732123613, 0.026253642048686743, 0.026441331952810287, 0.026354884263128042, 0.02639792300760746, 0.026493907906115055, 0.026469972915947437, 0.02648562891408801, 0.026505993213504553, 0.026425165124237537, 0.02653355896472931, 0.02644837275147438, 0.02657889388501644, 0.02637386228889227, 0.026504236739128828, 0.02642455417662859, 0.026488634757697582, 0.026456663385033607, 0.026509227696806192, 0.02651759423315525, 0.02657165890559554, 0.026429472025483847, 0.026525872759521008, 0.0264756940305233, 0.026552438270300627, 0.026398759800940752, 0.02656803699210286, 0.02651725523173809, 0.02661040285602212, 0.026505312882363796, 0.026498536113649607, 0.026548595167696476, 0.026531650684773922, 0.026542813051491976, 0.02647604513913393, 0.02656379621475935, 0.02647431055083871, 0.026569372043013573, 0.02658286038786173, 0.026562975719571114, 0.026482485234737396, 0.02657167473807931, 0.02653401391580701, 0.02660034829750657, 0.026604820042848587, 0.02650737762451172, 0.026585480198264122, 0.026533617172390223, 0.026538511738181114, 0.026639888063073158, 0.02660850388929248, 0.026462176349014044, 0.02656304882839322, 0.026500217150896788, 0.02662580879405141, 0.026518069207668304, 0.026633957866579294, 0.02647986076772213, 0.02657607803121209, 0.026533848140388727, 0.02655752096325159, 0.02649042522534728, 0.026601210702210665, 0.026462166104465723, 0.02658572094514966, 0.026494562160223722, 0.02657595183700323, 0.026556157041341066, 0.02661356795579195, 0.0266127223148942, 0.026566476561129093, 0.026508039329200983, 0.026589050889015198, 0.02649127086624503, 0.02664052415639162, 0.026628590188920498, 0.026491058990359306, 0.026510598603636026, 0.02663860097527504, 0.026537678204476833, 0.026618652045726776, 0.026601397898048162, 0.026633333880454302, 0.026658592280000448, 0.02662388887256384, 0.02663358999416232, 0.026569582987576723, 0.026651395950466394, 0.026656670030206442, 0.026621409226208925, 0.02674205880612135, 0.026500081177800894, 0.026687175035476685, 0.026578488759696484, 0.02671030117198825, 0.026715724729001522, 0.026778467930853367, 0.026777534279972315, 0.026693586725741625, 0.026657831389456987, 0.02672111662104726, 0.026657678186893463, 0.026769581250846386, 0.026717332657426596, 0.026782681234180927, 0.026720593683421612, 0.026722469367086887, 0.02666777977719903, 0.026702733244746923, 0.026618546806275845, 0.026737417094409466, 0.026704832911491394, 0.026738718152046204, 0.026673671789467335, 0.02685106312856078, 0.026744269765913486, 0.026760853361338377, 0.026726914569735527, 0.026708195451647043, 0.02676410786807537, 0.026818871032446623, 0.026594490744173527, 0.026770252268761396, 0.026741237845271826, 0.02675261115655303, 0.026752805802971125, 0.026808916125446558, 0.02677349094301462, 0.026661301031708717, 0.026726144831627607, 0.026814329903572798, 0.02676700707525015, 0.026754907332360744, 0.02670424384996295, 0.02678629895672202, 0.02670718915760517, 0.02675394108518958, 0.026722739916294813, 0.026846468914300203, 0.026778107043355703, 0.0267782979644835, 0.02666544495150447, 0.026774020865559578, 0.026649953331798315, 0.026871363632380962, 0.026737149339169264, 0.0268541956320405, 0.026714634150266647, 0.02685524383559823, 0.02678997302427888, 0.026745538227260113, 0.026690493803471327, 0.026815705932676792, 0.026686867233365774, 0.026805485133081675, 0.02671926887705922, 0.02681159181520343, 0.02671125391498208, 0.026923404075205326, 0.026763586327433586, 0.026846098713576794, 0.02675583027303219, 0.026871817652136087, 0.026727075222879648, 0.026794665958732367, 0.026924150995910168, 0.02678585099056363, 0.026829034090042114, 0.02685538912191987, 0.026726766023784876, 0.026852604001760483, 0.026736194733530283, 0.026757951825857162, 0.026727115269750357, 0.02685504173859954, 0.026682060211896896, 0.02683327393606305, 0.026725465897470713, 0.026814176235347986, 0.02672043815255165, 0.02682820986956358, 0.026805668137967587, 0.02683508675545454, 0.02671643579378724, 0.026890809182077646, 0.026857158169150352, 0.026793567929416895, 0.02683918783441186, 0.027159326244145632, 0.026565538719296455, 0.026718002278357744, 0.026755022816359997, 0.02685457793995738, 0.026783240027725697, 0.026782643049955368, 0.02682028105482459, 0.026835788041353226, 0.026873834896832705, 0.026803371030837297, 0.02683204784989357, 0.026903029065579176, 0.02684618392959237, 0.02685075020417571, 0.02682106615975499, 0.026951854582875967, 0.02679584827274084, 0.02684870082885027, 0.02678882423788309, 0.026870890986174345, 0.026847057975828648, 0.026912366040050983, 0.026781301945447922, 0.026852541137486696, 0.026748723816126585, 0.02691854489967227, 0.026823831256479025, 0.0268264627084136, 0.026816575322300196, 0.026855137664824724, 0.026848207227885723, 0.026829391717910767, 0.02711170306429267], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     100       
Benchmark duration (s):                  13.85     
Total input tokens:                      51200     
Total generated tokens:                  22097     
Request throughput (req/s):              7.22      
Output token throughput (tok/s):         1595.18   
Total Token throughput (tok/s):          5291.29   
---------------Time to First Token----------------
Mean TTFT (ms):                          1707.62   
Median TTFT (ms):                        1744.23   
P99 TTFT (ms):                           2934.27   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          48.33     
Median TPOT (ms):                        43.70     
P99 TPOT (ms):                           161.25    
---------------Inter-token Latency----------------
Mean ITL (ms):                           42.86     
Median ITL (ms):                         34.73     
P99 ITL (ms):                            350.54    
==================================================
