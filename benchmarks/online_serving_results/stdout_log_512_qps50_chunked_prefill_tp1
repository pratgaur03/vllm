INFO 07-08 03:29:31 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=4.501653648912907, output_tokens=256, ttft=0.7428839630447328, itl=[4.4018030166625977e-05, 0.014768638648092747, 0.014364085160195827, 0.014609891921281815, 0.014619029127061367, 0.01445777714252472, 0.014626645017415285, 0.014579833019524813, 0.014471682719886303, 0.014600573107600212, 0.014550418127328157, 0.014545517042279243, 0.014596669003367424, 0.014576812740415335, 0.014460768084973097, 0.014603497926145792, 0.014652224257588387, 0.014526675920933485, 0.014641742687672377, 0.014663998037576675, 0.014482324942946434, 0.014619246125221252, 0.014604678843170404, 0.014582082163542509, 0.014561049174517393, 0.014605171047151089, 0.014608429744839668, 0.014582633040845394, 0.014659836888313293, 0.014565221965312958, 0.014537760987877846, 0.014586433302611113, 0.014602754730731249, 0.01465148525312543, 0.014620573725551367, 0.014606032986193895, 0.014596224296838045, 0.014647415839135647, 0.014601669274270535, 0.014579149894416332, 0.01461891271173954, 0.014640767127275467, 0.014610692858695984, 0.014574649278074503, 0.014595015905797482, 0.014595760963857174, 0.01458341721445322, 0.014678759966045618, 0.014633114915341139, 0.014596186112612486, 0.014586755074560642, 0.014638032764196396, 0.014597025234252214, 0.014639507979154587, 0.01474651088938117, 0.01461591711267829, 0.014636558946222067, 0.014634709805250168, 0.014642741996794939, 0.014599769841879606, 0.014615395106375217, 0.014627701137214899, 0.014649203978478909, 0.014647027011960745, 0.01487183989956975, 0.014688865281641483, 0.014721537940204144, 0.014963559806346893, 0.014702705200761557, 0.014746197033673525, 0.014697248581796885, 0.014718931168317795, 0.014709142968058586, 0.01469732215628028, 0.014795606955885887, 0.01471969811245799, 0.014743959065526724, 0.01472463272511959, 0.014707272872328758, 0.0146639384329319, 0.014758556615561247, 0.014724567998200655, 0.014739483129233122, 0.014741566963493824, 0.01470513129606843, 0.014704684726893902, 0.014711120165884495, 0.014679895713925362, 0.014745528344064951, 0.014759823679924011, 0.014722960069775581, 0.01474379701539874, 0.014747836161404848, 0.014678556006401777, 0.014813475776463747, 0.014749425929039717, 0.01470909733325243, 0.014776345808058977, 0.014683553017675877, 0.014723259955644608, 0.014708823058754206, 0.01496137585490942, 0.014717950951308012, 0.014712722972035408, 0.014729252085089684, 0.014685260131955147, 0.014686624053865671, 0.014748125802725554, 0.014790677931159735, 0.014683707151561975, 0.014697147067636251, 0.014744876883924007, 0.014714686200022697, 0.014722198713570833, 0.014760822989046574, 0.014834239147603512, 0.01481120428070426, 0.01475038193166256, 0.014745425898581743, 0.014682402834296227, 0.01472525019198656, 0.014752630144357681, 0.014769220724701881, 0.014820885844528675, 0.014734838157892227, 0.014713919255882502, 0.014771624002605677, 0.014649761840701103, 0.014827103819698095, 0.014700401108711958, 0.014705405104905367, 0.014787164982408285, 0.014767913147807121, 0.014707253780215979, 0.01474142586812377, 0.01480494998395443, 0.01477461913600564, 0.014741166029125452, 0.014809079002588987, 0.014719238970428705, 0.014761211816221476, 0.014721622224897146, 0.01478808419778943, 0.0148319979198277, 0.01475442387163639, 0.014721774030476809, 0.014747073873877525, 0.014706887304782867, 0.014813007786870003, 0.014807525090873241, 0.014812590088695288, 0.014741102699190378, 0.014722317922860384, 0.014761982019990683, 0.014754210133105516, 0.014801918994635344, 0.014779630117118359, 0.014704562723636627, 0.01481970027089119, 0.01474674604833126, 0.015670809894800186, 0.014728316105902195, 0.014784324914216995, 0.01479283720254898, 0.014778018929064274, 0.014759291894733906, 0.014780038967728615, 0.014776456169784069, 0.014704087749123573, 0.01584588922560215, 0.015114702749997377, 0.01512453192844987, 0.01514052739366889, 0.015092757996171713, 0.015167852863669395, 0.015086851082742214, 0.015130115672945976, 0.015176189132034779, 0.015080391895025969, 0.015051698312163353, 0.015008328948169947, 0.014989858027547598, 0.015078778844326735, 0.015039173886179924, 0.014993536286056042, 0.015029106754809618, 0.015038182027637959, 0.015028359834104776, 0.015083573292940855, 0.01519785774871707, 0.01489325426518917, 0.015224928967654705, 0.014782181940972805, 0.01476849103346467, 0.014753082767128944, 0.014630440156906843, 0.014742732048034668, 0.014783404767513275, 0.014699198305606842, 0.014752671122550964, 0.014756034594029188, 0.014679726213216782, 0.014707725029438734, 0.014799789991229773, 0.014725382905453444, 0.014715343248099089, 0.014688897877931595, 0.014754227828234434, 0.014701057225465775, 0.014736522920429707, 0.014879941940307617, 0.014721950050443411, 0.014698382001370192, 0.014674196019768715, 0.014740983955562115, 0.014662966132164001, 0.01474344776943326, 0.014727249275892973, 0.014702213928103447, 0.014695067889988422, 0.01470188982784748, 0.01464780606329441, 0.014649500139057636, 0.014801917131990194, 0.014789316803216934, 0.014708823058754206, 0.014690787065774202, 0.014635609928518534, 0.014666810166090727, 0.014645878691226244, 0.014790596906095743, 0.014653079211711884, 0.014684366062283516, 0.014709132723510265, 0.014587432146072388, 0.014674820005893707, 0.014688823837786913, 0.014761314261704683, 0.014771583955734968, 0.014680175110697746, 0.014692937955260277, 0.014667261857539415, 0.014653794001787901, 0.014752211049199104, 0.014682080131024122, 0.014705060049891472, 0.014669140800833702, 0.01473667612299323, 0.014733835123479366, 0.014656840823590755, 0.014718235936015844, 0.014706715010106564, 0.014645601157099009, 0.014707247726619244, 0.014694092329591513, 0.015017228666692972], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  55.99     
Total input tokens:                      524288    
Total generated tokens:                  231046    
Request throughput (req/s):              18.29     
Output token throughput (tok/s):         4126.42   
Total Token throughput (tok/s):          13490.06  
---------------Time to First Token----------------
Mean TTFT (ms):                          10511.99  
Median TTFT (ms):                        5985.70   
P99 TTFT (ms):                           23108.16  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          99.99     
Median TPOT (ms):                        108.50    
P99 TPOT (ms):                           174.72    
---------------Inter-token Latency----------------
Mean ITL (ms):                           97.29     
Median ITL (ms):                         55.34     
P99 ITL (ms):                            226.85    
==================================================
