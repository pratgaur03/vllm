INFO 07-08 06:41:03 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-5-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.84611893678084, output_tokens=256, ttft=0.10422781901434064, itl=[4.0939077734947205e-05, 0.01473171403631568, 0.014530102722346783, 0.01455194829031825, 0.014501772820949554, 0.014538168907165527, 0.01477904012426734, 0.014515907038003206, 0.014523096848279238, 0.014634893275797367, 0.014532929752022028, 0.014548005070537329, 0.014575541019439697, 0.014581950847059488, 0.01461183000355959, 0.014907317236065865, 0.014291105791926384, 0.014578938018530607, 0.01484954496845603, 0.01462273532524705, 0.014588809572160244, 0.014606410171836615, 0.01460673613473773, 0.014598654117435217, 0.014607361983507872, 0.014708041679114103, 0.014591197948902845, 0.014580420218408108, 0.014620326925069094, 0.01462573604658246, 0.014571357052773237, 0.014630460180342197, 0.014642654918134212, 0.014589526690542698, 0.014587998390197754, 0.01461969455704093, 0.014664380345493555, 0.01458970783278346, 0.014623695984482765, 0.014687018934637308, 0.014604466035962105, 0.01462574303150177, 0.014615593012422323, 0.014663747046142817, 0.014615565072745085, 0.014696548692882061, 0.014640520326793194, 0.014614840038120747, 0.014895353000611067, 0.014663745649158955, 0.01472775824368, 0.014623743016272783, 0.014644778799265623, 0.014664015267044306, 0.014647094998508692, 0.014702518004924059, 0.01459923991933465, 0.014656688086688519, 0.01465820474550128, 0.014617126900702715, 0.01464014407247305, 0.014632427133619785, 0.014658286236226559, 0.014720724895596504, 0.014648078940808773, 0.014681539963930845, 0.014675114769488573, 0.014662919100373983, 0.014653220307081938, 0.014690972864627838, 0.014746618922799826, 0.014629608951508999, 0.014707442838698626, 0.01467421930283308, 0.014603632036596537, 0.014669786673039198, 0.014740351121872663, 0.014673457015305758, 0.01458405191078782, 0.014687209390103817, 0.014735326636582613, 0.014654343947768211, 0.0146332080475986, 0.014703856315463781, 0.014728440903127193, 0.014593950007110834, 0.014633352868258953, 0.0146752898581326, 0.014664055313915014, 0.014943791087716818, 0.014606992714107037, 0.014718114864081144, 0.014620359987020493, 0.014657827094197273, 0.014733470045030117, 0.014655588194727898, 0.014719915110617876, 0.01464984891936183, 0.014703537803143263, 0.014653475023806095, 0.014662130270153284, 0.014679209794849157, 0.014682606793940067, 0.014689584262669086, 0.014729865826666355, 0.01464770920574665, 0.014654815662652254, 0.014707329217344522, 0.014623474795371294, 0.014674638397991657, 0.014685687609016895, 0.014733989257365465, 0.014671056997030973, 0.01462776679545641, 0.014674758072942495, 0.014630421996116638, 0.014665358234196901, 0.01469012862071395, 0.014683999121189117, 0.014630863908678293, 0.014708007220178843, 0.014735113829374313, 0.014659008011221886, 0.01469478290528059, 0.014717486221343279, 0.014756959863007069, 0.014616004191339016, 0.014653291087597609, 0.01476301671937108, 0.014610725920647383, 0.014714704360812902, 0.01470879977568984, 0.014737226068973541, 0.014669421128928661, 0.014689547009766102, 0.014729329850524664, 0.014721910003572702, 0.014707349240779877, 0.014952010940760374, 0.014411599840968847, 0.014617261942476034, 0.014654836151748896, 0.014700160827487707, 0.014672734308987856, 0.014743187930434942, 0.014815866947174072, 0.014612307772040367, 0.014834666159003973, 0.014712010975927114, 0.014618974179029465, 0.014650675002485514, 0.014686195645481348, 0.014735368080437183, 0.014649887103587389, 0.01471087010577321, 0.014733562711626291, 0.014638360124081373, 0.014683377929031849, 0.014664533082395792, 0.014699473045766354, 0.014676243998110294, 0.014660314191132784, 0.014697019010782242, 0.014688507653772831, 0.014738094061613083, 0.014717116951942444, 0.014721801970154047, 0.014673623256385326, 0.01465174276381731, 0.014685897156596184, 0.014646438881754875, 0.014720320235937834, 0.014692090917378664, 0.014720355160534382, 0.014604110736399889, 0.014667973853647709, 0.014728233218193054, 0.01468292297795415, 0.014668622985482216, 0.014997349120676517, 0.014357458800077438, 0.014648096170276403, 0.014713531825691462, 0.014668002258986235, 0.014682929031550884, 0.014642946887761354, 0.014741528779268265, 0.014662394300103188, 0.014664307702332735, 0.01471155509352684, 0.014654181897640228, 0.014682068955153227, 0.014751169364899397, 0.014710300602018833, 0.014665872324258089, 0.01472225971519947, 0.014679145067930222, 0.014718367252498865, 0.014660068787634373, 0.014690401032567024, 0.014745683874934912, 0.014637803193181753, 0.014643303118646145, 0.014652731828391552, 0.014652872923761606, 0.014674562960863113, 0.01470158714801073, 0.014741721097379923, 0.014718411955982447, 0.014611666090786457, 0.01466590166091919, 0.014704260043799877, 0.014706927351653576, 0.014715451747179031, 0.014703292865306139, 0.014655379112809896, 0.014695278834551573, 0.0147557333111763, 0.014731526840478182, 0.014709732960909605, 0.014761647209525108, 0.01463617803528905, 0.01467100391164422, 0.014833840075880289, 0.014664642047137022, 0.014722338877618313, 0.014690945856273174, 0.01475705299526453, 0.014613873325288296, 0.014679227955639362, 0.014684519730508327, 0.014682846143841743, 0.01471119187772274, 0.014672479126602411, 0.014714563731104136, 0.014612087979912758, 0.014639375265687704, 0.014711366035044193, 0.014709529932588339, 0.014662965200841427, 0.014697625767439604, 0.014722723048180342, 0.01462422776967287, 0.014704365283250809, 0.014674116857349873, 0.01466490002349019, 0.014898116234689951, 0.014669094700366259, 0.014740667305886745, 0.01461765868589282, 0.014764335937798023, 0.014703249093145132, 0.014642924070358276, 0.01469601085409522, 0.01471330039203167, 0.014960597734898329], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  221.36    
Total input tokens:                      524288    
Total generated tokens:                  230372    
Request throughput (req/s):              4.63      
Output token throughput (tok/s):         1040.70   
Total Token throughput (tok/s):          3409.16   
---------------Time to First Token----------------
Mean TTFT (ms):                          125.89    
Median TTFT (ms):                        116.43    
P99 TTFT (ms):                           245.81    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          22.28     
Median TPOT (ms):                        22.21     
P99 TPOT (ms):                           25.57     
---------------Inter-token Latency----------------
Mean ITL (ms):                           22.18     
Median ITL (ms):                         18.52     
P99 ITL (ms):                            107.89    
==================================================
