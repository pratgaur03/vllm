INFO 07-08 05:25:20 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=15.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-15-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.836460824124515, output_tokens=256, ttft=0.081414635758847, itl=[3.689434379339218e-05, 0.014157888945192099, 0.01461314084008336, 0.01452295295894146, 0.014607840217649937, 0.014591516926884651, 0.01455554086714983, 0.01459589321166277, 0.014605066739022732, 0.014616372063755989, 0.014533625915646553, 0.014562264084815979, 0.014632971957325935, 0.014569350983947515, 0.014557724352926016, 0.014695439022034407, 0.014596383552998304, 0.014643977396190166, 0.014685740694403648, 0.01456927228718996, 0.014693754725158215, 0.014633338898420334, 0.014575338456779718, 0.014588071964681149, 0.014623704832047224, 0.014634011778980494, 0.014614279381930828, 0.014633442740887403, 0.014602384064346552, 0.014634664170444012, 0.014622967690229416, 0.014611678197979927, 0.014643114060163498, 0.01472162501886487, 0.014663042966276407, 0.01461179694160819, 0.014629972167313099, 0.014613694977015257, 0.014628930948674679, 0.014715420082211494, 0.014655607752501965, 0.014642719179391861, 0.014676740858703852, 0.01461780397221446, 0.014642458874732256, 0.014648898970335722, 0.014659252017736435, 0.014844253193587065, 0.014655346982181072, 0.014653854072093964, 0.014681458007544279, 0.014601686969399452, 0.01470416085794568, 0.014661320950835943, 0.014696385245770216, 0.014627455733716488, 0.014630007091909647, 0.014672662131488323, 0.014639758039265871, 0.014674767851829529, 0.0147055359557271, 0.014725561253726482, 0.014614759013056755, 0.014660856686532497, 0.014639493077993393, 0.014771842863410711, 0.014655502047389746, 0.014632211066782475, 0.01470011193305254, 0.014708333183079958, 0.014629450161010027, 0.01465054601430893, 0.014792169909924269, 0.014582334086298943, 0.014668247662484646, 0.014678038191050291, 0.014647724106907845, 0.014677091967314482, 0.01474750880151987, 0.014696406200528145, 0.014651537872850895, 0.014731625095009804, 0.014697070699185133, 0.014653893187642097, 0.014690646901726723, 0.014673217199742794, 0.014657233841717243, 0.014674738049507141, 0.014675750862807035, 0.014608039055019617, 0.014644395094364882, 0.014703461900353432, 0.014661123976111412, 0.01468760333955288, 0.01477028289809823, 0.014644573908299208, 0.014678057748824358, 0.014657509047538042, 0.014694313053041697, 0.014634594321250916, 0.014751849696040154, 0.014662085101008415, 0.014746263157576323, 0.014678189065307379, 0.014667204581201077, 0.01471678540110588, 0.014686702750623226, 0.014696747995913029, 0.01467531407251954, 0.01469538314267993, 0.014734350610524416, 0.014676059130579233, 0.014717102982103825, 0.014791237190365791, 0.014505365863442421, 0.01470376318320632, 0.01465167198330164, 0.0147792580537498, 0.014718610793352127, 0.014668473973870277, 0.014698429964482784, 0.014698999002575874, 0.014684227295219898, 0.01472171163186431, 0.014729926362633705, 0.014639573637396097, 0.014785427134484053, 0.014624477829784155, 0.014809225220233202, 0.014685024041682482, 0.014734011143445969, 0.014660237822681665, 0.0146959382109344, 0.014656850602477789, 0.014680467080324888, 0.01470670523121953, 0.014666075818240643, 0.0147049599327147, 0.014804464299231768, 0.0146458656527102, 0.014704393222928047, 0.014732097741216421, 0.014710713177919388, 0.014735558070242405, 0.014645291958004236, 0.014683437068015337, 0.014717262703925371, 0.014728897251188755, 0.014647278934717178, 0.014677117113023996, 0.014676425140351057, 0.014712897595018148, 0.014636554289609194, 0.01469048811122775, 0.014690585900098085, 0.01466447301208973, 0.014651689678430557, 0.01476646214723587, 0.014696656260639429, 0.014642033725976944, 0.01466559199616313, 0.014739028178155422, 0.014637217856943607, 0.01463353680446744, 0.014667693991214037, 0.014699180144816637, 0.014684055931866169, 0.014644155278801918, 0.01471218978986144, 0.014668846968561411, 0.014682773035019636, 0.014727354981005192, 0.014709127135574818, 0.014655895996838808, 0.014671056065708399, 0.014684759080410004, 0.014760915655642748, 0.014743989333510399, 0.014677916653454304, 0.014614707324653864, 0.014713964890688658, 0.014691882766783237, 0.01466945419088006, 0.015014667063951492, 0.014673523139208555, 0.014757681638002396, 0.014660802204161882, 0.014695751015096903, 0.014669276773929596, 0.014707796275615692, 0.01473882608115673, 0.014779695775359869, 0.014636742882430553, 0.014647397212684155, 0.014682785142213106, 0.014757136814296246, 0.014676405116915703, 0.016233548987656832, 0.014327473938465118, 0.014807345811277628, 0.014893547166138887, 0.014890497084707022, 0.01489722402766347, 0.014852059073746204, 0.01494609098881483, 0.014881334733217955, 0.014879816211760044, 0.014933585654944181, 0.014870888087898493, 0.01483550714328885, 0.014969862066209316, 0.01494452590122819, 0.014909343793988228, 0.014910752419382334, 0.014875274617224932, 0.014875377994030714, 0.01490037003532052, 0.014883561059832573, 0.014899148140102625, 0.014871146995574236, 0.014862075913697481, 0.014883837196975946, 0.014993482735008001, 0.014848946128040552, 0.014877313748002052, 0.014877970330417156, 0.014881840907037258, 0.014912636950612068, 0.014800845179706812, 0.014948206953704357, 0.014871046878397465, 0.014917504042387009, 0.014843862038105726, 0.014965437818318605, 0.014856792986392975, 0.014812352135777473, 0.014965379144996405, 0.014874900691211224, 0.014877042267471552, 0.014767170883715153, 0.014942852780222893, 0.014865194447338581, 0.014883857686072588, 0.01482680393382907, 0.014914281200617552, 0.014864022843539715, 0.014948315918445587, 0.014811498112976551, 0.014937681145966053, 0.0149455601349473, 0.014862523879855871, 0.014984841924160719, 0.014985541813075542, 0.014725983142852783, 0.014895194210112095, 0.015089873690158129], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 15.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  77.96     
Total input tokens:                      131072    
Total generated tokens:                  241657    
Request throughput (req/s):              13.14     
Output token throughput (tok/s):         3099.93   
Total Token throughput (tok/s):          4781.29   
---------------Time to First Token----------------
Mean TTFT (ms):                          127.79    
Median TTFT (ms):                        109.62    
P99 TTFT (ms):                           225.62    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          34.23     
Median TPOT (ms):                        34.50     
P99 TPOT (ms):                           39.90     
---------------Inter-token Latency----------------
Mean ITL (ms):                           34.03     
Median ITL (ms):                         24.03     
P99 ITL (ms):                            91.22     
==================================================
