INFO 07-10 04:56:54 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-10-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=3.7564542931504548, output_tokens=256, ttft=0.1319715017452836, itl=[3.841519355773926e-05, 0.014582525007426739, 0.014147744048386812, 0.014197821728885174, 0.01421892223879695, 0.014351741876453161, 0.01425964292138815, 0.014091365970671177, 0.01430281437933445, 0.014167303685098886, 0.014128054026514292, 0.014213671907782555, 0.014315903186798096, 0.014153833035379648, 0.014239571988582611, 0.014177070930600166, 0.014302046038210392, 0.014167353976517916, 0.014183536171913147, 0.015993171837180853, 0.014034104999154806, 0.014064312912523746, 0.014234336093068123, 0.01425489317625761, 0.014270598068833351, 0.014259099960327148, 0.01425156369805336, 0.014126650057733059, 0.014133165124803782, 0.014249889180064201, 0.0142016657628119, 0.014219868928194046, 0.014267510268837214, 0.014120063744485378, 0.01412808196619153, 0.014247605111449957, 0.014175062999129295, 0.014244263991713524, 0.014090273063629866, 0.014238408766686916, 0.014276123140007257, 0.014241199940443039, 0.014378751162439585, 0.014282070100307465, 0.014152285642921925, 0.014075140003114939, 0.01424649404361844, 0.014146317262202501, 0.01442185090854764, 0.014207454863935709, 0.014241761062294245, 0.014200846198946238, 0.014188478700816631, 0.014118801336735487, 0.014101296663284302, 0.014217607211321592, 0.014157489873468876, 0.01416983688250184, 0.014116734266281128, 0.014202534686774015, 0.01418030634522438, 0.014223838690668344, 0.014073180966079235, 0.014229973312467337, 0.01411344576627016, 0.014073871076107025, 0.014226585160940886, 0.014224261045455933, 0.01418807078152895, 0.014205139130353928, 0.014193165116012096, 0.014187823049724102, 0.014254233799874783, 0.014168725814670324, 0.014364028349518776, 0.014230049680918455, 0.014146822039037943, 0.014152469113469124, 0.01415523188188672, 0.014190989080816507, 0.014131246134638786, 0.014279450755566359, 0.0141176781617105, 0.014163022860884666, 0.014129973016679287, 0.01412853691726923, 0.01419457234442234, 0.014298273716121912, 0.014446865301579237, 0.014021152630448341, 0.014162611216306686, 0.01401078887283802, 0.01415233127772808, 0.014181837905198336, 0.01416015811264515, 0.01438256585970521, 0.013853277079761028, 0.01420724205672741, 0.014285729732364416, 0.014112398959696293, 0.014216089155524969, 0.014315103180706501, 0.014102826826274395, 0.014237070921808481, 0.01413453696295619, 0.014219420962035656, 0.014137801248580217, 0.01414800575003028, 0.01429529208689928, 0.014139913953840733, 0.014220653101801872, 0.014141175895929337, 0.014180819969624281, 0.0141260651871562, 0.014201476704329252, 0.014288395177572966, 0.014219058211892843, 0.014287312980741262, 0.014182806015014648, 0.014254925772547722, 0.01418943889439106, 0.014164992142468691, 0.014270110987126827, 0.014224087819457054, 0.014250715263187885, 0.014054602943360806, 0.014214879833161831, 0.014200459234416485, 0.014225118793547153, 0.014141326304525137, 0.014178857672959566, 0.014147039037197828, 0.014086655341088772, 0.014053156599402428, 0.014133597258478403, 0.01420675776898861, 0.01413696724921465, 0.01421027909964323, 0.014204049948602915, 0.014167661778628826, 0.014158855192363262, 0.014241906814277172, 0.014167232904583216, 0.014314030297100544, 0.014141283929347992, 0.014318677131086588, 0.014225589577108622, 0.014177895151078701, 0.014298705849796534, 0.014062168076634407, 0.014369964133948088, 0.01411503180861473, 0.01418394036591053, 0.01425442099571228, 0.014089586678892374, 0.014185184147208929, 0.014215398114174604, 0.01421932689845562, 0.0141681800596416, 0.014220169745385647, 0.014182036276906729, 0.014208667911589146, 0.014172115828841925, 0.014141596388071775, 0.014232280664145947, 0.014124277979135513, 0.014250853098928928, 0.01420555217191577, 0.014236655086278915, 0.014103502966463566, 0.014148027636110783, 0.01414895011112094, 0.014218011870980263, 0.014255852438509464, 0.014201727695763111, 0.014240071177482605, 0.014160058926790953, 0.014370823744684458, 0.014236003160476685, 0.01420951820909977, 0.014286391902714968, 0.014286527875810862, 0.014107900205999613, 0.014290010090917349, 0.014129385817795992, 0.014070077799260616, 0.01419548923149705, 0.014321675058454275, 0.014253964647650719, 0.014139718376100063, 0.014126484747976065, 0.01427493430674076, 0.014161668717861176, 0.014151283074170351, 0.014281544834375381, 0.014214911963790655, 0.01428182004019618, 0.014107384253293276, 0.014184189960360527, 0.01409809710457921, 0.014232116751372814, 0.014491033274680376, 0.013895111624151468, 0.014214309398084879, 0.014138513710349798, 0.014241717290133238, 0.014167371671646833, 0.014276543166488409, 0.014378678053617477, 0.014013913925737143, 0.014243504032492638, 0.014263699762523174, 0.014241469092667103, 0.014161583036184311, 0.014276545029133558, 0.014225259888917208, 0.014489423017948866, 0.01422502612695098, 0.014150723814964294, 0.014301806222647429, 0.014189053792506456, 0.014231559354811907, 0.014231341890990734, 0.014198892749845982, 0.014141823165118694, 0.01419728621840477, 0.014189584646373987, 0.014169787056744099, 0.014316700864583254, 0.014208600390702486, 0.01440522400662303, 0.014168180990964174, 0.014153548050671816, 0.014164601918309927, 0.014199995901435614, 0.014266807120293379, 0.01416330086067319, 0.014370523858815432, 0.014178040903061628, 0.014172737020999193, 0.014260276220738888, 0.014312796760350466, 0.014273398090153933, 0.014201061334460974, 0.014342575799673796, 0.014250346925109625, 0.014198480173945427, 0.014224145095795393, 0.014197586569935083, 0.014297648333013058, 0.014171957038342953, 0.014323744922876358, 0.01415345212444663, 0.014225259888917208, 0.01410065172240138, 0.014956970233470201], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  113.76    
Total input tokens:                      1048576   
Total generated tokens:                  224159    
Request throughput (req/s):              9.00      
Output token throughput (tok/s):         1970.39   
Total Token throughput (tok/s):          11187.52  
---------------Time to First Token----------------
Mean TTFT (ms):                          202.61    
Median TTFT (ms):                        182.58    
P99 TTFT (ms):                           729.35    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          50.98     
Median TPOT (ms):                        51.70     
P99 TPOT (ms):                           68.20     
---------------Inter-token Latency----------------
Mean ITL (ms):                           50.59     
Median ITL (ms):                         24.55     
P99 ITL (ms):                            424.45    
==================================================
