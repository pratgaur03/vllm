INFO 07-10 03:44:02 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-5-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=4.922758135944605, output_tokens=256, ttft=4.921242185868323, itl=[4.724925383925438e-05, 1.632794737815857e-05, 9.434763342142105e-06, 6.390269845724106e-06, 5.387701094150543e-06, 5.824025720357895e-06, 5.5623240768909454e-06, 7.460825145244598e-06, 6.197020411491394e-06, 5.024019628763199e-06, 4.7497451305389404e-06, 4.979316145181656e-06, 4.981644451618195e-06, 4.697125405073166e-06, 4.538334906101227e-06, 4.8745423555374146e-06, 4.645437002182007e-06, 5.1995739340782166e-06, 4.761386662721634e-06, 4.7907233238220215e-06, 5.074311047792435e-06, 5.532987415790558e-06, 4.909001290798187e-06, 5.452893674373627e-06, 4.875939339399338e-06, 5.077105015516281e-06, 4.943925887346268e-06, 4.92483377456665e-06, 5.070120096206665e-06, 4.8908405005931854e-06, 5.564186722040176e-06, 5.336012691259384e-06, 4.88990917801857e-06, 5.541834980249405e-06, 4.874076694250107e-06, 4.7353096306324005e-06, 4.712957888841629e-06, 4.800036549568176e-06, 4.9388036131858826e-06, 1.57882459461689e-05, 4.92483377456665e-06, 6.393995136022568e-06, 4.917848855257034e-06, 4.986301064491272e-06, 4.8317015171051025e-06, 4.915986210107803e-06, 4.6798959374427795e-06, 4.891306161880493e-06, 4.72506508231163e-06, 4.737637937068939e-06, 5.1031820476055145e-06, 4.870817065238953e-06, 4.749279469251633e-06, 5.409121513366699e-06, 4.768837243318558e-06, 4.740897566080093e-06, 4.804227501153946e-06, 4.857778549194336e-06, 5.21121546626091e-06, 5.0710514187812805e-06, 4.886649549007416e-06, 4.692934453487396e-06, 4.706438630819321e-06, 5.197711288928986e-06, 4.983041435480118e-06, 5.451031029224396e-06, 4.739966243505478e-06, 4.9639493227005005e-06, 4.722271114587784e-06, 4.692934453487396e-06, 5.397014319896698e-06, 4.700850695371628e-06, 4.79305163025856e-06, 4.793982952833176e-06, 4.867091774940491e-06, 4.827976226806641e-06, 4.6407803893089294e-06, 5.597248673439026e-06, 4.6710483729839325e-06, 5.629844963550568e-06, 5.237758159637451e-06, 4.859175533056259e-06, 4.7138892114162445e-06, 5.013309419155121e-06, 4.6156346797943115e-06, 4.752073436975479e-06, 5.342066287994385e-06, 4.655215889215469e-06, 4.916917532682419e-06, 5.3658150136470795e-06, 4.767905920743942e-06, 4.7800131142139435e-06, 4.7283247113227844e-06, 6.05778768658638e-06, 7.428228855133057e-06, 4.825647920370102e-06, 5.01144677400589e-06, 4.866626113653183e-06, 4.641246050596237e-06, 4.624947905540466e-06, 5.121808499097824e-06, 5.102250725030899e-06, 4.765111953020096e-06, 5.05056232213974e-06, 4.90015372633934e-06, 4.880130290985107e-06, 5.166977643966675e-06, 4.954170435667038e-06, 4.706904292106628e-06, 6.268732249736786e-06, 5.122274160385132e-06, 4.990957677364349e-06, 5.166046321392059e-06, 4.827976226806641e-06, 4.732050001621246e-06, 4.92483377456665e-06, 5.186069756746292e-06, 5.061738193035126e-06, 5.091074854135513e-06, 5.006324499845505e-06, 5.163718014955521e-06, 4.698056727647781e-06, 5.087815225124359e-06, 4.9620866775512695e-06, 4.736240953207016e-06, 4.9388036131858826e-06, 4.733912646770477e-06, 4.6370550990104675e-06, 4.949048161506653e-06, 6.2729232013225555e-06, 5.008187144994736e-06, 5.09386882185936e-06, 4.827044904232025e-06, 4.792120307683945e-06, 4.862900823354721e-06, 4.692003130912781e-06, 5.2531249821186066e-06, 0.00013794796541333199, 1.1729076504707336e-05, 7.668044418096542e-06, 5.8659352362155914e-06, 5.337875336408615e-06, 5.139969289302826e-06, 5.403067916631699e-06, 5.117151886224747e-06, 4.766974598169327e-06, 4.828907549381256e-06, 4.873145371675491e-06, 4.902947694063187e-06, 6.333924829959869e-06, 5.1120296120643616e-06, 4.952773451805115e-06, 4.86522912979126e-06, 5.017966032028198e-06, 4.75393608212471e-06, 5.0798989832401276e-06, 4.888046532869339e-06, 4.99282032251358e-06, 5.1693059504032135e-06, 4.8978254199028015e-06, 4.798173904418945e-06, 4.985835403203964e-06, 4.684086889028549e-06, 4.857778549194336e-06, 4.796311259269714e-06, 5.148816853761673e-06, 4.678964614868164e-06, 4.818197339773178e-06, 4.698056727647781e-06, 4.617031663656235e-06, 4.798639565706253e-06, 5.243346095085144e-06, 4.784669727087021e-06, 6.882939487695694e-06, 5.402136594057083e-06, 4.838220775127411e-06, 4.718080163002014e-06, 4.819594323635101e-06, 4.7800131142139435e-06, 4.9122609198093414e-06, 4.8638321459293365e-06, 5.381181836128235e-06, 4.658009856939316e-06, 4.9388036131858826e-06, 5.042180418968201e-06, 4.877801984548569e-06, 5.132053047418594e-06, 4.756264388561249e-06, 4.804693162441254e-06, 4.980247467756271e-06, 5.061738193035126e-06, 4.835892468690872e-06, 4.979316145181656e-06, 4.75393608212471e-06, 5.871988832950592e-06, 5.567912012338638e-06, 4.79305163025856e-06, 4.740897566080093e-06, 5.967915058135986e-06, 4.792120307683945e-06, 4.631932824850082e-06, 6.857328116893768e-06, 4.838686436414719e-06, 5.078967660665512e-06, 4.8782676458358765e-06, 4.701782017946243e-06, 4.631001502275467e-06, 4.69014048576355e-06, 5.4319389164447784e-06, 4.8568472266197205e-06, 5.345325917005539e-06, 4.954636096954346e-06, 5.609355866909027e-06, 5.0389207899570465e-06, 4.624947905540466e-06, 4.651956260204315e-06, 5.907844752073288e-06, 4.818197339773178e-06, 5.684792995452881e-06, 4.747416824102402e-06, 5.111563950777054e-06, 5.044043064117432e-06, 4.897359758615494e-06, 4.783738404512405e-06, 4.862900823354721e-06, 4.906207323074341e-06, 5.725771188735962e-06, 4.852190613746643e-06, 4.791188985109329e-06, 5.961861461400986e-06, 5.718786269426346e-06, 4.7441571950912476e-06, 4.7031790018081665e-06, 6.095040589570999e-06, 6.097834557294846e-06, 4.864763468503952e-06, 4.748348146677017e-06, 4.8317015171051025e-06, 4.639383405447006e-06, 4.657544195652008e-06, 4.749279469251633e-06, 6.268732249736786e-06, 5.298294126987457e-06, 4.752073436975479e-06, 5.773734301328659e-06, 4.800036549568176e-06, 4.761852324008942e-06, 5.760230123996735e-06, 4.8461370170116425e-06, 4.88990917801857e-06, 5.836132913827896e-06, 4.7800131142139435e-06, 4.602596163749695e-06, 5.766283720731735e-06, 4.847068339586258e-06, 6.251037120819092e-06], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  657.62    
Total input tokens:                      2097152   
Total generated tokens:                  0         
Request throughput (req/s):              1.56      
Output token throughput (tok/s):         0.00      
Total Token throughput (tok/s):          3189.00   
---------------Time to First Token----------------
Mean TTFT (ms):                          125455.32 
Median TTFT (ms):                        0.00      
P99 TTFT (ms):                           656158.24 
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.00      
Median TPOT (ms):                        0.00      
P99 TPOT (ms):                           0.00      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.01      
P99 ITL (ms):                            0.02      
==================================================
