INFO 07-08 04:19:00 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=35.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-35-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=3.991799023002386, output_tokens=256, ttft=0.29499749932438135, itl=[0.002771513070911169, 0.014411508571356535, 0.014291962143033743, 0.014278643298894167, 0.014332152903079987, 0.014355035964399576, 0.014380617067217827, 0.014458491001278162, 0.01433116476982832, 0.014387397095561028, 0.014371790923178196, 0.014369985088706017, 0.014351807069033384, 0.014373518992215395, 0.014460300095379353, 0.01433659577742219, 0.014401684980839491, 0.014365417882800102, 0.01442741509526968, 0.014407913200557232, 0.014406410045921803, 0.014519109856337309, 0.014391602948307991, 0.0144013580866158, 0.014530821703374386, 0.0143835274502635, 0.014413733966648579, 0.01441822201013565, 0.014449758920818567, 0.014352112077176571, 0.014360455796122551, 0.014438039157539606, 0.01438912097364664, 0.014396373648196459, 0.01444078516215086, 0.014530154876410961, 0.01438929419964552, 0.014405252877622843, 0.014404861256480217, 0.014415661804378033, 0.014404687099158764, 0.014493697788566351, 0.014484455343335867, 0.014377685729414225, 0.0144278802908957, 0.014403422828763723, 0.01440705917775631, 0.014510865788906813, 0.014411394950002432, 0.014490513131022453, 0.01436025695875287, 0.014390199910849333, 0.014392227865755558, 0.014465289190411568, 0.014563557226210833, 0.014430160634219646, 0.014537042006850243, 0.014394569210708141, 0.014402088709175587, 0.014471755363047123, 0.014431898947805166, 0.014532322995364666, 0.014404622837901115, 0.01452894089743495, 0.014346748124808073, 0.014453708194196224, 0.014449189882725477, 0.014437896199524403, 0.014492889866232872, 0.014431791845709085, 0.01454344391822815, 0.014396814163774252, 0.014422412030398846, 0.014460287056863308, 0.014436420053243637, 0.014542020857334137, 0.014440339058637619, 0.014612188097089529, 0.01441094372421503, 0.014489582274109125, 0.014423851855099201, 0.014448896050453186, 0.014461393002420664, 0.014444157015532255, 0.014587221667170525, 0.014434255193918943, 0.014467617962509394, 0.014487012289464474, 0.014457997865974903, 0.014407516922801733, 0.014444231986999512, 0.01456497423350811, 0.014397695660591125, 0.014405461959540844, 0.014445529319345951, 0.014460832811892033, 0.014449419919401407, 0.014445161912590265, 0.014581329189240932, 0.014467868953943253, 0.014434706885367632, 0.014525429345667362, 0.014481606893241405, 0.014523900113999844, 0.014843158889561892, 0.014069446828216314, 0.014427599031478167, 0.014448663219809532, 0.014420676976442337, 0.01453936705365777, 0.01444673864170909, 0.014614941086620092, 0.014328184071928263, 0.014457460027188063, 0.014477932825684547, 0.014487967360764742, 0.014478585682809353, 0.01446679001674056, 0.014505975879728794, 0.01448018942028284, 0.01445672195404768, 0.014381428714841604, 0.014517324045300484, 0.014430043287575245, 0.014487810898572206, 0.014608707744628191, 0.014414635021239519, 0.01445334916934371, 0.014471258968114853, 0.014457917772233486, 0.014486439991742373, 0.014514119364321232, 0.01457555778324604, 0.0144583061337471, 0.014408444054424763, 0.014482697006314993, 0.014462043065577745, 0.014521787874400616, 0.014458967838436365, 0.01457529328763485, 0.014482697937637568, 0.014484245795756578, 0.014474316965788603, 0.014472232200205326, 0.014502643141895533, 0.014448476955294609, 0.014573754742741585, 0.014414548873901367, 0.01450361032038927, 0.014491166919469833, 0.014561639167368412, 0.014521653763949871, 0.014484749175608158, 0.014587108045816422, 0.01441470067948103, 0.014500030316412449, 0.014499509707093239, 0.014492399990558624, 0.014535557944327593, 0.014499206095933914, 0.014556942041963339, 0.01452396297827363, 0.01445490587502718, 0.014511915389448404, 0.014539083000272512, 0.014524535741657019, 0.014463404193520546, 0.014576032757759094, 0.014442858286201954, 0.01444494305178523, 0.014474616851657629, 0.014521703124046326, 0.014539705589413643, 0.01454720739275217, 0.01464982982724905, 0.014513057190924883, 0.014473019633442163, 0.01449840422719717, 0.014554593712091446, 0.014505906030535698, 0.014569937251508236, 0.014650615863502026, 0.014504875056445599, 0.014489355962723494, 0.01452907407656312, 0.014491771813482046, 0.015055782161653042, 0.014730315189808607, 0.01432198379188776, 0.014527230989187956, 0.014519046992063522, 0.014488499145954847, 0.014557841699570417, 0.014600709080696106, 0.014776936266571283, 0.014484661631286144, 0.014435803052037954, 0.014516092371195555, 0.014539746567606926, 0.014511222019791603, 0.014534405432641506, 0.01467588497325778, 0.014431929681450129, 0.01447940431535244, 0.014512005727738142, 0.014565209858119488, 0.014666792005300522, 0.014548362232744694, 0.01460588676854968, 0.014487533364444971, 0.014478150755167007, 0.01446647010743618, 0.014495375100523233, 0.014490632805973291, 0.014506170991808176, 0.01461147191002965, 0.01457245135679841, 0.014572440646588802, 0.014599231071770191, 0.01455191196873784, 0.014468180947005749, 0.014528375118970871, 0.014640334993600845, 0.014507409185171127, 0.014545002020895481, 0.014528939966112375, 0.014477082062512636, 0.014477484859526157, 0.01449972577393055, 0.014596205204725266, 0.01453993795439601, 0.014543795958161354, 0.014527145307511091, 0.014555613975971937, 0.01461872085928917, 0.014483831822872162, 0.014592021238058805, 0.014495678711682558, 0.014525530394166708, 0.014538112562149763, 0.014524327125400305, 0.014570065308362246, 0.014521061908453703, 0.014622849877923727, 0.014488869812339544, 0.014519982971251011, 0.01450610114261508, 0.014522045850753784, 0.014512309338897467, 0.01479928195476532, 0.01434291573241353, 0.01446142140775919, 0.014526089653372765, 0.014537286944687366, 0.014564604964107275, 0.014919821172952652], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 35.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  157.74    
Total input tokens:                      2097152   
Total generated tokens:                  229453    
Request throughput (req/s):              6.49      
Output token throughput (tok/s):         1454.65   
Total Token throughput (tok/s):          14749.87  
---------------Time to First Token----------------
Mean TTFT (ms):                          57123.80  
Median TTFT (ms):                        56842.95  
P99 TTFT (ms):                           115619.93 
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          214.79    
Median TPOT (ms):                        252.75    
P99 TPOT (ms):                           267.78    
---------------Inter-token Latency----------------
Mean ITL (ms):                           209.72    
Median ITL (ms):                         243.26    
P99 ITL (ms):                            292.52    
==================================================
