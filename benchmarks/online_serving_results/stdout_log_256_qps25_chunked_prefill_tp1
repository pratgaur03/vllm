INFO 07-08 05:58:25 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=25.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-25-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `testProfit`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C# (e.g., `Cleanup.structure`)\n* Kotlin (e.g., `lateinit`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Data science and machine learning (e.g., `testProfit`, `estimator`)\n* Web development (e.g., `Component`, `Cleanup.structure`)\n* IoT and sensor-related topics (e.g., `SENSOR_BUSY`, `wifi`)\n* Finance and economics (e.g., `NYSE`, `profit`)\n* Geography and location-based services (e.g., `Latitude`, `Prague`)\n\n**Other observations:**\n\n* There are many typos and non-English words/phrases, which might indicate that the text is a result of a machine translation or a text generation algorithm.\n* Some parts of the", success=True, latency=3.9427930521778762, output_tokens=256, ttft=0.08888093009591103, itl=[3.7511810660362244e-05, 0.01526141818612814, 0.014945610892027617, 0.014857211150228977, 0.015012362971901894, 0.014984959736466408, 0.01494882209226489, 0.015040033031255007, 0.015126603189855814, 0.014945201575756073, 0.015030383132398129, 0.014905979856848717, 0.015097173396497965, 0.014972671866416931, 0.01506449794396758, 0.015024952124804258, 0.015024527907371521, 0.015082721132785082, 0.015460694674402475, 0.014813801273703575, 0.01492732996121049, 0.015334258787333965, 0.015064831357449293, 0.015187621582299471, 0.014748343266546726, 0.015069241169840097, 0.014987426809966564, 0.015286915004253387, 0.015139947179704905, 0.014896425884217024, 0.014930654782801867, 0.015245012938976288, 0.015392430126667023, 0.015297680161893368, 0.015126043930649757, 0.015118060167878866, 0.014990724623203278, 0.015171956270933151, 0.014982509892433882, 0.015305031090974808, 0.015021719969809055, 0.014942966867238283, 0.01509805815294385, 0.0151317548006773, 0.015396192204207182, 0.015242396853864193, 0.015095263253897429, 0.014951827004551888, 0.015034324955195189, 0.01533890189602971, 0.015276201069355011, 0.015289156697690487, 0.015055300202220678, 0.015032948926091194, 0.015188020188361406, 0.015047755092382431, 0.015000971965491772, 0.01507731294259429, 0.01502874307334423, 0.015283288899809122, 0.014972241129726171, 0.015303054824471474, 0.015141856856644154, 0.015006961300969124, 0.014962431974709034, 0.015118236653506756, 0.015396937262266874, 0.014982020948082209, 0.015010993927717209, 0.015068101231008768, 0.015064111910760403, 0.015317385084927082, 0.015144769567996264, 0.015257192309945822, 0.01542371278628707, 0.01519049797207117, 0.014911634381860495, 0.015031683724373579, 0.015125260222703218, 0.01505306689068675, 0.015295382123440504, 0.015031505841761827, 0.01526633882895112, 0.014921128284186125, 0.015067630913108587, 0.014974790159612894, 0.014980044681578875, 0.0149691728875041, 0.015330114401876926, 0.015041082631796598, 0.01505471533164382, 0.015075417701154947, 0.015370919369161129, 0.015069251880049706, 0.0149930608458817, 0.015143809840083122, 0.015370910055935383, 0.015435909386724234, 0.01536887465044856, 0.01523071900010109, 0.015094240196049213, 0.015237953048199415, 0.015122510027140379, 0.015005338937044144, 0.01511117210611701, 0.014867732767015696, 0.01524371700361371, 0.014939452987164259, 0.015122964046895504, 0.01505682012066245, 0.01525697810575366, 0.014934474602341652, 0.015084817074239254, 0.015018204227089882, 0.015045154839754105, 0.015123782213777304, 0.01522477064281702, 0.015188314951956272, 0.015474144369363785, 0.015038412995636463, 0.015298769809305668, 0.015090703032910824, 0.014965835958719254, 0.015028470195829868, 0.014920755755156279, 0.015130489133298397, 0.01512920018285513, 0.014906516764312983, 0.015100546181201935, 0.015021394938230515, 0.015096359886229038, 0.014987627975642681, 0.015557941980659962, 0.014965799171477556, 0.015242430847138166, 0.015115562826395035, 0.015015718061476946, 0.014975655358284712, 0.015201063826680183, 0.01512634614482522, 0.015043025836348534, 0.01505127688869834, 0.01501022418960929, 0.015413452871143818, 0.01498686708509922, 0.015191382728517056, 0.015006634406745434, 0.015088450629264116, 0.015175335109233856, 0.015077807009220123, 0.015088619198650122, 0.014985009096562862, 0.014997503720223904, 0.01507925009354949, 0.015658893156796694, 0.014863207936286926, 0.015009880065917969, 0.015009741764515638, 0.015186152886599302, 0.015311701223254204, 0.015074015129357576, 0.015126746613532305, 0.015122801996767521, 0.014829579275101423, 0.015476593747735023, 0.015104928985238075, 0.014892399311065674, 0.015090265776962042, 0.015085995197296143, 0.015006160829216242, 0.015035084914416075, 0.01514741126447916, 0.015024302992969751, 0.015385047998279333, 0.015082374680787325, 0.014948399271816015, 0.015123247168958187, 0.015024909749627113, 0.015045436099171638, 0.015006639063358307, 0.015130350831896067, 0.015140906907618046, 0.015324899926781654, 0.015045902226120234, 0.015073169954121113, 0.015380198135972023, 0.014899380970746279, 0.015298851765692234, 0.01495856698602438, 0.015105541329830885, 0.015011877752840519, 0.015042596962302923, 0.015363102313131094, 0.015085380990058184, 0.015379732940346003, 0.01508104708045721, 0.015080521814525127, 0.015391702763736248, 0.014914922416210175, 0.01527313981205225, 0.014887123834341764, 0.015333096031099558, 0.014846209902316332, 0.015063290018588305, 0.015012518037110567, 0.015298001002520323, 0.014990981202572584, 0.015022465027868748, 0.015015819109976292, 0.014987696893513203, 0.01521771913394332, 0.0149673568084836, 0.014986927155405283, 0.01551144290715456, 0.014985751826316118, 0.0150976050645113, 0.015167302917689085, 0.015143021009862423, 0.015180994290858507, 0.015093921683728695, 0.015227393247187138, 0.015371521934866905, 0.015015113167464733, 0.015125993639230728, 0.015117782168090343, 0.014929539989680052, 0.015060827136039734, 0.015559970866888762, 0.01495191315189004, 0.015175777953118086, 0.015032506082206964, 0.01513944985345006, 0.01503813685849309, 0.015297147911041975, 0.0149930021725595, 0.015219468157738447, 0.015354618895798922, 0.015033802017569542, 0.015216117724776268, 0.015076753217726946, 0.015054048970341682, 0.015147703234106302, 0.01502010365948081, 0.015353962313383818, 0.015029830858111382, 0.015132865868508816, 0.015041175298392773, 0.015166757628321648, 0.015193422324955463, 0.01492718094959855, 0.015245293732732534, 0.015036774333566427, 0.015136685688048601, 0.01525134313851595, 0.01513506518676877, 0.01551968278363347], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 25.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  53.77     
Total input tokens:                      262144    
Total generated tokens:                  240254    
Request throughput (req/s):              19.04     
Output token throughput (tok/s):         4467.99   
Total Token throughput (tok/s):          9343.07   
---------------Time to First Token----------------
Mean TTFT (ms):                          448.41    
Median TTFT (ms):                        298.03    
P99 TTFT (ms):                           1386.50   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          80.97     
Median TPOT (ms):                        88.29     
P99 TPOT (ms):                           100.50    
---------------Inter-token Latency----------------
Mean ITL (ms):                           80.14     
Median ITL (ms):                         89.57     
P99 ITL (ms):                            173.48    
==================================================
