INFO 07-07 18:04:42 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=100, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-4096-tp-1.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=4096, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I'll do my best to help you make sense of it.\n\nThe text appears to be a combination of different programming languages, including Java, Python, and C++. There are also references to various technical terms, such as data structures, algorithms, and software development methodologies.\n\nHowever, the text is not a coherent piece of code or a well-structured document. It seems to be a collection of random snippets and phrases that are not necessarily related to each other.\n\nIf you could provide more context or information about what you are trying to accomplish or what you hope to achieve with this text, I may be able to help you better.\n\nHere are a few observations and suggestions:\n\n1. The text appears to be a mix of different programming languages and technical terms. If you are trying to learn a specific programming language or technology, it may be helpful to focus on a single resource or tutorial that provides a clear and structured introduction to the subject.\n2. The text includes many technical terms and concepts that may be unfamiliar to non-experts. If you are new to programming or software development, it may be helpful to start with some introductory resources that provide", success=True, latency=8.171310717705637, output_tokens=256, ttft=1.0428497279062867, itl=[0.15521907992661, 0.026782921981066465, 0.027150894980877638, 0.027274280786514282, 0.02716922201216221, 0.027284346986562014, 0.027227469254285097, 0.027239465154707432, 0.027218875009566545, 0.02729390561580658, 0.02721068635582924, 0.02747541107237339, 0.02713556494563818, 0.027314753737300634, 0.027307021897286177, 0.02718923008069396, 0.027229350991547108, 0.02726554311811924, 0.027288231998682022, 0.027212560176849365, 0.027287619654089212, 0.02728600101545453, 0.02727188030257821, 0.02725949790328741, 0.027244473807513714, 0.027297367341816425, 0.027283350005745888, 0.027267825789749622, 0.02719103405252099, 0.027256094850599766, 0.027270609978586435, 0.027281372342258692, 0.027219844982028008, 0.02735447185114026, 0.027129836846143007, 0.027355669997632504, 0.027197802904993296, 0.02733535598963499, 0.027232670225203037, 0.027277012821286917, 0.02721310406923294, 0.027262039948254824, 0.02727560233324766, 0.02727979375049472, 0.02731837797909975, 0.027313800062984228, 0.027343473862856627, 0.027230894193053246, 0.02732991985976696, 0.0272986670024693, 0.027210023254156113, 0.027349693700671196, 0.02724580792710185, 0.027342138346284628, 0.02724017482250929, 0.02727592783048749, 0.027288590092211962, 0.027359541039913893, 0.027276911307126284, 0.02729835081845522, 0.027324060909450054, 0.02734759310260415, 0.027298626024276018, 0.02730207610875368, 0.027342972811311483, 0.02740467106923461, 0.027379210107028484, 0.02731894562020898, 0.027305004186928272, 0.027285188902169466, 0.027282221242785454, 0.027330711018294096, 0.02729097893461585, 0.027380216866731644, 0.027279973961412907, 0.027332895901054144, 0.02724449196830392, 0.02735441830009222, 0.027305634692311287, 0.027369775343686342, 0.027249868027865887, 0.027366810012608767, 0.027306445874273777, 0.027346475049853325, 0.027287175878882408, 0.027389970142394304, 0.02728612767532468, 0.027367211412638426, 0.027329403907060623, 0.027339714113622904, 0.02736625075340271, 0.027398656122386456, 0.027288150042295456, 0.02736940886825323, 0.027311171870678663, 0.02740255929529667, 0.027254366781562567, 0.02737751929089427, 0.02731019677594304, 0.027415000833570957, 0.027248158119618893, 0.027426866814494133, 0.027343387249857187, 0.02743339817970991, 0.027339878026396036, 0.027361970860511065, 0.027307973708957434, 0.027381666004657745, 0.027376418001949787, 0.027411665301769972, 0.02732958970591426, 0.027407373301684856, 0.027344963047653437, 0.027378442697227, 0.02735510328784585, 0.027461532037705183, 0.0272746286354959, 0.02741564903408289, 0.02741197496652603, 0.02731310436502099, 0.02730252780020237, 0.027337546925991774, 0.027401979081332684, 0.02736433781683445, 0.02729563834145665, 0.027346715796738863, 0.027338469866663218, 0.02736393315717578, 0.02739500580355525, 0.027400418184697628, 0.027319718152284622, 0.02737133065238595, 0.027374842204153538, 0.027388284914195538, 0.027265101205557585, 0.02730419486761093, 0.027316646184772253, 0.02739084791392088, 0.027288565877825022, 0.027385602239519358, 0.027288487646728754, 0.027470522094517946, 0.02726441901177168, 0.027501072268933058, 0.02732106577605009, 0.02730446495115757, 0.027360098902136087, 0.027379930950701237, 0.02732642227783799, 0.027439699042588472, 0.02727241488173604, 0.027435494121164083, 0.0273317308165133, 0.027421356178820133, 0.027360010892152786, 0.0275476542301476, 0.027339082676917315, 0.02737003518268466, 0.027376302983611822, 0.02731784200295806, 0.027247310150414705, 0.027372888755053282, 0.027382615953683853, 0.027394326869398355, 0.027418744284659624, 0.027380643878132105, 0.027382842265069485, 0.027372595854103565, 0.027318608947098255, 0.027420357801020145, 0.027310878969728947, 0.027356237173080444, 0.027410767041146755, 0.0274208951741457, 0.027307720854878426, 0.027385238092392683, 0.027369424700737, 0.027404929976910353, 0.02730189636349678, 0.027454491704702377, 0.0272628809325397, 0.027468900196254253, 0.027192363049834967, 0.027425379026681185, 0.027344598900526762, 0.027375170029699802, 0.02737452508881688, 0.027315816842019558, 0.02737598307430744, 0.027337415143847466, 0.027329016011208296, 0.027462915051728487, 0.027320365887135267, 0.027407228015363216, 0.027419257909059525, 0.027417519129812717, 0.027429221663624048, 0.027385795954614878, 0.0273614632897079, 0.0273567670956254, 0.027310444973409176, 0.02748082485049963, 0.027435854077339172, 0.027415947057306767, 0.027329206001013517, 0.027413337025791407, 0.027372024953365326, 0.027437293902039528, 0.027344626840204, 0.027489270083606243, 0.027377996128052473, 0.02756109880283475, 0.027352528180927038, 0.027501207776367664, 0.027299643959850073, 0.02751066815108061, 0.027379962150007486, 0.02738101501017809, 0.027313997969031334, 0.027392391115427017, 0.027360897045582533, 0.027363357599824667, 0.02739163115620613, 0.027448459062725306, 0.02744232676923275, 0.027428298257291317, 0.027425698935985565, 0.027365047950297594, 0.027352164965122938, 0.027381367050111294, 0.027467775158584118, 0.02740813372656703, 0.027417452074587345, 0.027500051073729992, 0.02730033779516816, 0.027438248973339796, 0.027275195345282555, 0.027444850653409958, 0.02733563305810094, 0.027454432100057602, 0.027337754145264626, 0.02746866410598159, 0.02740086568519473, 0.027491458225995302, 0.027422568760812283, 0.027388195972889662, 0.027412754017859697, 0.027347367256879807, 0.027362348046153784, 0.027489477768540382, 0.027363170869648457, 0.027387467212975025, 0.02739933878183365, 0.027386687230318785, 0.0273207682184875, 0.028108047787100077], tpot=0.0, prompt_len=4096, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     100       
Benchmark duration (s):                  83.20     
Total input tokens:                      409600    
Total generated tokens:                  22892     
Request throughput (req/s):              1.20      
Output token throughput (tok/s):         275.14    
Total Token throughput (tok/s):          5198.12   
---------------Time to First Token----------------
Mean TTFT (ms):                          34696.14  
Median TTFT (ms):                        32009.44  
P99 TTFT (ms):                           71801.86  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          154.02    
Median TPOT (ms):                        136.43    
P99 TPOT (ms):                           669.34    
---------------Inter-token Latency----------------
Mean ITL (ms):                           122.25    
Median ITL (ms):                         37.40     
P99 ITL (ms):                            807.28    
==================================================
