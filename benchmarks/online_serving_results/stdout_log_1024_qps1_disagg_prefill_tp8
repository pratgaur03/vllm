INFO 07-10 02:49:35 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=1.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-1-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=4.759588343091309, output_tokens=256, ttft=4.756930362898856, itl=[7.151532918214798e-05, 2.0677689462900162e-05, 1.6325153410434723e-05, 1.3425014913082123e-05, 9.184237569570541e-06, 9.216833859682083e-06, 8.685048669576645e-06, 9.333714842796326e-06, 7.695052772760391e-06, 7.763039320707321e-06, 7.217284291982651e-06, 7.385853677988052e-06, 7.40494579076767e-06, 1.2067146599292755e-05, 3.864103928208351e-05, 1.2464821338653564e-05, 1.3758894056081772e-05, 1.4250166714191437e-05, 1.3641081750392914e-05, 8.751638233661652e-06, 8.565373718738556e-06, 9.217765182256699e-06, 9.214039891958237e-06, 9.404029697179794e-06, 9.051989763975143e-06, 9.284820407629013e-06, 9.858980774879456e-06, 7.826369255781174e-06, 8.92486423254013e-06, 8.82195308804512e-06, 9.270850569009781e-06, 9.6210278570652e-06, 9.194016456604004e-06, 1.0301358997821808e-05, 9.389594197273254e-06, 9.413342922925949e-06, 9.26479697227478e-06, 9.250827133655548e-06, 9.331386536359787e-06, 2.937205135822296e-05, 9.052921086549759e-06, 1.095375046133995e-05, 9.648967534303665e-06, 9.55723226070404e-06, 9.486917406320572e-06, 9.77981835603714e-06, 9.260140359401703e-06, 9.526032954454422e-06, 9.606126695871353e-06, 9.481795132160187e-06, 9.81893390417099e-06, 9.51206311583519e-06, 9.114854037761688e-06, 9.807292371988297e-06, 9.24011692404747e-06, 9.567011147737503e-06, 8.312985301017761e-06, 8.950941264629364e-06, 9.26479697227478e-06, 9.499955922365189e-06, 8.866190910339355e-06, 8.784700185060501e-06, 9.111128747463226e-06, 1.0880175977945328e-05, 9.343959391117096e-06, 8.805189281702042e-06, 8.388888090848923e-06, 8.810777217149734e-06, 7.966998964548111e-06, 7.883179932832718e-06, 9.464100003242493e-06, 3.4227967262268066e-05, 1.862272620201111e-05, 1.2966338545084e-05, 1.3723969459533691e-05, 1.3997778296470642e-05, 1.0860152542591095e-05, 1.0916031897068024e-05, 9.059906005859375e-06, 1.069018617272377e-05, 9.239651262760162e-06, 8.12998041510582e-06, 8.988194167613983e-06, 1.050485298037529e-05, 8.638016879558563e-06, 8.530914783477783e-06, 9.603332728147507e-06, 7.458031177520752e-06, 7.39656388759613e-06, 9.510200470685959e-06, 7.5642019510269165e-06, 7.458031177520752e-06, 7.5409188866615295e-06, 9.736046195030212e-06, 9.56561416387558e-06, 7.569324225187302e-06, 9.09995287656784e-06, 8.137896656990051e-06, 7.329043000936508e-06, 7.458031177520752e-06, 7.488764822483063e-06, 9.573996067047119e-06, 7.671304047107697e-06, 8.672010153532028e-06, 8.201692253351212e-06, 8.86106863617897e-06, 8.347909897565842e-06, 8.824281394481659e-06, 8.23289155960083e-06, 1.0906253010034561e-05, 2.7366913855075836e-05, 2.781488001346588e-05, 1.1768192052841187e-05, 1.0317657142877579e-05, 1.3852957636117935e-05, 1.54213048517704e-05, 8.728820830583572e-06, 9.24617052078247e-06, 9.621959179639816e-06, 9.434763342142105e-06, 9.72207635641098e-06, 9.591225534677505e-06, 9.187031537294388e-06, 9.51206311583519e-06, 9.016599506139755e-06, 9.464100003242493e-06, 9.356997907161713e-06, 9.537208825349808e-06, 9.528826922178268e-06, 1.2069009244441986e-05, 1.0011252015829086e-05, 9.408686310052872e-06, 9.79611650109291e-06, 1.055002212524414e-05, 9.58004966378212e-06, 9.878072887659073e-06, 9.548850357532501e-06, 9.206123650074005e-06, 9.609851986169815e-06, 9.939074516296387e-06, 9.64803621172905e-06, 9.499024599790573e-06, 9.506940841674805e-06, 9.750016033649445e-06, 9.43569466471672e-06, 9.500421583652496e-06, 9.424984455108643e-06, 9.937677532434464e-06, 9.45432111620903e-06, 1.1774711310863495e-05, 9.712297469377518e-06, 7.804017513990402e-06, 7.665716111660004e-06, 4.906207323074341e-06, 4.851724952459335e-06, 4.749279469251633e-06, 5.716923624277115e-06, 4.676170647144318e-06, 4.945788532495499e-06, 5.005858838558197e-06, 4.548113793134689e-06, 4.7711655497550964e-06, 6.120651960372925e-06, 4.868023097515106e-06, 4.854053258895874e-06, 4.634261131286621e-06, 7.955823093652725e-06, 9.316019713878632e-06, 7.944181561470032e-06, 9.479932487010956e-06, 9.088777005672455e-06, 9.213108569383621e-06, 1.0544899851083755e-05, 1.3046897947788239e-05, 7.627997547388077e-06, 2.0405277609825134e-05, 1.9949860870838165e-05, 1.801690086722374e-05, 1.279311254620552e-05, 1.3718847185373306e-05, 1.3945158571004868e-05, 1.1092051863670349e-05, 9.226147085428238e-06, 9.202864021062851e-06, 9.225215762853622e-06, 1.0084826499223709e-05, 1.0111834853887558e-05, 8.183065801858902e-06, 7.258262485265732e-06, 8.760020136833191e-06, 8.285976946353912e-06, 7.2820112109184265e-06, 7.4249692261219025e-06, 7.239636033773422e-06, 7.444992661476135e-06, 8.680392056703568e-06, 8.370727300643921e-06, 7.434282451868057e-06, 8.716713637113571e-06, 8.653849363327026e-06, 7.333233952522278e-06, 9.940937161445618e-06, 1.0738149285316467e-05, 8.518807590007782e-06, 8.722301572561264e-06, 8.668750524520874e-06, 7.258262485265732e-06, 1.1266674846410751e-05, 8.550938218832016e-06, 1.0973308235406876e-05, 8.614733815193176e-06, 9.898096323013306e-06, 7.476191967725754e-06, 1.0970048606395721e-05, 3.8170721381902695e-05, 1.8150079995393753e-05, 1.3493932783603668e-05, 1.3777054846286774e-05, 1.5224795788526535e-05, 9.127426892518997e-06, 9.526964277029037e-06, 9.243842214345932e-06, 9.214971214532852e-06, 9.756069630384445e-06, 9.622890502214432e-06, 1.0319985449314117e-05, 9.261071681976318e-06, 9.43802297115326e-06, 9.375158697366714e-06, 1.1045951396226883e-05, 9.631738066673279e-06, 9.26898792386055e-06, 9.37189906835556e-06, 1.324014738202095e-05, 9.485054761171341e-06, 9.628012776374817e-06, 9.395182132720947e-06, 9.485054761171341e-06, 9.405892342329025e-06, 9.335111826658249e-06, 9.579584002494812e-06, 9.607989341020584e-06, 1.1509284377098083e-05, 1.0346993803977966e-05, 9.323004633188248e-06, 1.145014539361e-05, 9.376555681228638e-06, 9.375158697366714e-06, 1.033395528793335e-05, 9.446870535612106e-06, 9.944196790456772e-06, 1.003313809633255e-05, 9.499955922365189e-06, 8.733943104743958e-06, 7.600989192724228e-06, 8.14022496342659e-06], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 1.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     456       
Benchmark duration (s):                  1083.08   
Total input tokens:                      466944    
Total generated tokens:                  96638     
Request throughput (req/s):              0.42      
Output token throughput (tok/s):         89.23     
Total Token throughput (tok/s):          520.35    
---------------Time to First Token----------------
Mean TTFT (ms):                          4372.93   
Median TTFT (ms):                        4792.05   
P99 TTFT (ms):                           6628.17   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.01      
Median TPOT (ms):                        0.01      
P99 TPOT (ms):                           0.01      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.01      
P99 ITL (ms):                            0.01      
==================================================
