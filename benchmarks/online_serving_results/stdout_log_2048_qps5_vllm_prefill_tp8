INFO 07-10 05:19:09 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-5-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=3.8876146501861513, output_tokens=256, ttft=0.23841831786558032, itl=[4.0008220821619034e-05, 0.015235580038279295, 0.01445102784782648, 0.014429286122322083, 0.014601047150790691, 0.014617968816310167, 0.014808556996285915, 0.014899108093231916, 0.014686826150864363, 0.014676114544272423, 0.013862176332622766, 0.014290228020399809, 0.014268783852458, 0.014319574926048517, 0.014230106957256794, 0.01433539018034935, 0.014260004740208387, 0.014233405236154795, 0.01435990585014224, 0.014391159173101187, 0.014401236083358526, 0.014304767828434706, 0.014327961951494217, 0.014295955188572407, 0.014282982796430588, 0.01441980805248022, 0.014249515254050493, 0.014287659898400307, 0.014240467920899391, 0.014289422892034054, 0.014484541025012732, 0.014270223211497068, 0.014362226705998182, 0.014235058333724737, 0.014381891582161188, 0.014248449355363846, 0.014322829898446798, 0.014257162809371948, 0.014253958128392696, 0.014323232229799032, 0.01431007869541645, 0.014488959219306707, 0.014316015876829624, 0.014288891106843948, 0.014231561683118343, 0.014293102081865072, 0.014337159227579832, 0.014324123971164227, 0.014227736741304398, 0.014295723289251328, 0.014274865854531527, 0.014265850186347961, 0.014224184677004814, 0.01435247203335166, 0.014259694144129753, 0.014422600157558918, 0.014382649678736925, 0.014296886045485735, 0.014256107155233622, 0.014238218776881695, 0.01439900603145361, 0.014241934288293123, 0.01425224868580699, 0.014252698048949242, 0.014389156363904476, 0.014266490004956722, 0.014230966567993164, 0.014374102000147104, 0.014260507188737392, 0.014244995079934597, 0.014279453083872795, 0.014325990807265043, 0.01422480121254921, 0.014290492981672287, 0.014327213633805513, 0.014282860327512026, 0.014208292122930288, 0.014234124682843685, 0.01416870392858982, 0.01430479995906353, 0.014306598342955112, 0.014336567837744951, 0.014339478220790625, 0.014315367676317692, 0.014296158216893673, 0.014322101138532162, 0.014315415639430285, 0.01423636032268405, 0.014284082688391209, 0.014230882283300161, 0.01431080186739564, 0.014338146895170212, 0.014253564178943634, 0.014186298940330744, 0.014174426905810833, 0.014337698929011822, 0.014195594005286694, 0.014299244154244661, 0.014228596817702055, 0.014241084922105074, 0.014291603118181229, 0.014280541334301233, 0.014539485797286034, 0.014324858784675598, 0.014227156061679125, 0.014268938917666674, 0.01424300018697977, 0.014179540798068047, 0.014226147439330816, 0.014389438554644585, 0.014243967365473509, 0.014317414723336697, 0.014359998982399702, 0.014149554073810577, 0.014275906141847372, 0.014243502169847488, 0.014364336617290974, 0.014228058978915215, 0.014283913187682629, 0.014297175221145153, 0.014239629730582237, 0.014343217946588993, 0.014177504926919937, 0.014356088358908892, 0.014250027015805244, 0.014294636901468039, 0.014223915059119463, 0.014322055969387293, 0.01427478576079011, 0.014306304045021534, 0.014333852101117373, 0.01425170386210084, 0.014534559100866318, 0.014306578785181046, 0.014272038359194994, 0.014240753836929798, 0.014282561838626862, 0.014312995132058859, 0.014265866950154305, 0.014291341882199049, 0.014324116986244917, 0.014261214062571526, 0.014301065355539322, 0.014432067982852459, 0.014313607942312956, 0.01426871307194233, 0.014371129684150219, 0.014275537338107824, 0.014215253759175539, 0.014279474969953299, 0.01430923817679286, 0.01432869490236044, 0.014302784111350775, 0.014277498703449965, 0.014316621236503124, 0.01430052099749446, 0.014277084730565548, 0.01436020527034998, 0.014306625816971064, 0.01424639206379652, 0.01427729707211256, 0.014399217907339334, 0.014208267908543348, 0.014276906382292509, 0.014271079562604427, 0.01437299232929945, 0.014277382753789425, 0.014367286115884781, 0.014332060236483812, 0.014200636651366949, 0.014261620119214058, 0.014305212069302797, 0.01426336308941245, 0.014283475000411272, 0.014290947932749987, 0.01422049105167389, 0.0143428398296237, 0.01423291303217411, 0.014202519785612822, 0.01436275104060769, 0.01429936196655035, 0.014291373081505299, 0.01425486197695136, 0.014396264217793941, 0.014245315920561552, 0.014223792124539614, 0.014343989081680775, 0.014325192663818598, 0.014216069132089615, 0.014320659916847944, 0.014211833942681551, 0.014389362186193466, 0.014293414074927568, 0.014387429691851139, 0.014309182297438383, 0.014303355943411589, 0.01430806191638112, 0.01431809226050973, 0.014255808666348457, 0.014249064028263092, 0.01433922117576003, 0.01444405410438776, 0.014327667653560638, 0.014321235939860344, 0.014286584220826626, 0.014269635081291199, 0.014285485725849867, 0.014383063185960054, 0.014295123983174562, 0.01422102004289627, 0.014279214199632406, 0.014323682989925146, 0.014193792827427387, 0.014308366924524307, 0.014388680923730135, 0.014257135335355997, 0.014282631687819958, 0.014399741310626268, 0.014245482627302408, 0.014317844063043594, 0.014232531189918518, 0.01430964469909668, 0.014393282122910023, 0.014219074975699186, 0.014321539085358381, 0.014361264184117317, 0.014333878643810749, 0.014388179406523705, 0.014388646930456161, 0.01421268004924059, 0.014214046765118837, 0.014433651231229305, 0.014268542639911175, 0.014260469004511833, 0.014313078019768, 0.014373016078025103, 0.014154538977891207, 0.014307180885225534, 0.014304233249276876, 0.014273944776505232, 0.014266406185925007, 0.0142675437964499, 0.014339663088321686, 0.014306607190519571, 0.014251657761633396, 0.014321882277727127, 0.014358425978571177, 0.014260713011026382, 0.014270538929849863, 0.01426662690937519, 0.014294964261353016, 0.014270169660449028, 0.014298661146312952, 0.01430765213444829, 0.014361945912241936, 0.014703931752592325], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  221.81    
Total input tokens:                      2097152   
Total generated tokens:                  230752    
Request throughput (req/s):              4.62      
Output token throughput (tok/s):         1040.30   
Total Token throughput (tok/s):          10494.91  
---------------Time to First Token----------------
Mean TTFT (ms):                          346.72    
Median TTFT (ms):                        294.02    
P99 TTFT (ms):                           975.24    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          42.98     
Median TPOT (ms):                        40.13     
P99 TPOT (ms):                           72.80     
---------------Inter-token Latency----------------
Mean ITL (ms):                           42.54     
Median ITL (ms):                         19.95     
P99 ITL (ms):                            609.73    
==================================================
