INFO 07-09 19:19:31 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-10-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to specific domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock extractor")\n\t* Computer science (e.g., "DataLoader", "GPIO", "Parcelable")\n\t* Biology (e.g., "lipid", "protein")\n\t* Geography (e.g., "Latitude", "Longitude")\n\t* Marketing (e.g., "shaders", "marketing standings")\n3. **Code snippets and frameworks**: The text includes code snippets and references to various frameworks and libraries, such as:\n\t* Android development (e.g., "OnClickListener", "Parcelable")\n\t* Web development (e.g., "Redux", "React")\n\t* Data science (e.g., "Pandas", " NumPy")\n4. **Error messages and warnings**: There are some error messages', success=True, latency=3.6599993482232094, output_tokens=256, ttft=0.09835831820964813, itl=[3.602076321840286e-05, 0.013702742289751768, 0.01379220187664032, 0.013835853897035122, 0.013928288128226995, 0.013827819842845201, 0.01400008425116539, 0.013918600976467133, 0.01389994565397501, 0.013932308182120323, 0.013878184836357832, 0.013848721981048584, 0.013871566392481327, 0.013990761712193489, 0.013889531139284372, 0.013890239875763655, 0.013912808150053024, 0.013938810676336288, 0.013891920447349548, 0.013858392834663391, 0.01409944612532854, 0.013708185870200396, 0.013812124729156494, 0.013981289230287075, 0.013861401006579399, 0.014020736794918776, 0.01392516028136015, 0.013809541705995798, 0.01405362505465746, 0.013963411096483469, 0.013893817085772753, 0.013897068798542023, 0.0139082670211792, 0.013896320015192032, 0.013884817250072956, 0.013944895938038826, 0.013871373143047094, 0.013741874601691961, 0.013922257348895073, 0.01396174170076847, 0.013915140181779861, 0.01389977103099227, 0.013975008856505156, 0.013863032218068838, 0.013956953771412373, 0.013952448964118958, 0.013932886999100447, 0.013906452339142561, 0.01383111160248518, 0.014238625299185514, 0.013900564052164555, 0.013888710644096136, 0.013935795985162258, 0.013907626271247864, 0.01396520808339119, 0.013941812794655561, 0.01401849091053009, 0.01393575593829155, 0.013870735187083483, 0.013962980825453997, 0.01380719430744648, 0.013978953938931227, 0.013920026831328869, 0.013921971898525953, 0.013945362996309996, 0.014004923403263092, 0.013877113815397024, 0.013992190826684237, 0.013893464114516973, 0.013986987993121147, 0.013918323908001184, 0.01395864225924015, 0.013986513949930668, 0.013963969890028238, 0.013940420933067799, 0.01390760112553835, 0.014096544124186039, 0.013948579784482718, 0.013962643221020699, 0.01387221971526742, 0.01396056404337287, 0.014137049205601215, 0.014016398694366217, 0.013945586048066616, 0.013912846334278584, 0.0140214036218822, 0.013936315197497606, 0.013825319241732359, 0.01400204561650753, 0.013958130963146687, 0.01392071833834052, 0.013958994764834642, 0.01442834921181202, 0.013608825858682394, 0.013947772793471813, 0.013893571216613054, 0.014023549854755402, 0.01397009426727891, 0.013979043811559677, 0.01394243212416768, 0.01408372400328517, 0.013993181753903627, 0.014020663220435381, 0.013941831886768341, 0.0139212841168046, 0.013986072037369013, 0.013832712080329657, 0.01400487869977951, 0.013972243294119835, 0.013910127803683281, 0.013908179011195898, 0.01399571681395173, 0.01401626830920577, 0.013925915118306875, 0.013923701830208302, 0.01395747484639287, 0.014036783948540688, 0.013921219389885664, 0.013921377714723349, 0.01403698418289423, 0.013966716825962067, 0.014033495914191008, 0.013879766222089529, 0.01384867075830698, 0.013886797241866589, 0.014020054135471582, 0.013947177678346634, 0.013938440009951591, 0.014092817902565002, 0.013993891421705484, 0.013897837605327368, 0.014050574973225594, 0.013924150262027979, 0.01403188705444336, 0.013881729915738106, 0.014010509010404348, 0.01404354302212596, 0.013890428934246302, 0.01403751689940691, 0.014025169890373945, 0.01398523710668087, 0.014026612974703312, 0.013893381226807833, 0.014040074776858091, 0.013940704055130482, 0.014003614895045757, 0.014073375146836042, 0.013864463195204735, 0.01397987361997366, 0.013871964998543262, 0.014033392071723938, 0.014082900248467922, 0.013995060697197914, 0.013925728388130665, 0.014008131809532642, 0.01399846887215972, 0.013978912029415369, 0.013950237073004246, 0.013941523153334856, 0.014213371090590954, 0.014073640573769808, 0.014044881332665682, 0.014013682026416063, 0.013841847889125347, 0.01405098382383585, 0.013921455945819616, 0.014045477379113436, 0.014051336795091629, 0.013953996822237968, 0.014028317295014858, 0.013939731754362583, 0.014050367288291454, 0.014098461717367172, 0.013834711164236069, 0.014039649162441492, 0.013974160887300968, 0.013880116865038872, 0.014017221983522177, 0.014013930223882198, 0.014035291969776154, 0.013985773082822561, 0.014074842911213636, 0.014052879065275192, 0.01412011869251728, 0.013999372255057096, 0.013940002769231796, 0.014056629035621881, 0.01395423011854291, 0.014037403743714094, 0.014054150320589542, 0.01401330903172493, 0.013992476742714643, 0.014004756230860949, 0.014001281000673771, 0.013819471932947636, 0.014080057851970196, 0.013996823225170374, 0.014044947922229767, 0.01392648508772254, 0.013901469763368368, 0.014024150092154741, 0.014025755226612091, 0.014030077960342169, 0.013940862845629454, 0.014052874874323606, 0.0139576131477952, 0.013922472950071096, 0.014124669134616852, 0.014050669968128204, 0.013946134131401777, 0.014022497925907373, 0.014035952743142843, 0.013949485961347818, 0.013998745009303093, 0.01404974004253745, 0.01395712187513709, 0.013930506072938442, 0.013970067258924246, 0.013930151704698801, 0.013999991118907928, 0.013966721016913652, 0.013987405225634575, 0.014000384602695704, 0.013912068214267492, 0.013986255042254925, 0.01398489810526371, 0.013967284001410007, 0.013953542802482843, 0.01397165423259139, 0.013972076587378979, 0.013983970042318106, 0.014033562038093805, 0.013948488980531693, 0.01400120509788394, 0.013970784842967987, 0.013969316147267818, 0.014077554922550917, 0.014041709247976542, 0.01395261287689209, 0.013991058804094791, 0.01401522010564804, 0.014147969894111156, 0.014016431290656328, 0.014098542742431164, 0.01402532635256648, 0.014021475799381733, 0.014002107083797455, 0.013954365160316229, 0.013920340687036514, 0.013986892066895962, 0.014065161813050508, 0.014040365349501371, 0.014033544808626175, 0.013957918155938387, 0.013976987916976213, 0.01421468984335661], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  113.30    
Total input tokens:                      524288    
Total generated tokens:                  230793    
Request throughput (req/s):              9.04      
Output token throughput (tok/s):         2037.02   
Total Token throughput (tok/s):          6664.48   
---------------Time to First Token----------------
Mean TTFT (ms):                          146.88    
Median TTFT (ms):                        118.70    
P99 TTFT (ms):                           297.37    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          27.84     
Median TPOT (ms):                        27.88     
P99 TPOT (ms):                           33.59     
---------------Inter-token Latency----------------
Mean ITL (ms):                           27.71     
Median ITL (ms):                         18.85     
P99 ITL (ms):                            105.71    
==================================================
