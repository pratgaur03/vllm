INFO 07-08 07:59:13 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-5-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.0925167771056294, output_tokens=256, ttft=0.29734569881111383, itl=[0.0030292090959846973, 0.01465898985043168, 0.014688475988805294, 0.014691465068608522, 0.014711553230881691, 0.014761915896087885, 0.014638015069067478, 0.014687361661344767, 0.014700818341225386, 0.014767990913242102, 0.01480255089700222, 0.014746359083801508, 0.014804877806454897, 0.014718682039529085, 0.014776598196476698, 0.014740549959242344, 0.014790480025112629, 0.01475151488557458, 0.014856160152703524, 0.014747012872248888, 0.014791287947446108, 0.014791542198508978, 0.01475920993834734, 0.014825524762272835, 0.01485432730987668, 0.014747730921953917, 0.014773978851735592, 0.01478411303833127, 0.014767355285584927, 0.014895204920321703, 0.014881833922117949, 0.01476248586550355, 0.014824663288891315, 0.014803295955061913, 0.014821622055023909, 0.014805317856371403, 0.015043032821267843, 0.014840276911854744, 0.014861328061670065, 0.01483679423108697, 0.014795486815273762, 0.014783784281462431, 0.014875649008899927, 0.01484350673854351, 0.014846955891698599, 0.014868193306028843, 0.014812428038567305, 0.014826859813183546, 0.014996889047324657, 0.014849861152470112, 0.014888323843479156, 0.01484649395570159, 0.014787885826081038, 0.014844485092908144, 0.014811689034104347, 0.014848134014755487, 0.014834789093583822, 0.014894998166710138, 0.014845176599919796, 0.014856538269668818, 0.014793570153415203, 0.014849428553134203, 0.014935661107301712, 0.01500045694410801, 0.014996801037341356, 0.014799075201153755, 0.014823348727077246, 0.01481437124311924, 0.01486662682145834, 0.014853226020932198, 0.014882787130773067, 0.014821738936007023, 0.014806909020990133, 0.014880876056849957, 0.014859802089631557, 0.01486006984487176, 0.014848247170448303, 0.014877517707645893, 0.014886805322021246, 0.014817962888628244, 0.01488374499604106, 0.014839915093034506, 0.014880707953125238, 0.014860501978546381, 0.014830410946160555, 0.014867212157696486, 0.014869592618197203, 0.014815570320934057, 0.014875980094075203, 0.015000080689787865, 0.014902251306921244, 0.014816535636782646, 0.014846712350845337, 0.014816602692008018, 0.014866349287331104, 0.014854568056762218, 0.014791373629122972, 0.014891499187797308, 0.014862649142742157, 0.014832051936537027, 0.014773081988096237, 0.014874164015054703, 0.014873683918267488, 0.014800732024013996, 0.014942455105483532, 0.014867978636175394, 0.0148507971316576, 0.014873635023832321, 0.014857639092952013, 0.014873871114104986, 0.014815289992839098, 0.014913707971572876, 0.014846914913505316, 0.0148312421515584, 0.014861397910863161, 0.014896600041538477, 0.01489263167604804, 0.014898241963237524, 0.014899492263793945, 0.014906099066138268, 0.014873368665575981, 0.01484706113114953, 0.01483811717480421, 0.014857228845357895, 0.014839766081422567, 0.014824567828327417, 0.014919701032340527, 0.01484274910762906, 0.014816829934716225, 0.01487533887848258, 0.0148762883618474, 0.014880034606903791, 0.014864223077893257, 0.014883036259561777, 0.014854108914732933, 0.014839184936136007, 0.014902676921337843, 0.014889902900904417, 0.014926339033991098, 0.014834351371973753, 0.014885300770401955, 0.01487422315403819, 0.014818675816059113, 0.01489980798214674, 0.014872834086418152, 0.014863499905914068, 0.014880577102303505, 0.01487884996458888, 0.014879561960697174, 0.014915193896740675, 0.01486967597156763, 0.014929414261132479, 0.01481885788962245, 0.01488364115357399, 0.01487806485965848, 0.014853544998914003, 0.014892035163939, 0.014835854060947895, 0.01492750272154808, 0.014851478859782219, 0.014877795241773129, 0.014823000878095627, 0.014876273926347494, 0.014902729075402021, 0.014891846105456352, 0.014971522148698568, 0.01483550202101469, 0.014902496710419655, 0.014946825336664915, 0.014823552686721087, 0.014947426971048117, 0.014950956217944622, 0.014877817127853632, 0.014890768565237522, 0.014873957261443138, 0.014810689724981785, 0.01499479915946722, 0.01488682720810175, 0.014903648756444454, 0.01489835511893034, 0.014886299148201942, 0.014838589821010828, 0.014865778852254152, 0.015408392064273357, 0.014867523219436407, 0.014927135780453682, 0.014889153186231852, 0.014924362767487764, 0.01490116398781538, 0.014931465033441782, 0.014922043308615685, 0.015122980810701847, 0.014863873831927776, 0.014923613984137774, 0.014888279139995575, 0.014907609205693007, 0.015003728680312634, 0.014833052176982164, 0.01489858515560627, 0.014921627007424831, 0.01488474989309907, 0.014866096898913383, 0.014845273923128843, 0.014960852917283773, 0.01492280513048172, 0.015028756111860275, 0.014905775897204876, 0.014887882862240076, 0.014906513970345259, 0.014880679082125425, 0.014906326308846474, 0.01485144067555666, 0.014952208381146193, 0.01493954285979271, 0.014879135880619287, 0.014913430903106928, 0.01493811933323741, 0.014950936660170555, 0.014935469254851341, 0.014893643092364073, 0.014825379010289907, 0.014878426678478718, 0.014941311907023191, 0.015028384979814291, 0.014912487007677555, 0.014930368401110172, 0.014900484587997198, 0.014895476400852203, 0.01484927861019969, 0.014818489085882902, 0.014970078133046627, 0.01488918298855424, 0.01488780090585351, 0.014898159075528383, 0.014875708147883415, 0.0148834940046072, 0.014830888714641333, 0.014942802023142576, 0.014915445353835821, 0.014909541700035334, 0.014924977906048298, 0.014927609357982874, 0.014864665921777487, 0.015031600836664438, 0.014838187023997307, 0.014904644805938005, 0.014926004223525524, 0.014897636137902737, 0.014861431904137135, 0.01490997290238738, 0.014860716182738543, 0.014890887774527073, 0.015046805143356323, 0.014912202954292297, 0.014909368008375168, 0.015487034805119038], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  222.29    
Total input tokens:                      2097152   
Total generated tokens:                  230634    
Request throughput (req/s):              4.61      
Output token throughput (tok/s):         1037.55   
Total Token throughput (tok/s):          10472.02  
---------------Time to First Token----------------
Mean TTFT (ms):                          487.88    
Median TTFT (ms):                        482.05    
P99 TTFT (ms):                           1141.34   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          52.50     
Median TPOT (ms):                        51.39     
P99 TPOT (ms):                           86.94     
---------------Inter-token Latency----------------
Mean ITL (ms):                           52.01     
Median ITL (ms):                         21.62     
P99 ITL (ms):                            265.03    
==================================================
