INFO 07-08 06:09:12 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=3.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-3-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `testProfit`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C# (e.g., `Cleanup.structure`)\n* Kotlin (e.g., `lateinit`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Data science and machine learning (e.g., `testProfit`, `estimator`)\n* Web development (e.g., `Component`, `Cleanup.structure`)\n* IoT and sensor-related topics (e.g., `SENSOR_BUSY`, `wifi`)\n* Finance and economics (e.g., `NYSE`, `profit`)\n* Geography and location-based services (e.g., `Latitude`, `Prague`)\n\n**Other observations:**\n\n* There are many typos and non-English words/phrases, which might indicate that the text is a result of a machine translation or a text generation algorithm.\n* Some parts of the", success=True, latency=3.7863637562841177, output_tokens=256, ttft=0.08702080231159925, itl=[4.560267552733421e-05, 0.014556452166289091, 0.014478693250566721, 0.014469058718532324, 0.014970289077609777, 0.014326309785246849, 0.014499008189886808, 0.014847450889647007, 0.01448017219081521, 0.014528969768434763, 0.014581180177628994, 0.014549730811268091, 0.01453791931271553, 0.014450557064265013, 0.014797820709645748, 0.014500625897198915, 0.014885312411934137, 0.014484580606222153, 0.014604764990508556, 0.014541208278387785, 0.014483775943517685, 0.014529554173350334, 0.014429690781980753, 0.014463163912296295, 0.014580236282199621, 0.01461043581366539, 0.014471106231212616, 0.014796933624893427, 0.014621620066463947, 0.014537923969328403, 0.01476467726752162, 0.014486521948128939, 0.014615139923989773, 0.014478581957519054, 0.014566595200449228, 0.014566232915967703, 0.014430760871618986, 0.014443117193877697, 0.014461129903793335, 0.014543017838150263, 0.014396137092262506, 0.014439270831644535, 0.014492114074528217, 0.014754513278603554, 0.014475801959633827, 0.01441469183191657, 0.014569677878171206, 0.014447066001594067, 0.01445381622761488, 0.014488796703517437, 0.014511264394968748, 0.014492962043732405, 0.014430222567170858, 0.014567301142960787, 0.014529919251799583, 0.014495940878987312, 0.014510793145745993, 0.014544158708304167, 0.014457849320024252, 0.014437132980674505, 0.014517593663185835, 0.01449604518711567, 0.014512024819850922, 0.014481781981885433, 0.014531143009662628, 0.014416260179132223, 0.014732373878359795, 0.014270957093685865, 0.014480355195701122, 0.014453181996941566, 0.0144926686771214, 0.014446825254708529, 0.014474283903837204, 0.014730455819517374, 0.014291072264313698, 0.01446336368098855, 0.014465069398283958, 0.014476231765002012, 0.014594445936381817, 0.014441568870097399, 0.014464137144386768, 0.01440190989524126, 0.014503504149615765, 0.014466982800513506, 0.014454075135290623, 0.014510584063827991, 0.014490942005068064, 0.014552954118698835, 0.014419919811189175, 0.014496555086225271, 0.014484426006674767, 0.014505579136312008, 0.014535883907228708, 0.014502751175314188, 0.014524880796670914, 0.014453455805778503, 0.014511172194033861, 0.014498425181955099, 0.014474503695964813, 0.014499917160719633, 0.014468141831457615, 0.014533773064613342, 0.014476912096142769, 0.014470294117927551, 0.0144818308763206, 0.014436474069952965, 0.014539027120918036, 0.014472046867012978, 0.014581253752112389, 0.014487716369330883, 0.014543558936566114, 0.014487574808299541, 0.014446303248405457, 0.014477329794317484, 0.014446334913372993, 0.014576748944818974, 0.014526006300002337, 0.014513483736664057, 0.014525484293699265, 0.014488079585134983, 0.014490989036858082, 0.014400192070752382, 0.014587911311537027, 0.014489301014691591, 0.014461305923759937, 0.014485972002148628, 0.01453767390921712, 0.014489043969660997, 0.014504154212772846, 0.01454468397423625, 0.014416427817195654, 0.014457543846219778, 0.014539272990077734, 0.014479703269898891, 0.01451535476371646, 0.014436209108680487, 0.014526856131851673, 0.014419038780033588, 0.014450788963586092, 0.014491568319499493, 0.0145405069924891, 0.014447128865867853, 0.014415965881198645, 0.01457772683352232, 0.014469665009528399, 0.014415966346859932, 0.014551859814673662, 0.014513592235744, 0.01455461559817195, 0.01450000936165452, 0.0145575818605721, 0.014410497155040503, 0.014422755688428879, 0.014482280239462852, 0.014591853134334087, 0.014467954635620117, 0.014745841268450022, 0.01432337099686265, 0.014466394670307636, 0.014467248227447271, 0.014521874021738768, 0.014500860124826431, 0.014456700067967176, 0.014493739698082209, 0.014442814979702234, 0.014489143155515194, 0.014465578831732273, 0.014483655337244272, 0.0145210069604218, 0.014467491768300533, 0.01448495127260685, 0.01441977173089981, 0.014541056007146835, 0.014510013163089752, 0.014625946059823036, 0.01450628275051713, 0.01449915999546647, 0.014548717066645622, 0.014483422040939331, 0.014550738036632538, 0.014553783927112818, 0.014493950176984072, 0.014547883998602629, 0.014468874782323837, 0.014588431920856237, 0.014443421270698309, 0.014431331772357225, 0.014562515076249838, 0.014488966204226017, 0.014509815722703934, 0.014482155907899141, 0.014557082206010818, 0.014489281922578812, 0.014432669151574373, 0.014568204060196877, 0.014502927660942078, 0.014473640359938145, 0.014455189928412437, 0.01459777494892478, 0.014434754848480225, 0.014479293022304773, 0.014446601271629333, 0.01447186665609479, 0.014669384341686964, 0.014477995689958334, 0.01455894811078906, 0.014490189030766487, 0.01445899810642004, 0.014530471991747618, 0.014472173992544413, 0.0144587610848248, 0.01447296654805541, 0.014567668084055185, 0.014484276995062828, 0.014469462912529707, 0.014574349392205477, 0.014549500774592161, 0.01443159719929099, 0.014477194752544165, 0.01456837123259902, 0.014507557731121778, 0.014432542957365513, 0.014500417280942202, 0.014557729940861464, 0.014494550880044699, 0.014541113283485174, 0.014519992750138044, 0.014493951108306646, 0.014398338738828897, 0.014548010192811489, 0.014534492045640945, 0.01445699017494917, 0.01480798376724124, 0.014145162887871265, 0.014524009078741074, 0.014439369086176157, 0.0145028131082654, 0.014540128875523806, 0.014492006972432137, 0.014575770124793053, 0.014309413731098175, 0.014471150003373623, 0.01452464098110795, 0.014520761091262102, 0.014518463984131813, 0.014470979105681181, 0.014517152216285467, 0.014479380566626787, 0.014477310236543417, 0.014495851006358862, 0.014505521859973669, 0.014507179148495197, 0.014471729751676321, 0.014546267222613096, 0.014549301005899906, 0.014674763195216656], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 3.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  365.38    
Total input tokens:                      262144    
Total generated tokens:                  239118    
Request throughput (req/s):              2.80      
Output token throughput (tok/s):         654.43    
Total Token throughput (tok/s):          1371.89   
---------------Time to First Token----------------
Mean TTFT (ms):                          92.38     
Median TTFT (ms):                        90.87     
P99 TTFT (ms):                           160.97    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          18.56     
Median TPOT (ms):                        18.74     
P99 TPOT (ms):                           20.54     
---------------Inter-token Latency----------------
Mean ITL (ms):                           18.48     
Median ITL (ms):                         17.51     
P99 ITL (ms):                            84.45     
==================================================
