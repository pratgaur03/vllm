INFO 07-08 06:35:36 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-20-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.842896619811654, output_tokens=256, ttft=0.10452441964298487, itl=[3.889016807079315e-05, 0.014988419134169817, 0.014581563882529736, 0.014579796232283115, 0.014521126635372639, 0.014594949316233397, 0.014575344044715166, 0.01469873171299696, 0.01465165289118886, 0.01436141412705183, 0.014730317983776331, 0.014415890909731388, 0.014530207961797714, 0.014622020069509745, 0.014556242153048515, 0.01470566587522626, 0.014645310118794441, 0.014774734154343605, 0.014388171955943108, 0.01462581381201744, 0.014706030022352934, 0.01457788422703743, 0.014570196624845266, 0.014706206042319536, 0.014494935981929302, 0.014665441121906042, 0.014596695080399513, 0.014738441910594702, 0.014570842031389475, 0.014657509047538042, 0.014537010807543993, 0.01457698829472065, 0.014623458031564951, 0.014691578689962626, 0.014676005113869905, 0.014544303994625807, 0.014642669819295406, 0.0146387480199337, 0.014836378395557404, 0.014660689979791641, 0.014427987858653069, 0.014642676804214716, 0.014636948239058256, 0.014552114065736532, 0.014560008887201548, 0.014613335020840168, 0.014613654930144548, 0.014672955963760614, 0.014553651213645935, 0.014657857827842236, 0.01460686419159174, 0.01467766985297203, 0.014536187052726746, 0.014620187692344189, 0.014697132166475058, 0.014593436848372221, 0.014675180427730083, 0.014543190598487854, 0.0148459542542696, 0.014580490998923779, 0.014626348856836557, 0.01468343986198306, 0.01465167012065649, 0.014824836980551481, 0.014491108246147633, 0.014644776936620474, 0.014808945823460817, 0.014581879135221243, 0.014675828162580729, 0.015026059933006763, 0.014348218683153391, 0.014615054242312908, 0.014653890859335661, 0.014565085992217064, 0.014707772061228752, 0.014648122247308493, 0.014847775921225548, 0.014442019630223513, 0.014718990307301283, 0.01455309009179473, 0.014639035798609257, 0.014626544900238514, 0.014702572952955961, 0.014642258174717426, 0.01456699101254344, 0.014621358830481768, 0.014842367265373468, 0.01455453084781766, 0.014653684105724096, 0.014698730781674385, 0.014586661010980606, 0.01465871836990118, 0.0147023587487638, 0.014694511890411377, 0.01468123309314251, 0.01470002718269825, 0.01472769072279334, 0.014476696029305458, 0.014602737966924906, 0.01459517516195774, 0.014664609916508198, 0.014701031148433685, 0.014604230877012014, 0.014637233223766088, 0.014720306731760502, 0.01485372893512249, 0.014515432063490152, 0.01461874321103096, 0.01478840596973896, 0.014644024893641472, 0.014522302895784378, 0.014633717015385628, 0.014635172206908464, 0.014643951784819365, 0.01458703214302659, 0.014857647009193897, 0.014516666065901518, 0.014679590705782175, 0.014628816395998001, 0.014734125696122646, 0.014511403162032366, 0.014552321750670671, 0.014782099984586239, 0.014570919331163168, 0.014718488790094852, 0.014632769860327244, 0.014635890256613493, 0.014670765027403831, 0.014705406036227942, 0.014607910066843033, 0.01469057286158204, 0.014624656178057194, 0.014761937782168388, 0.014560215175151825, 0.014541419688612223, 0.014672279357910156, 0.014738261699676514, 0.014659780077636242, 0.014705528039485216, 0.014733534771949053, 0.014562922064214945, 0.014591398183256388, 0.014655719045549631, 0.014677379745990038, 0.014652406331151724, 0.014616260770708323, 0.014759948011487722, 0.01453112019225955, 0.014743926003575325, 0.014623759780079126, 0.014618760906159878, 0.014774392358958721, 0.01458191592246294, 0.014612531755119562, 0.014706317335367203, 0.014618576969951391, 0.01465547364205122, 0.01462540216743946, 0.014665331225842237, 0.014699804596602917, 0.014984235167503357, 0.014366547111421824, 0.014642623718827963, 0.014767784159630537, 0.014575643930584192, 0.014533831272274256, 0.014681153930723667, 0.014684795867651701, 0.014653434045612812, 0.014687187038362026, 0.014731618110090494, 0.014541332609951496, 0.014656341169029474, 0.014667192939668894, 0.01473885215818882, 0.014631675090640783, 0.014576969668269157, 0.014703004155308008, 0.014665836934000254, 0.01466116588562727, 0.014569259248673916, 0.014862542040646076, 0.0144972107373178, 0.014667516108602285, 0.014688420109450817, 0.014644841197878122, 0.015101057942956686, 0.014732054900377989, 0.014554035849869251, 0.014624360017478466, 0.014838958159089088, 0.014517683070152998, 0.014625350944697857, 0.014673912897706032, 0.014630444813519716, 0.014712641015648842, 0.014659098349511623, 0.014627038966864347, 0.014928610064089298, 0.01449250290170312, 0.01458765473216772, 0.0147318160161376, 0.014652648009359837, 0.014677590224891901, 0.014724718872457743, 0.014761173166334629, 0.014747668989002705, 0.014657515101134777, 0.014715977944433689, 0.014630415011197329, 0.014666121918708086, 0.014626601710915565, 0.014674811158329248, 0.014692569151520729, 0.014604378025978804, 0.014755773823708296, 0.014608167111873627, 0.014707017689943314, 0.014738505240529776, 0.014730067923665047, 0.014682527165859938, 0.014625377021729946, 0.014680399093776941, 0.014880363829433918, 0.01449484983459115, 0.01466731308028102, 0.014658752828836441, 0.014931660145521164, 0.014498068019747734, 0.014633244834840298, 0.01466481015086174, 0.014686000067740679, 0.014701513107866049, 0.014685113914310932, 0.014633589889854193, 0.014728698879480362, 0.014556372072547674, 0.014624807052314281, 0.015158338006585836, 0.014970093965530396, 0.015092911198735237, 0.014699743129312992, 0.014550350606441498, 0.014832485932856798, 0.014460088219493628, 0.014693041797727346, 0.01465769112110138, 0.014742347877472639, 0.014629904180765152, 0.01510427612811327, 0.01462569972500205, 0.014795271214097738, 0.014575760811567307, 0.014662047382444143, 0.01466174190863967, 0.014995751902461052], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  63.76     
Total input tokens:                      524288    
Total generated tokens:                  229035    
Request throughput (req/s):              16.06     
Output token throughput (tok/s):         3592.27   
Total Token throughput (tok/s):          11815.40  
---------------Time to First Token----------------
Mean TTFT (ms):                          339.60    
Median TTFT (ms):                        335.91    
P99 TTFT (ms):                           748.27    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          93.95     
Median TPOT (ms):                        103.11    
P99 TPOT (ms):                           121.54    
---------------Inter-token Latency----------------
Mean ITL (ms):                           92.99     
Median ITL (ms):                         108.60    
P99 ITL (ms):                            214.93    
==================================================
