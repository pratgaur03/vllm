INFO 07-09 17:54:01 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-30-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to specific domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock extractor")\n\t* Computer science (e.g., "DataLoader", "GPIO", "Parcelable")\n\t* Biology (e.g., "lipid", "protein")\n\t* Geography (e.g., "Latitude", "Longitude")\n\t* Marketing (e.g., "shaders", "marketing standings")\n3. **Code snippets and frameworks**: The text includes code snippets and references to various frameworks and libraries, such as:\n\t* Android development (e.g., "OnClickListener", "Parcelable")\n\t* Web development (e.g., "Redux", "React")\n\t* Data science (e.g., "Pandas", " NumPy")\n4. **Error messages and warnings**: There are some error messages', success=True, latency=3.7634744560346007, output_tokens=256, ttft=0.12207276886329055, itl=[3.3295247703790665e-05, 0.014286099001765251, 0.01421469310298562, 0.01415729196742177, 0.014290132094174623, 0.014315376989543438, 0.014356174971908331, 0.01432041171938181, 0.014226028230041265, 0.014318978879600763, 0.014417305123060942, 0.014372345991432667, 0.014335022773593664, 0.014354479033499956, 0.014233904890716076, 0.01420622132718563, 0.014159541111439466, 0.014154951553791761, 0.01411065412685275, 0.014176343102008104, 0.014224044047296047, 0.014219703152775764, 0.014249903615564108, 0.014257551170885563, 0.014153615105897188, 0.014172110706567764, 0.014184628147631884, 0.014228363987058401, 0.01420506788417697, 0.014272944070398808, 0.01419603917747736, 0.014268702827394009, 0.014304825104773045, 0.014226057101041079, 0.014230838976800442, 0.014169593807309866, 0.014246187172830105, 0.014181509148329496, 0.014248902909457684, 0.014210992958396673, 0.014158240053802729, 0.01421716995537281, 0.014289666898548603, 0.014144953805953264, 0.014273175038397312, 0.01425345428287983, 0.014261981938034296, 0.014232838060706854, 0.014175470918416977, 0.014288051053881645, 0.014379329979419708, 0.014399794861674309, 0.014216101262718439, 0.014308091718703508, 0.01418580999597907, 0.014217499177902937, 0.01429426996037364, 0.014208249747753143, 0.014214490074664354, 0.014229522086679935, 0.014248440973460674, 0.014224479906260967, 0.014239717274904251, 0.014256291091442108, 0.014332375023514032, 0.014253316912800074, 0.014198206830769777, 0.014194035902619362, 0.01428544893860817, 0.01420551398769021, 0.014189714100211859, 0.014240429271012545, 0.014264087658375502, 0.014225936960428953, 0.014471628237515688, 0.014344915747642517, 0.014308322221040726, 0.014270739164203405, 0.014247260056436062, 0.014245472848415375, 0.014286804012954235, 0.014214560855180025, 0.014278133865445852, 0.014269551262259483, 0.014289577957242727, 0.014213815797120333, 0.014309624210000038, 0.014283666852861643, 0.01436852989718318, 0.014228615444153547, 0.01427148375660181, 0.014251333195716143, 0.014244840946048498, 0.014349108096212149, 0.014258191920816898, 0.014334680046886206, 0.014305982738733292, 0.014225500170141459, 0.014483092818409204, 0.01420735102146864, 0.014269901905208826, 0.014245984144508839, 0.014261978212743998, 0.014244700782001019, 0.014247228857129812, 0.014467050321400166, 0.014045476913452148, 0.014259677845984697, 0.014335467014461756, 0.014224435202777386, 0.014163604006171227, 0.014229936990886927, 0.014508689753711224, 0.014252967201173306, 0.014241014141589403, 0.014272252563387156, 0.014279994182288647, 0.014224491082131863, 0.014319117181003094, 0.014365949667990208, 0.014175208285450935, 0.014261983800679445, 0.014248377177864313, 0.014321676921099424, 0.014308104757219553, 0.014225575141608715, 0.014285853132605553, 0.014326125849038363, 0.014840812887996435, 0.015025591012090445, 0.01433903630822897, 0.014273976907134056, 0.014211511705070734, 0.014348999131470919, 0.014114209916442633, 0.014346007257699966, 0.01428829412907362, 0.01428655395284295, 0.014283716678619385, 0.014357137959450483, 0.0143426563590765, 0.014089600648730993, 0.014323227107524872, 0.01425680285319686, 0.01439877413213253, 0.014218464959412813, 0.014228238258510828, 0.014379451982676983, 0.014185986015945673, 0.014296157751232386, 0.014275073073804379, 0.014214945957064629, 0.014349806122481823, 0.014293241780251265, 0.014325825031846762, 0.01415856322273612, 0.014284983742982149, 0.014286925084888935, 0.014348515309393406, 0.014379429630935192, 0.014246576931327581, 0.014274477027356625, 0.014217186253517866, 0.014288411010056734, 0.014280194882303476, 0.014254173263907433, 0.01428408594802022, 0.014302954077720642, 0.01443031383678317, 0.014181476086378098, 0.014231324661523104, 0.01433934597298503, 0.0142686921171844, 0.014320757240056992, 0.014324573799967766, 0.014392216224223375, 0.014210764784365892, 0.014225863851606846, 0.01438138633966446, 0.014254981651902199, 0.014263109304010868, 0.014223136939108372, 0.014264374040067196, 0.014630455989390612, 0.014274443965405226, 0.014292251784354448, 0.014332436956465244, 0.014267977327108383, 0.01432865485548973, 0.014220558106899261, 0.014291286002844572, 0.014415394980460405, 0.01442309096455574, 0.014297429006546736, 0.014250367879867554, 0.014228953048586845, 0.014280307106673717, 0.01431554090231657, 0.0143266711384058, 0.014253298752009869, 0.014332153368741274, 0.01428575674071908, 0.014240263029932976, 0.014232649933546782, 0.014347553253173828, 0.014344257768243551, 0.014303389005362988, 0.014272708911448717, 0.01423964323475957, 0.01423324691131711, 0.014315184205770493, 0.014329931698739529, 0.014277905225753784, 0.01432674378156662, 0.014345217030495405, 0.014278260059654713, 0.014286775141954422, 0.01426858501508832, 0.014253509696573019, 0.014311726205050945, 0.014183925930410624, 0.014284318778663874, 0.014211645349860191, 0.014349916018545628, 0.014191187918186188, 0.01438086898997426, 0.014291491825133562, 0.014301596209406853, 0.014369633048772812, 0.014281045645475388, 0.014170372392982244, 0.014266433659940958, 0.01427019014954567, 0.01427149586379528, 0.014296146109700203, 0.014182984828948975, 0.0142870401032269, 0.014316154178231955, 0.014307559933513403, 0.014334052801132202, 0.014280601404607296, 0.014308201614767313, 0.014271035324782133, 0.014246563892811537, 0.014182325918227434, 0.014341018162667751, 0.014316288754343987, 0.014341684989631176, 0.014368751086294651, 0.014213949907571077, 0.014255291316658258, 0.014310632832348347, 0.014290941879153252, 0.014284572098404169, 0.014288525097072124, 0.01450164383277297], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  54.90     
Total input tokens:                      524288    
Total generated tokens:                  230895    
Request throughput (req/s):              18.65     
Output token throughput (tok/s):         4205.55   
Total Token throughput (tok/s):          13755.01  
---------------Time to First Token----------------
Mean TTFT (ms):                          3632.83   
Median TTFT (ms):                        611.49    
P99 TTFT (ms):                           8731.27   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          93.86     
Median TPOT (ms):                        104.46    
P99 TPOT (ms):                           142.44    
---------------Inter-token Latency----------------
Mean ITL (ms):                           92.04     
Median ITL (ms):                         51.35     
P99 ITL (ms):                            203.65    
==================================================
