INFO 07-10 04:52:19 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-10-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `numpy`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C++ (e.g., `GPIO`)\n* Kotlin (e.g., `data class`)\n\n**Domains and topics:**\n\n* Machine learning (e.g., `DataLoader`, `estimator`)\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Web development (e.g., `Component`, `React`)\n* IoT (e.g., `GPIO`)\n* Finance (e.g., `NYSE`, `profit`)\n* Geography (e.g., `Latitude`, `Longitude`)\n* Politics (e.g., `Cuomo`, `Judicial`)\n\n**Other observations:**\n\n* There are many typos and grammatical errors throughout the text.\n* Some words and phrases appear to be randomly inserted or concatenated (e.g., `cheng Milit"&finding`, `flotation.sensorBrazil`).\n* There', success=True, latency=3.6886569540947676, output_tokens=256, ttft=0.07931617787107825, itl=[3.591040149331093e-05, 0.01373469177633524, 0.014027885161340237, 0.014142882078886032, 0.014091742690652609, 0.014154646079987288, 0.014108345843851566, 0.014189613983035088, 0.014142828062176704, 0.014132256153970957, 0.014092761091887951, 0.014125430025160313, 0.01413931604474783, 0.014168304856866598, 0.01411304110661149, 0.014216389041393995, 0.014200367033481598, 0.014054658822715282, 0.014082286041229963, 0.01412662398070097, 0.014198076911270618, 0.014151062816381454, 0.014166598208248615, 0.01406676322221756, 0.014059674926102161, 0.014228668063879013, 0.01409794157370925, 0.014163256157189608, 0.01418042927980423, 0.014489637687802315, 0.013944625854492188, 0.014071374200284481, 0.014090781100094318, 0.014139737002551556, 0.014062535017728806, 0.014170913957059383, 0.01412750780582428, 0.014185345266014338, 0.014054778963327408, 0.014301498886197805, 0.014056132175028324, 0.01402750564739108, 0.01408147206529975, 0.014166075270622969, 0.014269673731178045, 0.014157590921968222, 0.014102214016020298, 0.014058043248951435, 0.014062667731195688, 0.01425244240090251, 0.014233134686946869, 0.014116250909864902, 0.01407017931342125, 0.014110482763499022, 0.014074514154344797, 0.01413862407207489, 0.014074292965233326, 0.014103450812399387, 0.014195429161190987, 0.014103409834206104, 0.014110371004790068, 0.014158000238239765, 0.014130881056189537, 0.014117101673036814, 0.01411792729049921, 0.014200078789144754, 0.01407222030684352, 0.01420212397351861, 0.01412636274471879, 0.014270799234509468, 0.014080537017434835, 0.01414553401991725, 0.014168569818139076, 0.014119732193648815, 0.014096933882683516, 0.014166705776005983, 0.014159296173602343, 0.014087080955505371, 0.014099758118391037, 0.014258145820349455, 0.014153752010315657, 0.014094086829572916, 0.014094185084104538, 0.014191943220794201, 0.014137432910501957, 0.014094242826104164, 0.01418621325865388, 0.014041241724044085, 0.01411340618506074, 0.014158905018121004, 0.014139470178633928, 0.014202232006937265, 0.01415232103317976, 0.014297784771770239, 0.014034721069037914, 0.014080651104450226, 0.014150199946016073, 0.014145339839160442, 0.014154777862131596, 0.014199363999068737, 0.014226267114281654, 0.014173038303852081, 0.014033617917448282, 0.014140253886580467, 0.01420473912730813, 0.014081764034926891, 0.014139749575406313, 0.014485370367765427, 0.014133722055703402, 0.014131293632090092, 0.01411440223455429, 0.014124637935310602, 0.014101888053119183, 0.014162296894937754, 0.014354768209159374, 0.013984687626361847, 0.014110587071627378, 0.014133998192846775, 0.01412536296993494, 0.01417828118428588, 0.014136227779090405, 0.014210610184818506, 0.014148559886962175, 0.014155007898807526, 0.014136599842458963, 0.014258043374866247, 0.014225816819816828, 0.014159841928631067, 0.014177029952406883, 0.014165220316499472, 0.01417189883068204, 0.014132202137261629, 0.014125370886176825, 0.014176102820783854, 0.01416611997410655, 0.014180931262671947, 0.014169822912663221, 0.014146721921861172, 0.014163454994559288, 0.014187725260853767, 0.014172680675983429, 0.014271286316215992, 0.0141279730014503, 0.014186761807650328, 0.014100078959017992, 0.014121599961072206, 0.014156952034682035, 0.014157050289213657, 0.014155162964016199, 0.014099237974733114, 0.014182935934513807, 0.014179409015923738, 0.014117250684648752, 0.014141523279249668, 0.014147750101983547, 0.014182406943291426, 0.014208123087882996, 0.01416727900505066, 0.014065560884773731, 0.014086565934121609, 0.014207005966454744, 0.014209223911166191, 0.014132305048406124, 0.014125599060207605, 0.014356352854520082, 0.014189189299941063, 0.01415251987054944, 0.014134161174297333, 0.014155830722302198, 0.0142000000923872, 0.014121392741799355, 0.014247636310756207, 0.014150282833725214, 0.014186190906912088, 0.01410851301625371, 0.014129496179521084, 0.014179895166307688, 0.014189040753990412, 0.014229915104806423, 0.014070392120629549, 0.014160559047013521, 0.014136024750769138, 0.014169403817504644, 0.01421777531504631, 0.01419837586581707, 0.01417383924126625, 0.014124139677733183, 0.014064292889088392, 0.014237645082175732, 0.014177656266838312, 0.014134821016341448, 0.014194138813763857, 0.014164049178361893, 0.014112245757132769, 0.014096578117460012, 0.01414202293381095, 0.014134655240923166, 0.014116019010543823, 0.014176209922879934, 0.014380205888301134, 0.013998954091221094, 0.014179589692503214, 0.014187745284289122, 0.014150707982480526, 0.014158154837787151, 0.014120022300630808, 0.01424115989357233, 0.014192895963788033, 0.014180843718349934, 0.01415699440985918, 0.014113155659288168, 0.01417282223701477, 0.014230191707611084, 0.014197115320712328, 0.014154417905956507, 0.014165817759931087, 0.014156767167150974, 0.014164072927087545, 0.014130420982837677, 0.014182850252836943, 0.014236513990908861, 0.014300575014203787, 0.014120849780738354, 0.01418098108842969, 0.014190217014402151, 0.014134213794022799, 0.01417985325679183, 0.014160302933305502, 0.014287667814642191, 0.014114956371486187, 0.014198618941009045, 0.014133522752672434, 0.014154103118926287, 0.014133133925497532, 0.014162695966660976, 0.014220646116882563, 0.014156274031847715, 0.01420616079121828, 0.014116294216364622, 0.014181004837155342, 0.014140163082629442, 0.01424345001578331, 0.014200287871062756, 0.01415266003459692, 0.014152757357805967, 0.014209701679646969, 0.014165190048515797, 0.01412756321951747, 0.014102767687290907, 0.014201418962329626, 0.014144686050713062, 0.014191214926540852, 0.014096962288022041, 0.014270731713622808, 0.014166712295264006, 0.014417651109397411], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  113.38    
Total input tokens:                      262144    
Total generated tokens:                  239257    
Request throughput (req/s):              9.03      
Output token throughput (tok/s):         2110.14   
Total Token throughput (tok/s):          4422.14   
---------------Time to First Token----------------
Mean TTFT (ms):                          90.99     
Median TTFT (ms):                        82.36     
P99 TTFT (ms):                           168.12    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          26.29     
Median TPOT (ms):                        26.41     
P99 TPOT (ms):                           30.88     
---------------Inter-token Latency----------------
Mean ITL (ms):                           26.17     
Median ITL (ms):                         19.16     
P99 ITL (ms):                            81.59     
==================================================
