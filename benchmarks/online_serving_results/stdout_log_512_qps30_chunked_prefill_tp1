INFO 07-08 03:34:50 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-30-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.8123520617373288, output_tokens=256, ttft=0.10189498402178288, itl=[3.617396578192711e-05, 0.014839483890682459, 0.014393489807844162, 0.014487819280475378, 0.01451012073084712, 0.014498827047646046, 0.014513196889311075, 0.014465193264186382, 0.014510411769151688, 0.014485778287053108, 0.014440834056586027, 0.014464145991951227, 0.01442648284137249, 0.014454065822064877, 0.014458134304732084, 0.014498746953904629, 0.014531124848872423, 0.014508767984807491, 0.014584490098059177, 0.014482613187283278, 0.014512947760522366, 0.01450949814170599, 0.014471587724983692, 0.01452582236379385, 0.01456083357334137, 0.014706019312143326, 0.014503411948680878, 0.014557364862412214, 0.014510578941553831, 0.014526461251080036, 0.014499065931886435, 0.014530413784086704, 0.014496215153485537, 0.014500514138489962, 0.014510615728795528, 0.014483343344181776, 0.01451477175578475, 0.014532729983329773, 0.014513811096549034, 0.014563247095793486, 0.01455171499401331, 0.014533089008182287, 0.014574487693607807, 0.014501534402370453, 0.014486431609839201, 0.014536837115883827, 0.014507272280752659, 0.014523869846016169, 0.014623176772147417, 0.01456665899604559, 0.014468891080468893, 0.014535459224134684, 0.014596440829336643, 0.014534777030348778, 0.014542996883392334, 0.014537901151925325, 0.014534470159560442, 0.014524795580655336, 0.014539961237460375, 0.01458362815901637, 0.014548566658049822, 0.014532848261296749, 0.014473044779151678, 0.014573769178241491, 0.014564882963895798, 0.01456821197643876, 0.014550494030117989, 0.014598048757761717, 0.014554333407431841, 0.014564984943717718, 0.01451091980561614, 0.014519579242914915, 0.014523292891681194, 0.014572049956768751, 0.014586934819817543, 0.014595862943679094, 0.01450328342616558, 0.01455018576234579, 0.014457342214882374, 0.014536025933921337, 0.014529705978929996, 0.014659023843705654, 0.014582435134798288, 0.014494497794657946, 0.014549866318702698, 0.014550263993442059, 0.0145149240270257, 0.014610963873565197, 0.01457366207614541, 0.014611884951591492, 0.014527848921716213, 0.01451192982494831, 0.01455859700217843, 0.014572175219655037, 0.014546555001288652, 0.014600385911762714, 0.014587493147701025, 0.014540198724716902, 0.014541258104145527, 0.01449951808899641, 0.01453109411522746, 0.014549640007317066, 0.014566878788173199, 0.014634673949331045, 0.01450100913643837, 0.014512130059301853, 0.014557762071490288, 0.014585370663553476, 0.014576852321624756, 0.014528991654515266, 0.01453440636396408, 0.014562621712684631, 0.014522252138704062, 0.014524011872708797, 0.01459471695125103, 0.014575227163732052, 0.014673720113933086, 0.014440158847719431, 0.014531319960951805, 0.01456326525658369, 0.0144997569732368, 0.014590449631214142, 0.014521514996886253, 0.014557800255715847, 0.014518032781779766, 0.014529023319482803, 0.014541808981448412, 0.01456886762753129, 0.0146135613322258, 0.014557912014424801, 0.01456854771822691, 0.014551304280757904, 0.01454885397106409, 0.014538085088133812, 0.014521277043968439, 0.014588082674890757, 0.014526396058499813, 0.014579501003026962, 0.014521458186209202, 0.014569594990462065, 0.014585909899324179, 0.014547997154295444, 0.014553193002939224, 0.014544017612934113, 0.014595627319067717, 0.01456969091668725, 0.014602732844650745, 0.014582809060811996, 0.014588917139917612, 0.014532012864947319, 0.01458281185477972, 0.014573775231838226, 0.014553883112967014, 0.014544622972607613, 0.014518081676214933, 0.014607459306716919, 0.01454762602224946, 0.014569364953786135, 0.014587245881557465, 0.014516887255012989, 0.014562131837010384, 0.014513873029500246, 0.014544575940817595, 0.014569220133125782, 0.014512118883430958, 0.01457252399995923, 0.014617795124650002, 0.014493776950985193, 0.014593945816159248, 0.014534411951899529, 0.014597779139876366, 0.014598687179386616, 0.014500713907182217, 0.014492442831397057, 0.014516664203256369, 0.014503142796456814, 0.014563858974725008, 0.014649864286184311, 0.014524023979902267, 0.014599735848605633, 0.014485419727861881, 0.01454788539558649, 0.014486882835626602, 0.014565681107342243, 0.014522240031510592, 0.014570649713277817, 0.014520617201924324, 0.014621071051806211, 0.014961756765842438, 0.014436387922614813, 0.014566389378160238, 0.014526437036693096, 0.014559872914105654, 0.014547681901603937, 0.014522801153361797, 0.014513450674712658, 0.014772470109164715, 0.014449205249547958, 0.014531119726598263, 0.014602817129343748, 0.01449591014534235, 0.014608831610530615, 0.014540800359100103, 0.014553163666278124, 0.01460516219958663, 0.014517202973365784, 0.014597001019865274, 0.014574226923286915, 0.014521414879709482, 0.01455173222348094, 0.014533694833517075, 0.01454298896715045, 0.01451696828007698, 0.014591661747545004, 0.014566610101610422, 0.014529927168041468, 0.014532588887959719, 0.014605351723730564, 0.01466041337698698, 0.014628842938691378, 0.014529137872159481, 0.014530004933476448, 0.014556649141013622, 0.014476574026048183, 0.014599652960896492, 0.014537488110363483, 0.014560062903910875, 0.014598649926483631, 0.014497785829007626, 0.014588759280741215, 0.014578808099031448, 0.014572500716894865, 0.014615971129387617, 0.014576641842722893, 0.014518613927066326, 0.014524377416819334, 0.014548445586115122, 0.014627577271312475, 0.014539539813995361, 0.014665409922599792, 0.014603639021515846, 0.014543690253049135, 0.014506340026855469, 0.014557864051312208, 0.014528899919241667, 0.014599579852074385, 0.014636197127401829, 0.014574761968106031, 0.014515627175569534, 0.014542244840413332, 0.014484657905995846, 0.014549803920090199, 0.014557835180312395, 0.014577722176909447, 0.014602107927203178, 0.014821547083556652], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  57.49     
Total input tokens:                      524288    
Total generated tokens:                  231191    
Request throughput (req/s):              17.81     
Output token throughput (tok/s):         4021.18   
Total Token throughput (tok/s):          13140.30  
---------------Time to First Token----------------
Mean TTFT (ms):                          4685.01   
Median TTFT (ms):                        788.80    
P99 TTFT (ms):                           10723.34  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          99.96     
Median TPOT (ms):                        112.08    
P99 TPOT (ms):                           154.86    
---------------Inter-token Latency----------------
Mean ITL (ms):                           97.91     
Median ITL (ms):                         56.03     
P99 ITL (ms):                            225.25    
==================================================
