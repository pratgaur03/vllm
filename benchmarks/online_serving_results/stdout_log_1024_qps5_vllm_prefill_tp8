INFO 07-10 05:15:03 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-5-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=3.742682622279972, output_tokens=256, ttft=0.13219396118074656, itl=[3.8732774555683136e-05, 0.014386230148375034, 0.013938859105110168, 0.014283420983701944, 0.014247281942516565, 0.014174552168697119, 0.014126565773040056, 0.014196389820426702, 0.014166612178087234, 0.01421262789517641, 0.0141640012152493, 0.014126600697636604, 0.014063697308301926, 0.014141872059553862, 0.014168983791023493, 0.01411764184013009, 0.014115006197243929, 0.014224269893020391, 0.014120005071163177, 0.014132944867014885, 0.014434987213462591, 0.014040820766240358, 0.014098314102739096, 0.014180656056851149, 0.014270456973463297, 0.014219149015843868, 0.01410748390480876, 0.014063430018723011, 0.014168369118124247, 0.014135480858385563, 0.014140410348773003, 0.014139430597424507, 0.014132590033113956, 0.014125032350420952, 0.01414199499413371, 0.014164343010634184, 0.014163161627948284, 0.014162801206111908, 0.01446128310635686, 0.014122063759714365, 0.014086366165429354, 0.014170759823173285, 0.014133129268884659, 0.014159682672470808, 0.014111411292105913, 0.01435989374294877, 0.014115465339273214, 0.014177224598824978, 0.014147988986223936, 0.014081169385463, 0.014407714828848839, 0.014077223837375641, 0.014227341394871473, 0.014036038890480995, 0.014075675047934055, 0.014218331780284643, 0.014287983998656273, 0.014223391190171242, 0.014091741759330034, 0.014149599242955446, 0.01456154603511095, 0.013985953759402037, 0.014084562193602324, 0.0141510427929461, 0.014221177902072668, 0.014067522250115871, 0.014070698991417885, 0.01417959900572896, 0.014070984907448292, 0.014100597240030766, 0.014123949687927961, 0.014396223239600658, 0.014061260968446732, 0.01410720869898796, 0.014159428421407938, 0.014193071983754635, 0.014374696649610996, 0.014339646324515343, 0.014143846929073334, 0.014146368950605392, 0.01406529312953353, 0.014424719847738743, 0.014112943783402443, 0.014130715280771255, 0.014111387077718973, 0.014158710837364197, 0.014102212153375149, 0.014172364957630634, 0.014199818018823862, 0.014088289812207222, 0.014084451831877232, 0.0142900082282722, 0.014205947984009981, 0.014172986149787903, 0.014190294779837132, 0.014189680106937885, 0.014412526041269302, 0.014105800073593855, 0.014199204742908478, 0.014159059152007103, 0.01421751594170928, 0.01414744695648551, 0.014194014947861433, 0.014218465890735388, 0.014092030003666878, 0.01414011511951685, 0.014147415291517973, 0.014158914797008038, 0.014189137145876884, 0.014277929905802011, 0.014194354880601168, 0.014018811285495758, 0.014098002575337887, 0.014097427017986774, 0.014180147089064121, 0.01421638298779726, 0.01418958231806755, 0.014089399948716164, 0.014168663881719112, 0.014162860810756683, 0.014111466240137815, 0.014142373111099005, 0.01410386897623539, 0.014300827868282795, 0.014146683737635612, 0.0141096580773592, 0.014089433010667562, 0.014202669262886047, 0.014193518087267876, 0.014147494919598103, 0.01420741667971015, 0.014188311994075775, 0.014036932960152626, 0.014144972432404757, 0.014112681616097689, 0.01428206218406558, 0.014154763892292976, 0.014302019029855728, 0.01400393107905984, 0.014216181822121143, 0.014120731968432665, 0.014122230000793934, 0.01415335526689887, 0.014124399051070213, 0.014436410740017891, 0.0139424460940063, 0.014133005868643522, 0.014113561250269413, 0.014110135845839977, 0.014136928133666515, 0.014146669767796993, 0.014117053244262934, 0.014121260028332472, 0.01414564810693264, 0.014107564929872751, 0.014158152975142002, 0.01413973281159997, 0.014123166911303997, 0.014176557306200266, 0.014209643937647343, 0.014100681059062481, 0.01410905085504055, 0.014100005850195885, 0.014147435314953327, 0.014136537909507751, 0.014093734789639711, 0.014230871107429266, 0.014176555909216404, 0.014121592044830322, 0.01416591927409172, 0.014147866982966661, 0.014080619905143976, 0.014161380007863045, 0.01420995406806469, 0.01411618897691369, 0.014137628022581339, 0.014155311975628138, 0.014141324907541275, 0.014161352068185806, 0.014130434021353722, 0.014159054961055517, 0.014142539817839861, 0.014068877324461937, 0.01420086994767189, 0.014230452012270689, 0.014104316011071205, 0.014206219930201769, 0.014239272102713585, 0.014089812990278006, 0.014025639742612839, 0.014127968810498714, 0.014120213221758604, 0.014131064992398024, 0.014097847044467926, 0.014148612041026354, 0.014093475881963968, 0.014064171817153692, 0.014206923078745604, 0.014233303256332874, 0.01419257977977395, 0.014243686106055975, 0.014230967033654451, 0.014210591092705727, 0.014037266839295626, 0.014164241030812263, 0.014184291008859873, 0.014065405819565058, 0.014143611304461956, 0.014183711726218462, 0.014158206060528755, 0.01403449010103941, 0.014129717834293842, 0.014093858189880848, 0.014166823122650385, 0.014074068050831556, 0.01420312374830246, 0.014113460201770067, 0.014096981845796108, 0.014063309878110886, 0.014180607162415981, 0.014134032186120749, 0.014125418849289417, 0.014398576691746712, 0.01397270429879427, 0.01410000305622816, 0.014106609858572483, 0.014125776942819357, 0.014260679949074984, 0.014178078155964613, 0.014113050885498524, 0.014155371114611626, 0.01407852815464139, 0.014061437919735909, 0.014150233939290047, 0.014105887152254581, 0.01417143503203988, 0.014090071897953749, 0.014296352863311768, 0.014108773786574602, 0.014116050209850073, 0.014189990237355232, 0.014245647937059402, 0.014035298954695463, 0.014119639992713928, 0.014249060768634081, 0.01420495891943574, 0.014127945993095636, 0.014127616304904222, 0.014116126112639904, 0.014124332927167416, 0.014150483068078756, 0.014190951827913523, 0.014114060904830694, 0.014206320978701115, 0.014049779158085585, 0.014583698008209467], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  221.13    
Total input tokens:                      1048576   
Total generated tokens:                  223347    
Request throughput (req/s):              4.63      
Output token throughput (tok/s):         1010.05   
Total Token throughput (tok/s):          5752.04   
---------------Time to First Token----------------
Mean TTFT (ms):                          151.78    
Median TTFT (ms):                        137.52    
P99 TTFT (ms):                           287.58    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          24.24     
Median TPOT (ms):                        24.08     
P99 TPOT (ms):                           30.70     
---------------Inter-token Latency----------------
Mean ITL (ms):                           24.16     
Median ITL (ms):                         17.82     
P99 ITL (ms):                            79.21     
==================================================
