INFO 07-10 04:31:28 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-30-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=4.020057966001332, output_tokens=256, ttft=0.34695116663351655, itl=[4.871329292654991e-05, 0.014609748963266611, 0.014685997739434242, 0.014452142175287008, 0.014493363909423351, 0.01431501004844904, 0.014384765177965164, 0.014445886947214603, 0.014456124044954777, 0.01443522609770298, 0.014430503826588392, 0.014353124890476465, 0.014352295082062483, 0.014412628021091223, 0.014448496047407389, 0.014494968112558126, 0.014318378642201424, 0.014437573030591011, 0.014385791961103678, 0.014364945236593485, 0.01445694174617529, 0.01434613112360239, 0.014372352045029402, 0.014365045819431543, 0.014381097164005041, 0.014456784818321466, 0.014398261439055204, 0.01435083756223321, 0.014399232342839241, 0.0144047187641263, 0.014422954991459846, 0.014345751143991947, 0.01433737576007843, 0.014338534325361252, 0.014333087019622326, 0.0143817737698555, 0.014465141110122204, 0.014341157861053944, 0.014359890017658472, 0.014433019328862429, 0.014489422552287579, 0.01437533413991332, 0.01430574618279934, 0.014432817697525024, 0.014324832241982222, 0.014343725051730871, 0.01435652282088995, 0.014409563969820738, 0.014455066062510014, 0.01440517883747816, 0.014447787310928106, 0.014399760868400335, 0.014290593098849058, 0.014392959885299206, 0.014359383843839169, 0.014378842432051897, 0.01440849481150508, 0.014327577780932188, 0.014415900222957134, 0.014387570787221193, 0.014360899105668068, 0.014387859031558037, 0.014373558107763529, 0.01442571496590972, 0.014316610060632229, 0.01433545583859086, 0.01434949692338705, 0.01438471907749772, 0.014369178097695112, 0.014311518985778093, 0.014417888130992651, 0.014320340938866138, 0.014329770114272833, 0.014320957940071821, 0.014400084037333727, 0.014409403782337904, 0.014443450141698122, 0.01442827470600605, 0.014377996325492859, 0.014370626769959927, 0.014341316185891628, 0.014410391915589571, 0.014414832927286625, 0.014343845192342997, 0.01444720383733511, 0.014295213855803013, 0.014408694114536047, 0.014316110871732235, 0.01434342097491026, 0.014410948380827904, 0.014408731833100319, 0.014396321028470993, 0.01430096896365285, 0.01436876505613327, 0.014372185803949833, 0.01433961233124137, 0.014319611713290215, 0.014444839209318161, 0.014403317123651505, 0.01436351565644145, 0.014404659159481525, 0.014299694914370775, 0.014358016196638346, 0.014380645006895065, 0.014386754017323256, 0.014398226980119944, 0.01440249802544713, 0.014315691776573658, 0.01440906384959817, 0.014515914022922516, 0.014396565034985542, 0.01440045703202486, 0.014436301309615374, 0.014392007607966661, 0.014456604141741991, 0.014384887181222439, 0.014396063052117825, 0.014472164679318666, 0.014337921049445868, 0.014561395160853863, 0.014377439860254526, 0.014501472003757954, 0.014402706176042557, 0.01449328102171421, 0.014352052006870508, 0.014503187965601683, 0.01443268172442913, 0.014424185268580914, 0.014396290760487318, 0.014401969965547323, 0.014390212949365377, 0.014363912399858236, 0.014330105856060982, 0.014393122866749763, 0.014421723317354918, 0.014288521837443113, 0.014411503914743662, 0.014420329127460718, 0.01439266512170434, 0.014528833795338869, 0.014479265082627535, 0.014538922812789679, 0.014333155937492847, 0.01444915821775794, 0.014349667821079493, 0.014332260005176067, 0.014361463952809572, 0.01443610293790698, 0.014306139200925827, 0.014405392110347748, 0.014364312868565321, 0.014397189021110535, 0.014460402075201273, 0.014354991726577282, 0.014423493295907974, 0.01433873688802123, 0.014427883084863424, 0.014354678802192211, 0.014399535953998566, 0.014426814392209053, 0.014398577623069286, 0.01448753708973527, 0.014289219863712788, 0.014372996054589748, 0.014371596276760101, 0.014415576122701168, 0.014399051666259766, 0.014314840082079172, 0.014502550009638071, 0.014399473089724779, 0.014346953947097063, 0.014378115069121122, 0.01434025913476944, 0.014378407970070839, 0.014331674668937922, 0.014487011358141899, 0.01445401692762971, 0.014284573961049318, 0.01445802766829729, 0.01437379140406847, 0.014324865769594908, 0.01438948791474104, 0.014434834010899067, 0.01440032897517085, 0.014374214224517345, 0.014478662982583046, 0.014411638956516981, 0.01441665505990386, 0.01434858376160264, 0.014463500119745731, 0.014400626998394728, 0.014410021249204874, 0.014403175562620163, 0.014326713047921658, 0.014465006068348885, 0.014419562183320522, 0.014526864048093557, 0.014429486822336912, 0.01441697496920824, 0.01446531992405653, 0.01442774897441268, 0.014424176421016455, 0.014336640946567059, 0.014476662036031485, 0.014373781625181437, 0.014380231965333223, 0.014384845271706581, 0.014411079697310925, 0.014399623032659292, 0.014406547416001558, 0.014491660986095667, 0.0142897330224514, 0.014468824956566095, 0.014296820852905512, 0.01446396205574274, 0.014995839912444353, 0.014280995819717646, 0.014480820391327143, 0.014425531961023808, 0.014369561802595854, 0.014414818957448006, 0.01454571122303605, 0.014421522617340088, 0.014382310211658478, 0.014405842870473862, 0.014441510196775198, 0.014384783804416656, 0.01444360800087452, 0.014327716082334518, 0.014417293947190046, 0.014444455970078707, 0.014351177960634232, 0.014438996091485023, 0.014354093931615353, 0.01443103514611721, 0.014419096056371927, 0.014364393893629313, 0.014496601186692715, 0.014391312841325998, 0.014374492224305868, 0.014377836603671312, 0.014386719092726707, 0.014431260991841555, 0.014500695280730724, 0.014558536931872368, 0.014371016062796116, 0.014411722775548697, 0.014452483970671892, 0.014385111164301634, 0.014393239747732878, 0.014453986193984747, 0.014374298974871635, 0.014459388796240091, 0.014388193376362324, 0.014440659899264574, 0.014902032911777496], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  142.03    
Total input tokens:                      2097152   
Total generated tokens:                  225120    
Request throughput (req/s):              7.21      
Output token throughput (tok/s):         1585.01   
Total Token throughput (tok/s):          16350.53  
---------------Time to First Token----------------
Mean TTFT (ms):                          45437.34  
Median TTFT (ms):                        37107.85  
P99 TTFT (ms):                           90516.17  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          268.06    
Median TPOT (ms):                        223.97    
P99 TPOT (ms):                           1167.81   
---------------Inter-token Latency----------------
Mean ITL (ms):                           218.55    
Median ITL (ms):                         60.47     
P99 ITL (ms):                            750.85    
==================================================
