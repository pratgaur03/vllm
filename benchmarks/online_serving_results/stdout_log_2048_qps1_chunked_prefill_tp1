INFO 07-08 08:09:50 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=1.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-1-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.024540992919356, output_tokens=256, ttft=0.29734569089487195, itl=[0.0028540813364088535, 0.014352087862789631, 0.014449577778577805, 0.014465859159827232, 0.01441450696438551, 0.014492474030703306, 0.014491362031549215, 0.014498109929263592, 0.014473097864538431, 0.014483592007309198, 0.014472201932221651, 0.014444797299802303, 0.014591013081371784, 0.01435910165309906, 0.01449848897755146, 0.014538901392370462, 0.014524347614496946, 0.014492579270154238, 0.014698774088174105, 0.014504903927445412, 0.01446872903034091, 0.01456822594627738, 0.014461643993854523, 0.014473212882876396, 0.01447472209110856, 0.014564039185643196, 0.014556145761162043, 0.014465549029409885, 0.014536685775965452, 0.014540481381118298, 0.014482293743640184, 0.014673048164695501, 0.014443311840295792, 0.014538666233420372, 0.014526911079883575, 0.014495320618152618, 0.014550301246345043, 0.01453164080157876, 0.014556118287146091, 0.014504045713692904, 0.014523368328809738, 0.014531794004142284, 0.014636263716965914, 0.014539759140461683, 0.014522324781864882, 0.014518826268613338, 0.014528073836117983, 0.014576682820916176, 0.014587085228413343, 0.014502164907753468, 0.01454098615795374, 0.014541083946824074, 0.014578172005712986, 0.014589094091206789, 0.01461385190486908, 0.014601801987737417, 0.014581235125660896, 0.014561580028384924, 0.014570429921150208, 0.01453300192952156, 0.014505458064377308, 0.014580790884792805, 0.014696273021399975, 0.014607920777052641, 0.014668837189674377, 0.014500538818538189, 0.014538056217133999, 0.014628536999225616, 0.01463593915104866, 0.014559299685060978, 0.014588949270546436, 0.014618305023759604, 0.014516212977468967, 0.01457535894587636, 0.014614576939493418, 0.014576111920177937, 0.014624902047216892, 0.014639467932283878, 0.01454185601323843, 0.01453697495162487, 0.014552840031683445, 0.014569296967238188, 0.014550960157066584, 0.014613005798310041, 0.0145931551232934, 0.01458689896389842, 0.014546073973178864, 0.014605903066694736, 0.014609611127525568, 0.014533976092934608, 0.014624858740717173, 0.014554197899997234, 0.014544194098562002, 0.014561300165951252, 0.01459052274003625, 0.014542139135301113, 0.014623765833675861, 0.014621264301240444, 0.014559033792465925, 0.014602442272007465, 0.014554607681930065, 0.014874620363116264, 0.014326001051813364, 0.014749460853636265, 0.014591190963983536, 0.014627244789153337, 0.014560908079147339, 0.01456076093018055, 0.014595282264053822, 0.014617071021348238, 0.014614591840654612, 0.01457230607047677, 0.014613382052630186, 0.014531843829900026, 0.014537950046360493, 0.014567483216524124, 0.014631375670433044, 0.014609495177865028, 0.014639520086348057, 0.014705921057611704, 0.014546685852110386, 0.014538891147822142, 0.014798786025494337, 0.014449625741690397, 0.014638942200690508, 0.014611816965043545, 0.014531747903674841, 0.014607224147766829, 0.014604667667299509, 0.014608342200517654, 0.014607687946408987, 0.01467818021774292, 0.014633432030677795, 0.014569303952157497, 0.014556140638887882, 0.014595484361052513, 0.014638223685324192, 0.014864648226648569, 0.015116637106984854, 0.014938588719815016, 0.014770199079066515, 0.014840465039014816, 0.01460641110315919, 0.014690239913761616, 0.014610065147280693, 0.01469796383753419, 0.014713068027049303, 0.014600695110857487, 0.014662463683634996, 0.01469797594472766, 0.014656862244009972, 0.014671492855995893, 0.014624894130975008, 0.014612876810133457, 0.014653051272034645, 0.01462253788486123, 0.01458382187411189, 0.014642606023699045, 0.01466286601498723, 0.014614019077271223, 0.014660820830613375, 0.014607766177505255, 0.014602900948375463, 0.014788832049816847, 0.014489301014691591, 0.014607815071940422, 0.01469349768012762, 0.014591949060559273, 0.014511598274111748, 0.01464170590043068, 0.014650130178779364, 0.014664145652204752, 0.014688980299979448, 0.014590583741664886, 0.01461635809391737, 0.014597515109926462, 0.014635208062827587, 0.014644671697169542, 0.014616430271416903, 0.014619651716202497, 0.014650131110101938, 0.014631337951868773, 0.01459021307528019, 0.01467428682371974, 0.01462473813444376, 0.01502940384671092, 0.014325330033898354, 0.014615623280405998, 0.014573344960808754, 0.014633731916546822, 0.014605280943214893, 0.014605361968278885, 0.014586973004043102, 0.01461252523586154, 0.014625461772084236, 0.014624886214733124, 0.014750699046999216, 0.015069437678903341, 0.014521047007292509, 0.014606723096221685, 0.014622040092945099, 0.014640063047409058, 0.014619895722717047, 0.014588975347578526, 0.014672796707600355, 0.014622596092522144, 0.01471778517588973, 0.014639630913734436, 0.014648656826466322, 0.014599837362766266, 0.01457996480166912, 0.014620588161051273, 0.014674212783575058, 0.01462085684761405, 0.014748916029930115, 0.014592907391488552, 0.014588042628020048, 0.014644673094153404, 0.014622885268181562, 0.014613977633416653, 0.014653220307081938, 0.014650993049144745, 0.014657963998615742, 0.014562802854925394, 0.014584057964384556, 0.014663001988083124, 0.014643442817032337, 0.014652192126959562, 0.014627020806074142, 0.014593322295695543, 0.014577370136976242, 0.014661591965705156, 0.014651859644800425, 0.014642412308603525, 0.014692639000713825, 0.014576169662177563, 0.014613624196499586, 0.01463001687079668, 0.014711495954543352, 0.01462520333006978, 0.01489152479916811, 0.014592293184250593, 0.01461635297164321, 0.014620329719036818, 0.01465553604066372, 0.014615430030971766, 0.014727639965713024, 0.014610243029892445, 0.014603953342884779, 0.014596662949770689, 0.014613743871450424, 0.014585568103939295, 0.014734390657395124, 0.014498531352728605, 0.014649373013526201, 0.015268051996827126], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 1.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  1085.42   
Total input tokens:                      2097152   
Total generated tokens:                  231096    
Request throughput (req/s):              0.94      
Output token throughput (tok/s):         212.91    
Total Token throughput (tok/s):          2145.01   
---------------Time to First Token----------------
Mean TTFT (ms):                          309.52    
Median TTFT (ms):                        305.57    
P99 TTFT (ms):                           484.63    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          17.71     
Median TPOT (ms):                        17.38     
P99 TPOT (ms):                           24.20     
---------------Inter-token Latency----------------
Mean ITL (ms):                           17.64     
Median ITL (ms):                         15.56     
P99 ITL (ms):                            82.63     
==================================================
