INFO 07-08 05:29:19 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=5.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-5-input-len-128-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=128, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a jumbled collection of words and phrases, possibly from a technical or programming context. I\'ll try to break it down and provide some insights:\n\n1. **Newsletter waiter inquire**: This phrase seems out of place among the other technical terms. It might be a misplaced sentence or a typo.\n2. **__togIENTATION companyId Basics**: This appears to be a variable or function name, possibly related to a company\'s orientation or onboarding process.\n3. **macOS Mats_tel-prefix mutate**: This phrase seems to be related to macOS development, with "Mats_tel-prefix" possibly being a custom prefix for a macOS app, and "mutate" indicating a function or method that modifies something.\n4. **DataLoader.GPIO Levy sneakers crédawnerxia/simpleCHR**: This line appears to be a mix of unrelated terms:\n\t* **DataLoader**: A class or function for loading data.\n\t* **GPIO**: General Purpose Input/Output, a term commonly used in electronics and programming.\n\t* **Levy sneakers**: A brand of sneakers, seemingly unrelated to the other terms.\n\t* **crédawnerxia/simpleCHR**: This appears to be a username or namespace, possibly related to a programming project or library.\n5. **fl', success=True, latency=3.7919894522055984, output_tokens=256, ttft=0.07845150819048285, itl=[3.678491339087486e-05, 0.014066348783671856, 0.01440739631652832, 0.01441790396347642, 0.01447856891900301, 0.014357620850205421, 0.014405756257474422, 0.0143817700445652, 0.014436606783419847, 0.014422322157770395, 0.014407388865947723, 0.014533496927469969, 0.014360145200043917, 0.01440801378339529, 0.014457871206104755, 0.014613342005759478, 0.01438553212210536, 0.014823661651462317, 0.014271100051701069, 0.014450215268880129, 0.01437360979616642, 0.014436670113354921, 0.014523907098919153, 0.014490892644971609, 0.014656668063253164, 0.01425191294401884, 0.014503838960081339, 0.0144330901093781, 0.014515219256281853, 0.014536246657371521, 0.014538861345499754, 0.01458723470568657, 0.014385666232556105, 0.014388371724635363, 0.014433606993407011, 0.01441417122259736, 0.014443856198340654, 0.014500771649181843, 0.014538201037794352, 0.014469788875430822, 0.014432572294026613, 0.01446083514019847, 0.014413578901439905, 0.014498560689389706, 0.014466478023678064, 0.014485097955912352, 0.014463216997683048, 0.014438440091907978, 0.014427666086703539, 0.01442810520529747, 0.014467153698205948, 0.014579440001398325, 0.014545230194926262, 0.01442954782396555, 0.014431919902563095, 0.014420919120311737, 0.014448199886828661, 0.014477386139333248, 0.014495422132313251, 0.014661132823675871, 0.014444316271692514, 0.014460364822298288, 0.014462130144238472, 0.014439627062529325, 0.014436987694352865, 0.014483290258795023, 0.014576155692338943, 0.014417754951864481, 0.014449337031692266, 0.014436854049563408, 0.014466153923422098, 0.014740096405148506, 0.014458172023296356, 0.01453831186518073, 0.014464036095887423, 0.014424087945371866, 0.014454684685915709, 0.014465552289038897, 0.014457577839493752, 0.014518374111503363, 0.014525162987411022, 0.014457650948315859, 0.01451150281354785, 0.014445522334426641, 0.014504086691886187, 0.014496078249067068, 0.014501744881272316, 0.014570958912372589, 0.014406860340386629, 0.014452107716351748, 0.014455329161137342, 0.014506295789033175, 0.014534877147525549, 0.014458462130278349, 0.014497928787022829, 0.014489651191979647, 0.014455039985477924, 0.014493559952825308, 0.014549286104738712, 0.014497744850814342, 0.014466681983321905, 0.014569630846381187, 0.014423137996345758, 0.014472884126007557, 0.014417957048863173, 0.014451994094997644, 0.014526790007948875, 0.014496396761387587, 0.014483054168522358, 0.01447932980954647, 0.014466793276369572, 0.014525196980684996, 0.014471303671598434, 0.01446340698748827, 0.014803191181272268, 0.014252298045903444, 0.014523718971759081, 0.014516946859657764, 0.0145128951407969, 0.014489503111690283, 0.0145490737631917, 0.014528115279972553, 0.014530927874147892, 0.014471353963017464, 0.014439995866268873, 0.014434840064495802, 0.014481076039373875, 0.014556495007127523, 0.01455690385773778, 0.01446366822347045, 0.01446077274158597, 0.01448944304138422, 0.014463625382632017, 0.014525560662150383, 0.01451954897493124, 0.014581541996449232, 0.014489494264125824, 0.014470471069216728, 0.014470223803073168, 0.014502392150461674, 0.014501173049211502, 0.01449225703254342, 0.014573775697499514, 0.014507051091641188, 0.014489009976387024, 0.014424216002225876, 0.014505506958812475, 0.014526092913001776, 0.014514868147671223, 0.014600777998566628, 0.01449748408049345, 0.014482132159173489, 0.014485409948974848, 0.014468800742179155, 0.014763338956981897, 0.014460938982665539, 0.014542606193572283, 0.014497702941298485, 0.014494359958916903, 0.014460465870797634, 0.014462922234088182, 0.014543018769472837, 0.01447698101401329, 0.014625404961407185, 0.014469508081674576, 0.014485129155218601, 0.014466667082160711, 0.014524545054882765, 0.014455887023359537, 0.014463323634117842, 0.014607042074203491, 0.014488846063613892, 0.014507454819977283, 0.014573954045772552, 0.01524359593167901, 0.014873155392706394, 0.014696373604238033, 0.014876111410558224, 0.014781072735786438, 0.014579195994883776, 0.014676725026220083, 0.014722452964633703, 0.014733238145709038, 0.014828290790319443, 0.014682561159133911, 0.014723340980708599, 0.014733095187693834, 0.014667427632957697, 0.01470883609727025, 0.014713576063513756, 0.014822722878307104, 0.014713334385305643, 0.014719769824296236, 0.014745178166776896, 0.014698967803269625, 0.014709204901009798, 0.014706604182720184, 0.014799797907471657, 0.014695663005113602, 0.0146893709897995, 0.014673513825982809, 0.01480539096519351, 0.01472785510122776, 0.014661265071481466, 0.014788451138883829, 0.014650100842118263, 0.014688266906887293, 0.014724334236234426, 0.014658845961093903, 0.014692292083054781, 0.01478374982252717, 0.01481104688718915, 0.01468212204053998, 0.014637765008956194, 0.014713876880705357, 0.014708861242979765, 0.014704687986522913, 0.014966673217713833, 0.014513950794935226, 0.014680089894682169, 0.014667532872408628, 0.014751758426427841, 0.014687608927488327, 0.014638966880738735, 0.015040935017168522, 0.014682047069072723, 0.01468711905181408, 0.01475601177662611, 0.014659537933766842, 0.014718811959028244, 0.014733333140611649, 0.014793955255299807, 0.014696536585688591, 0.014663276262581348, 0.014689536765217781, 0.01470511732622981, 0.01465934095904231, 0.014686927665024996, 0.014812004286795855, 0.01474128570407629, 0.014679338317364454, 0.014765186700969934, 0.014671884011477232, 0.014666527044028044, 0.014705362264066935, 0.01485146302729845, 0.014684353023767471, 0.014698431827127934, 0.014724551234394312, 0.014673995785415173, 0.014699991792440414, 0.014889579266309738, 0.01458215806633234, 0.014694368932396173, 0.014675062149763107, 0.014925675932317972], tpot=0.0, prompt_len=128, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 5.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  221.37    
Total input tokens:                      131072    
Total generated tokens:                  241683    
Request throughput (req/s):              4.63      
Output token throughput (tok/s):         1091.76   
Total Token throughput (tok/s):          1683.86   
---------------Time to First Token----------------
Mean TTFT (ms):                          91.31     
Median TTFT (ms):                        87.75     
P99 TTFT (ms):                           157.56    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          20.30     
Median TPOT (ms):                        20.27     
P99 TPOT (ms):                           22.62     
---------------Inter-token Latency----------------
Mean ITL (ms):                           20.21     
Median ITL (ms):                         18.09     
P99 ITL (ms):                            81.25     
==================================================
