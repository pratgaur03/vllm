INFO 07-08 06:45:08 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=3.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-3-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to different domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock", "trading")\n\t* Computer science (e.g., "algorithm", "data structure", "machine learning")\n\t* Web development (e.g., "HTML", "CSS", "JavaScript")\n\t* Mobile app development (e.g., "Android", "iOS")\n\t* Data analysis (e.g., "data visualization", "statistics")\n3. **Code snippets and fragments**: The text contains short code snippets, function names, and variable names, which seem to be taken out of context.\n4. **Typos and formatting issues**: There are many typos, formatting issues, and inconsistent spacing throughout the text.\n\n**Possible explanations:**\n\n1. **Code dump**: The text might be a', success=True, latency=3.8773088199086487, output_tokens=256, ttft=0.10561529267579317, itl=[4.127621650695801e-05, 0.015086527913808823, 0.014662246219813824, 0.014700325671583414, 0.01475672610104084, 0.01472614286467433, 0.014642789959907532, 0.014700756408274174, 0.01471240259706974, 0.014814457390457392, 0.014606765937060118, 0.014726769644767046, 0.014675606042146683, 0.014687627088278532, 0.014755405951291323, 0.014660815242677927, 0.014781409874558449, 0.014776905998587608, 0.014764213003218174, 0.014715628232806921, 0.014708753675222397, 0.014695036225020885, 0.014768309891223907, 0.014737676829099655, 0.014783618040382862, 0.01467693131417036, 0.014683668036013842, 0.014785995706915855, 0.014712174888700247, 0.014738687314093113, 0.014804346021264791, 0.014737310819327831, 0.014718409162014723, 0.014832365792244673, 0.01467507192865014, 0.014692672062665224, 0.014815788250416517, 0.014802191872149706, 0.014824398793280125, 0.014744919259101152, 0.014764318708330393, 0.014690818265080452, 0.014797580894082785, 0.014851340092718601, 0.014710542745888233, 0.014827189035713673, 0.014745831023901701, 0.01479306723922491, 0.014804115984588861, 0.014808574691414833, 0.014779202174395323, 0.014791566878557205, 0.014789155218750238, 0.01474605593830347, 0.014797942247241735, 0.014792055822908878, 0.014683493878692389, 0.014834907837212086, 0.014847870450466871, 0.014721829909831285, 0.01476417388767004, 0.014836836140602827, 0.014712142758071423, 0.014862115029245615, 0.01497963722795248, 0.01465946203097701, 0.014747445937246084, 0.014710267074406147, 0.014795420691370964, 0.014731867238879204, 0.014902202878147364, 0.014730578754097223, 0.014769597444683313, 0.014890763908624649, 0.014779134653508663, 0.014836157206445932, 0.014796736184507608, 0.014774957671761513, 0.01479317806661129, 0.01474901707842946, 0.01475695101544261, 0.014755065087229013, 0.01485335873439908, 0.014751017093658447, 0.014800135046243668, 0.014784779865294695, 0.014785164035856724, 0.014801484066992998, 0.014797115232795477, 0.014698673970997334, 0.014832093846052885, 0.014850081875920296, 0.014764355029910803, 0.014747233130037785, 0.014774433802813292, 0.014817105140537024, 0.014725618995726109, 0.014809729997068644, 0.014855349902063608, 0.014796038158237934, 0.01474812114611268, 0.014805684797465801, 0.014766398817300797, 0.014880834147334099, 0.014840666204690933, 0.014719757717102766, 0.014820177108049393, 0.01478592399507761, 0.014790902845561504, 0.014819908421486616, 0.014762191567569971, 0.014867733232676983, 0.014740250073373318, 0.01474674278870225, 0.014767186250537634, 0.01493408577516675, 0.01482778787612915, 0.014737832359969616, 0.014915395062416792, 0.014792557805776596, 0.014775036834180355, 0.01485214801505208, 0.01480845594778657, 0.014794153161346912, 0.014706966932862997, 0.014790310058742762, 0.014787776861339808, 0.014722669962793589, 0.01482104742899537, 0.014698208775371313, 0.014782524202018976, 0.014974820893257856, 0.014654751867055893, 0.014782365877181292, 0.014725788962095976, 0.014792565256357193, 0.014757849741727114, 0.014797197189182043, 0.014858773909509182, 0.014768979977816343, 0.01481709722429514, 0.014758638106286526, 0.014793406706303358, 0.014895007014274597, 0.014728214126080275, 0.014849716797471046, 0.0147801972925663, 0.014767076820135117, 0.014837347902357578, 0.014739829115569592, 0.014742393046617508, 0.014812827110290527, 0.0147992386482656, 0.014785387087613344, 0.014821695163846016, 0.014767443761229515, 0.014773311093449593, 0.014815615024417639, 0.014785273000597954, 0.014806604944169521, 0.014819290954619646, 0.014802718069404364, 0.014810736291110516, 0.014791756868362427, 0.014839035924524069, 0.014908901881426573, 0.014763087965548038, 0.014814583119004965, 0.014791308902204037, 0.014790965244174004, 0.014719776809215546, 0.014779673889279366, 0.014867810998111963, 0.014769914094358683, 0.0147753213532269, 0.014904428739100695, 0.014801854267716408, 0.0147956358268857, 0.014767866116017103, 0.01483820378780365, 0.014822706114500761, 0.014747294131666422, 0.014813588932156563, 0.014809930697083473, 0.01481672003865242, 0.014724553097039461, 0.014794017188251019, 0.014818161725997925, 0.014806562103331089, 0.014741534832865, 0.014955806080251932, 0.01469481224194169, 0.014780785888433456, 0.014761080965399742, 0.014809521846473217, 0.014726592227816582, 0.014705206733196974, 0.014803781174123287, 0.01479545421898365, 0.01481202058494091, 0.014946632087230682, 0.014836087357252836, 0.01488245977088809, 0.014984131790697575, 0.014960726257413626, 0.014961735811084509, 0.014796525239944458, 0.014792604837566614, 0.014764687977731228, 0.014860787894576788, 0.014702104032039642, 0.014881673268973827, 0.01475828280672431, 0.014830015134066343, 0.014828045852482319, 0.014717215206474066, 0.014916772954165936, 0.01485848193988204, 0.014766640961170197, 0.014790437184274197, 0.01473979465663433, 0.014801663346588612, 0.014751773793250322, 0.014859318267554045, 0.014774562790989876, 0.014762862119823694, 0.01483428105711937, 0.014821921940892935, 0.014761995989829302, 0.014780920930206776, 0.014795771799981594, 0.014761801343411207, 0.014720492996275425, 0.014889450743794441, 0.014916436281055212, 0.01479035196825862, 0.014814235735684633, 0.014787904918193817, 0.014791719149798155, 0.014755961950868368, 0.01491794316098094, 0.014802212826907635, 0.014733212999999523, 0.014839699026197195, 0.014810836873948574, 0.0147566101513803, 0.014907043892890215, 0.01472832914441824, 0.014776336029171944, 0.01481511676684022, 0.014824181329458952, 0.014791142661124468, 0.014794541988521814, 0.015066586434841156, 0.014759560581296682, 0.01502968231216073], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 3.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  365.57    
Total input tokens:                      524288    
Total generated tokens:                  230494    
Request throughput (req/s):              2.80      
Output token throughput (tok/s):         630.50    
Total Token throughput (tok/s):          2064.66   
---------------Time to First Token----------------
Mean TTFT (ms):                          117.19    
Median TTFT (ms):                        113.73    
P99 TTFT (ms):                           206.92    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          19.68     
Median TPOT (ms):                        19.86     
P99 TPOT (ms):                           22.12     
---------------Inter-token Latency----------------
Mean ITL (ms):                           19.60     
Median ITL (ms):                         18.04     
P99 ITL (ms):                            106.38    
==================================================
