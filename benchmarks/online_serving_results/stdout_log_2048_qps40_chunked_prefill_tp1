INFO 07-08 04:15:58 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=40.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-40-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.102232179138809, output_tokens=256, ttft=0.29782860493287444, itl=[0.002989517990499735, 0.014887034893035889, 0.014799911994487047, 0.014695953112095594, 0.014699792955070734, 0.01479986310005188, 0.014699399936944246, 0.014706572983413935, 0.014800592325627804, 0.01479461370036006, 0.014714861288666725, 0.014850702602416277, 0.014759615994989872, 0.014731927309185266, 0.014767817687243223, 0.014862463343888521, 0.014825623948127031, 0.014829415827989578, 0.014790641143918037, 0.01477836910635233, 0.014824234880506992, 0.014844762161374092, 0.01477739354595542, 0.014904842246323824, 0.014797761105000973, 0.014815523754805326, 0.014795586932450533, 0.014915034174919128, 0.014817202929407358, 0.015134416054934263, 0.014606321230530739, 0.014852855820208788, 0.014840562827885151, 0.01492409035563469, 0.014808409847319126, 0.014905668795108795, 0.014889303129166365, 0.014849119819700718, 0.014909591060131788, 0.014886407181620598, 0.014808124862611294, 0.014838903211057186, 0.014936042949557304, 0.014862712938338518, 0.014853532891720533, 0.014831452164798975, 0.014840068761259317, 0.014886624179780483, 0.014810577034950256, 0.014849125873297453, 0.01490334514528513, 0.014811193104833364, 0.014992441982030869, 0.01483526173979044, 0.01490421500056982, 0.01492662401869893, 0.015126175247132778, 0.014541686046868563, 0.014880799688398838, 0.01484480407088995, 0.014887562952935696, 0.014882276300340891, 0.014928143005818129, 0.014909342862665653, 0.014877835754305124, 0.01490878127515316, 0.0148712326772511, 0.014838188420981169, 0.014902358874678612, 0.014921949710696936, 0.014852202031761408, 0.014870443381369114, 0.01488968264311552, 0.014903279952704906, 0.014823295176029205, 0.014913614839315414, 0.014956405386328697, 0.014867946971207857, 0.014822251629084349, 0.014901271089911461, 0.014884532894939184, 0.014862723182886839, 0.014895949978381395, 0.015153068117797375, 0.014837399125099182, 0.014875425957143307, 0.014911375939846039, 0.014874115120619535, 0.014840047806501389, 0.014937806874513626, 0.015018984209746122, 0.014826169703155756, 0.014965339098125696, 0.014876813162118196, 0.014871112070977688, 0.014851314015686512, 0.014982316642999649, 0.014946338254958391, 0.01491203811019659, 0.014949037693440914, 0.01489225821569562, 0.014973085839301348, 0.014853264205157757, 0.014897522050887346, 0.01487378403544426, 0.01488224370405078, 0.014867599122226238, 0.014887610916048288, 0.014925238210707903, 0.014926284085959196, 0.015065473970025778, 0.01491133589297533, 0.014931381680071354, 0.014835760463029146, 0.014903002884238958, 0.014918881934136152, 0.014855511952191591, 0.014935601968318224, 0.014862156938761473, 0.014882639050483704, 0.01495111407712102, 0.0148514648899436, 0.014993659220635891, 0.0148936677724123, 0.014911225996911526, 0.014837392140179873, 0.014951368793845177, 0.01497102901339531, 0.01495370827615261, 0.014961532782763243, 0.015234154183417559, 0.014587969984859228, 0.014935803133994341, 0.014905864838510752, 0.014923354145139456, 0.014917843975126743, 0.014934713952243328, 0.014981718733906746, 0.014869037084281445, 0.014895865228027105, 0.014914420899003744, 0.014940660912543535, 0.014872771222144365, 0.014939585700631142, 0.01487704599276185, 0.015004605986177921, 0.014882348943501711, 0.014930892270058393, 0.014931285753846169, 0.01501016691327095, 0.014849021099507809, 0.014952966012060642, 0.014907138887792826, 0.014922532252967358, 0.014866738114506006, 0.01485523208975792, 0.014938484877347946, 0.014949596021324396, 0.01490240404382348, 0.014977170620113611, 0.015020288992673159, 0.014888724312186241, 0.014964106027036905, 0.014938029926270247, 0.014909327030181885, 0.014884360134601593, 0.014911320991814137, 0.014970269985496998, 0.014905191026628017, 0.014925342984497547, 0.0148646947927773, 0.01497770519927144, 0.014942258596420288, 0.014852182008326054, 0.014970924239605665, 0.01491215592250228, 0.01499397587031126, 0.015121100004762411, 0.014675128273665905, 0.01492500165477395, 0.01492322701960802, 0.014953439123928547, 0.01487872889265418, 0.01499106315895915, 0.014907082077115774, 0.014870200771838427, 0.015470338054001331, 0.014840411022305489, 0.014984531328082085, 0.014931656885892153, 0.014961367938667536, 0.014959953725337982, 0.014887578319758177, 0.014961476903408766, 0.014882883988320827, 0.014932430814951658, 0.014927048236131668, 0.014981036074459553, 0.014999581035226583, 0.014892149716615677, 0.014949237927794456, 0.014995117206126451, 0.014947408810257912, 0.014988435432314873, 0.014952966943383217, 0.014890336897224188, 0.014920589979737997, 0.014919738750904799, 0.015019469428807497, 0.014897542539983988, 0.01492089033126831, 0.014954892918467522, 0.015028692781925201, 0.014945398084819317, 0.014849185012280941, 0.014943994116038084, 0.014967793133109808, 0.014931343961507082, 0.014956321101635695, 0.014919697772711515, 0.014962160028517246, 0.014972839038819075, 0.01489843474701047, 0.014963393099606037, 0.015267025213688612, 0.01481421198695898, 0.0149151929654181, 0.014893647748976946, 0.014985270332545042, 0.01497322367504239, 0.014916308224201202, 0.014983139000833035, 0.01496885996311903, 0.014952797908335924, 0.014908756129443645, 0.014993892051279545, 0.014946342911571264, 0.01492214109748602, 0.014981893822550774, 0.01492588222026825, 0.014930801931768656, 0.014890341088175774, 0.014971108641475439, 0.014918962959200144, 0.014966443181037903, 0.014907117001712322, 0.014951387885957956, 0.014900799375027418, 0.015054014977067709, 0.01501080859452486, 0.014896969310939312, 0.015017636120319366, 0.014981221873313189, 0.014877795707434416, 0.014920293353497982, 0.015329313930124044], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 40.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  157.01    
Total input tokens:                      2097152   
Total generated tokens:                  230533    
Request throughput (req/s):              6.52      
Output token throughput (tok/s):         1468.24   
Total Token throughput (tok/s):          14824.73  
---------------Time to First Token----------------
Mean TTFT (ms):                          58846.75  
Median TTFT (ms):                        58207.05  
P99 TTFT (ms):                           119068.66 
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          213.99    
Median TPOT (ms):                        251.65    
P99 TPOT (ms):                           267.53    
---------------Inter-token Latency----------------
Mean ITL (ms):                           209.07    
Median ITL (ms):                         243.19    
P99 ITL (ms):                            290.44    
==================================================
