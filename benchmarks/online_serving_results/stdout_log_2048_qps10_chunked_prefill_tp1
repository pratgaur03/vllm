INFO 07-08 07:56:10 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=10.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-10-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.073824773542583, output_tokens=256, ttft=0.29746048199012876, itl=[0.002966485917568207, 0.014747985638678074, 0.014547344297170639, 0.014765935018658638, 0.014764703810214996, 0.014894687104970217, 0.014689321164041758, 0.014767034910619259, 0.014842257834970951, 0.014688651077449322, 0.01468757912516594, 0.014786211773753166, 0.014626514166593552, 0.01484952075406909, 0.014544472098350525, 0.014788761269301176, 0.014713496901094913, 0.01476363092660904, 0.01565162418410182, 0.014860737603157759, 0.014752538409084082, 0.014726067893207073, 0.014807773754000664, 0.014613966923207045, 0.014792552217841148, 0.014714386779814959, 0.01464859303086996, 0.014810496009886265, 0.014619403053075075, 0.014717720914632082, 0.014716309029608965, 0.014604412019252777, 0.01473060017451644, 0.014699957799166441, 0.014637165237218142, 0.015001589898020029, 0.014448998030275106, 0.014652116224169731, 0.014683885034173727, 0.01475228974595666, 0.014733732212334871, 0.014762379694730043, 0.014804597944021225, 0.0148348449729383, 0.014711528085172176, 0.014722470194101334, 0.01460116682574153, 0.014727306086570024, 0.01470997603610158, 0.014863455202430487, 0.01476734783500433, 0.014722159132361412, 0.01484962459653616, 0.01478530140593648, 0.014670566655695438, 0.014808242209255695, 0.014793078880757093, 0.014760739170014858, 0.014782089740037918, 0.014776421245187521, 0.01475475076586008, 0.014756129123270512, 0.014763444196432829, 0.014804113656282425, 0.014726846013218164, 0.014753278344869614, 0.014755536802113056, 0.014754065778106451, 0.0147954854182899, 0.014923959970474243, 0.01459638774394989, 0.014716635923832655, 0.014746280387043953, 0.014803576748818159, 0.014756727032363415, 0.01476724585518241, 0.014863644260913134, 0.014691533986479044, 0.014748143963515759, 0.014946855138987303, 0.014814441557973623, 0.014798908028751612, 0.014808007050305605, 0.01478896802291274, 0.0147055359557271, 0.014721541199833155, 0.0148597601801157, 0.014810625929385424, 0.014799272641539574, 0.014812469016760588, 0.014844818040728569, 0.0147338742390275, 0.014714072924107313, 0.014827711042016745, 0.014832476153969765, 0.014763899613171816, 0.014781195204705, 0.01479566004127264, 0.01478570606559515, 0.014769433997571468, 0.014741940889507532, 0.014814956113696098, 0.01480924803763628, 0.014893410727381706, 0.014752462040632963, 0.014801972080022097, 0.01485057594254613, 0.014936162158846855, 0.014719632919877768, 0.014782072044909, 0.014821836724877357, 0.014784818980842829, 0.014787601307034492, 0.014781990088522434, 0.01478011580184102, 0.014789221808314323, 0.014714162331074476, 0.014828631654381752, 0.014778980053961277, 0.014777365140616894, 0.014759128913283348, 0.0148156201466918, 0.014812837820500135, 0.01476836297661066, 0.014806149993091822, 0.014764725230634212, 0.0147733218036592, 0.014813174027949572, 0.014806929975748062, 0.014760787133127451, 0.015022076200693846, 0.014494834002107382, 0.014769835863262415, 0.014875813852995634, 0.014768252149224281, 0.014830921776592731, 0.014777762349694967, 0.014841379597783089, 0.014829898253083229, 0.014781711157411337, 0.014774469658732414, 0.014814672991633415, 0.014789748005568981, 0.014826897997409105, 0.014832459390163422, 0.014746089931577444, 0.014795211609452963, 0.014830014202743769, 0.014783413149416447, 0.014824519865214825, 0.014739649835973978, 0.014879740308970213, 0.014790050685405731, 0.01475346414372325, 0.014740990940481424, 0.01485656388103962, 0.014816467184573412, 0.014771420042961836, 0.014835868962109089, 0.014735397882759571, 0.014724831096827984, 0.014769343193620443, 0.014844649005681276, 0.014805471058934927, 0.014903610572218895, 0.0147670260630548, 0.014840241055935621, 0.01482760813087225, 0.014981533866375685, 0.014785305131226778, 0.0147785609588027, 0.014889020938426256, 0.014802148099988699, 0.014780599158257246, 0.014768132008612156, 0.014836569782346487, 0.014840004965662956, 0.014762168284505606, 0.014871085993945599, 0.01481883181259036, 0.014749341178685427, 0.01489186193794012, 0.014789307955652475, 0.014815770089626312, 0.014766180887818336, 0.014914194121956825, 0.015463346615433693, 0.014752204064279795, 0.014759520068764687, 0.014777103904634714, 0.014783978927880526, 0.014840539079159498, 0.014827808365225792, 0.014791878871619701, 0.014809826854616404, 0.014749581925570965, 0.014819430187344551, 0.01486360002309084, 0.014828207902610302, 0.014794941991567612, 0.014754656236618757, 0.014823161996901035, 0.014800671953707933, 0.014796783681958914, 0.014866920188069344, 0.014887768775224686, 0.014724554028362036, 0.014800434932112694, 0.014796126168221235, 0.014828576240688562, 0.0147752626799047, 0.01481276098638773, 0.014863200020045042, 0.014824043959379196, 0.014776675961911678, 0.014813068322837353, 0.014869597740471363, 0.014790893066674471, 0.014974874909967184, 0.014701560139656067, 0.014825412072241306, 0.014795775059610605, 0.014871113002300262, 0.014798447955399752, 0.014801358804106712, 0.014868903905153275, 0.014834885019809008, 0.014815833419561386, 0.014876219909638166, 0.014850158710032701, 0.014829057268798351, 0.014861294999718666, 0.014883848838508129, 0.01481629116460681, 0.014827829785645008, 0.0148008749820292, 0.014883327297866344, 0.014787566848099232, 0.01482329610735178, 0.014864994678646326, 0.014797915238887072, 0.014845472760498524, 0.01480519538745284, 0.01485768472775817, 0.014854880049824715, 0.014982052147388458, 0.014657729770988226, 0.014771913178265095, 0.01480507105588913, 0.014897897839546204, 0.014900398906320333, 0.014835565350949764, 0.014895655680447817, 0.014818563126027584, 0.014860406052321196, 0.015368766151368618], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 10.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  158.65    
Total input tokens:                      2097152   
Total generated tokens:                  229389    
Request throughput (req/s):              6.45      
Output token throughput (tok/s):         1445.85   
Total Token throughput (tok/s):          14664.29  
---------------Time to First Token----------------
Mean TTFT (ms):                          19729.14  
Median TTFT (ms):                        20423.77  
P99 TTFT (ms):                           40002.02  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          216.79    
Median TPOT (ms):                        253.82    
P99 TPOT (ms):                           270.02    
---------------Inter-token Latency----------------
Mean ITL (ms):                           211.93    
Median ITL (ms):                         245.45    
P99 ITL (ms):                            294.44    
==================================================
