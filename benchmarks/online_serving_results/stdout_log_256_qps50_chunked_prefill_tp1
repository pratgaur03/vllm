INFO 07-08 03:07:01 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-256-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `testProfit`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C# (e.g., `Cleanup.structure`)\n* Kotlin (e.g., `lateinit`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Data science and machine learning (e.g., `testProfit`, `estimator`)\n* Web development (e.g., `Component`, `Cleanup.structure`)\n* IoT and sensor-related topics (e.g., `SENSOR_BUSY`, `wifi`)\n* Finance and economics (e.g., `NYSE`, `profit`)\n* Geography and location-based services (e.g., `Latitude`, `Prague`)\n\n**Other observations:**\n\n* There are many typos and non-English words/phrases, which might indicate that the text is a result of a machine translation or a text generation algorithm.\n* Some parts of the", success=True, latency=3.8978979401290417, output_tokens=256, ttft=0.10439864406362176, itl=[3.4146010875701904e-05, 0.01490024896338582, 0.015140981879085302, 0.01462484896183014, 0.014853626023977995, 0.015757489018142223, 0.015215311199426651, 0.015003574080765247, 0.014595651999115944, 0.015380438882857561, 0.014931502752006054, 0.014676143415272236, 0.015462747775018215, 0.015063918195664883, 0.014785305596888065, 0.014568968210369349, 0.01478968420997262, 0.014748780988156796, 0.014715416822582483, 0.014571471139788628, 0.01465232903137803, 0.014634768944233656, 0.014579832088202238, 0.014707093592733145, 0.014559360221028328, 0.014583960175514221, 0.014701003674417734, 0.014569000340998173, 0.014728917740285397, 0.014637621119618416, 0.014665285125374794, 0.014601025730371475, 0.014721788000315428, 0.014644302893429995, 0.014646125957369804, 0.014640992972999811, 0.014590172097086906, 0.014657049905508757, 0.014655298087745905, 0.014578625094145536, 0.014696009922772646, 0.014616860076785088, 0.014627040829509497, 0.014817142393440008, 0.014689189847558737, 0.014612100087106228, 0.01471357000991702, 0.014760186895728111, 0.014600193127989769, 0.014604954980313778, 0.014645783696323633, 0.014632691163569689, 0.014672840014100075, 0.014661353081464767, 0.014638920780271292, 0.014672216027975082, 0.014667134266346693, 0.01465966273099184, 0.014628322329372168, 0.014616222586482763, 0.014628421980887651, 0.014745912048965693, 0.014619109220802784, 0.01471857214346528, 0.014661973807960749, 0.014636474195867777, 0.014597689732909203, 0.014747383072972298, 0.014635298866778612, 0.014666174072772264, 0.014622859191149473, 0.014646053779870272, 0.014692834112793207, 0.014709590002894402, 0.014670560136437416, 0.014770359732210636, 0.014721940271556377, 0.014571459963917732, 0.014700650703161955, 0.01473850104957819, 0.014614840038120747, 0.01470897626131773, 0.014651220757514238, 0.014712434262037277, 0.014984614681452513, 0.01465035229921341, 0.01474775280803442, 0.014694191049784422, 0.014699341729283333, 0.01767153339460492, 0.01776352385058999, 0.01617618277668953, 0.015255606267601252, 0.01592430705204606, 0.016839598771184683, 0.017219121102243662, 0.018583181779831648, 0.017047385219484568, 0.018985990900546312, 0.014753076247870922, 0.016345552634447813, 0.016001945361495018, 0.014706223737448454, 0.01538194203749299, 0.017042990308254957, 0.01543886074796319, 0.016598294023424387, 0.0170422550290823, 0.016562202014029026, 0.01535195717588067, 0.016983476001769304, 0.015423806849867105, 0.015983838122338057, 0.015343864914029837, 0.015861245803534985, 0.014705405104905367, 0.01469161594286561, 0.014636088162660599, 0.014696815982460976, 0.014743055682629347, 0.01462145010009408, 0.014736057259142399, 0.01468661893159151, 0.01475015701726079, 0.014650601893663406, 0.014656221959739923, 0.014673898927867413, 0.014689891133457422, 0.014781646896153688, 0.014600213151425123, 0.014672995079308748, 0.014703789725899696, 0.014708132017403841, 0.014641253277659416, 0.01469681179150939, 0.014682121109217405, 0.01468598609790206, 0.014696444850414991, 0.014666500966995955, 0.014734827913343906, 0.014638755936175585, 0.014700377359986305, 0.014716974925249815, 0.014699476771056652, 0.01462891511619091, 0.01470105815678835, 0.014649837743490934, 0.01471494697034359, 0.014558904338628054, 0.01463071582838893, 0.014687731862068176, 0.014612229075282812, 0.014697695150971413, 0.014626367948949337, 0.01465699914842844, 0.014663698617368937, 0.014647317118942738, 0.014707318972796202, 0.014747056178748608, 0.01470200577750802, 0.014698059298098087, 0.014677989762276411, 0.014661929104477167, 0.014729593880474567, 0.0146908238530159, 0.01469393726438284, 0.014679629821330309, 0.014636239968240261, 0.01469528628513217, 0.014672830700874329, 0.014761789236217737, 0.014694017823785543, 0.014632290229201317, 0.01472987188026309, 0.014651381876319647, 0.014818317256867886, 0.014630672056227922, 0.014717926736921072, 0.014664226211607456, 0.014638696797192097, 0.014781610108911991, 0.014580313116312027, 0.014706576708704233, 0.014692643191665411, 0.014715609140694141, 0.01461225189268589, 0.014653239864856005, 0.015154093969613314, 0.014608433935791254, 0.014695465099066496, 0.014697154983878136, 0.014646891970187426, 0.014667003881186247, 0.014707814436405897, 0.014673328958451748, 0.014763098675757647, 0.01474078418686986, 0.014941046014428139, 0.014750964008271694, 0.01464010076597333, 0.014761871192604303, 0.014663255773484707, 0.014758746139705181, 0.014674995094537735, 0.014666037168353796, 0.014685399830341339, 0.01466070581227541, 0.014713990967720747, 0.014688993338495493, 0.01469126297160983, 0.014666690025478601, 0.014707260765135288, 0.014663124922662973, 0.014637911226600409, 0.014666665811091661, 0.014680039137601852, 0.014710631221532822, 0.014643298927694559, 0.014678970910608768, 0.014623012859374285, 0.01476849615573883, 0.014679268933832645, 0.014830812811851501, 0.014491216279566288, 0.014681104104965925, 0.014693328645080328, 0.014756618067622185, 0.01469469117000699, 0.014717801008373499, 0.014699968043714762, 0.01471219677478075, 0.014661062974482775, 0.014744033105671406, 0.014691620133817196, 0.01467606471851468, 0.014619372319430113, 0.014779173769056797, 0.014634945895522833, 0.014698982238769531, 0.014698631130158901, 0.014608232770115137, 0.014721576124429703, 0.014659310691058636, 0.014698510989546776, 0.014683584216982126, 0.014687842223793268, 0.014644511975347996, 0.014684394933283329, 0.01474366383627057, 0.01463354006409645, 0.014708274975419044, 0.01467102812603116, 0.014723681844770908, 0.014639712870121002, 0.014668704010546207, 0.01487367507070303], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  45.00     
Total input tokens:                      262144    
Total generated tokens:                  238867    
Request throughput (req/s):              22.76     
Output token throughput (tok/s):         5308.67   
Total Token throughput (tok/s):          11134.66  
---------------Time to First Token----------------
Mean TTFT (ms):                          5405.25   
Median TTFT (ms):                        920.61    
P99 TTFT (ms):                           11947.00  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          78.75     
Median TPOT (ms):                        86.68     
P99 TPOT (ms):                           123.61    
---------------Inter-token Latency----------------
Mean ITL (ms):                           77.37     
Median ITL (ms):                         52.97     
P99 ITL (ms):                            213.09    
==================================================
