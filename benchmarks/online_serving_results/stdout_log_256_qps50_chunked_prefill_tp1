INFO 07-07 18:01:31 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=100, logprobs=None, request_rate=50.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-50-input-len-256-tp-1.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=256, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you've provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I'll try to break it down and provide some insights:\n\n**Programming languages and frameworks:**\n\n* Java (e.g., `@NoArgsConstructor`, `Parcelable`)\n* Python (e.g., `pd`, `numpy`)\n* JavaScript (e.g., `OnClickListener`, `Component`)\n* C++ (e.g., `GPIO`)\n* Kotlin (e.g., `data class`)\n\n**Domains and topics:**\n\n* Android development (e.g., `OnClickListener`, `Parcelable`)\n* Machine learning (e.g., `estimator`, ` Scientist`)\n* Web development (e.g., `Component`, `React`)\n* IoT (e.g., `GPIO`, `SENSOR_BUSY`)\n* Finance (e.g., `NYSE`, `stock`)\n* Geography (e.g., `Latitude`, `Longitude`)\n* Automotive (e.g., `Volvo`, `contador`)\n* Sports (e.g., `Omaha`, `Bowie`)\n\n**Other observations:**\n\n* There are many typos and grammatical errors throughout the text.\n* Some words and phrases appear to be in different languages, such as Spanish", success=True, latency=6.8264720239676535, output_tokens=256, ttft=0.10319349495694041, itl=[3.389501944184303e-05, 0.026242532767355442, 0.02587362425401807, 0.026045797858387232, 0.02598334290087223, 0.02606050204485655, 0.02598994690924883, 0.026065568439662457, 0.026040772907435894, 0.02614642772823572, 0.02605533692985773, 0.026074220426380634, 0.025984102860093117, 0.026041271165013313, 0.025950155686587095, 0.02617836929857731, 0.026036666706204414, 0.02613212214782834, 0.025969709735363722, 0.026096615009009838, 0.02606284897774458, 0.026188260409981012, 0.02609904669225216, 0.02610294008627534, 0.02616380713880062, 0.02640498708933592, 0.026267689652740955, 0.026182333007454872, 0.02605344308540225, 0.026114982087165117, 0.02608569199219346, 0.026192603167146444, 0.025985488668084145, 0.026190629228949547, 0.02613069210201502, 0.026240056846290827, 0.026194393169134855, 0.02604641579091549, 0.02611368102952838, 0.02617713389918208, 0.026164730079472065, 0.02614393876865506, 0.026245083194226027, 0.026162289083003998, 0.02619641274213791, 0.026198747102171183, 0.026202036067843437, 0.02622758923098445, 0.02620305586606264, 0.026178902946412563, 0.026082947850227356, 0.02614503214135766, 0.026191034819930792, 0.026215143036097288, 0.02619112515822053, 0.02616308582946658, 0.026205861009657383, 0.026174691040068865, 0.02617778116837144, 0.026242241729050875, 0.026342423167079687, 0.026277706027030945, 0.02611150313168764, 0.026172225829213858, 0.026213231962174177, 0.02626504609361291, 0.02612582314759493, 0.026311015710234642, 0.02621091902256012, 0.026194441132247448, 0.0261626448482275, 0.026251039002090693, 0.026119855232536793, 0.0261787218041718, 0.02607303997501731, 0.026219619903713465, 0.02617071708664298, 0.026197825092822313, 0.02616098616272211, 0.026151963975280523, 0.02625104784965515, 0.0262368549592793, 0.02618806902319193, 0.026209385134279728, 0.0262209577485919, 0.026237808167934418, 0.026385650970041752, 0.026391727849841118, 0.026357807219028473, 0.026384342927485704, 0.026370113249868155, 0.026340364012867212, 0.026477080769836903, 0.026449841912835836, 0.0264403922483325, 0.026400690898299217, 0.026382229756563902, 0.026349217165261507, 0.02634243993088603, 0.026460071094334126, 0.026356915943324566, 0.026414730120450258, 0.026413695886731148, 0.02639076206833124, 0.02637098217383027, 0.02651722962036729, 0.02630254626274109, 0.026435435749590397, 0.026447756215929985, 0.026432861108332872, 0.026365133002400398, 0.026434385683387518, 0.026408760342746973, 0.0263414797373116, 0.02644617622718215, 0.02636471390724182, 0.026430631056427956, 0.026489675045013428, 0.02635193383321166, 0.02644024696201086, 0.026416573207825422, 0.026355895679444075, 0.026430375408381224, 0.026419303845614195, 0.026332634035497904, 0.026586325839161873, 0.026383074931800365, 0.026491228956729174, 0.02641118410974741, 0.026428548153489828, 0.026434456929564476, 0.026376208756119013, 0.026456112042069435, 0.026402576360851526, 0.026371566578745842, 0.02641686424612999, 0.02646226016804576, 0.02648979378864169, 0.026445555966347456, 0.026442660950124264, 0.02639681100845337, 0.026430760975927114, 0.026384602300822735, 0.02642079396173358, 0.02642932068556547, 0.026404466945677996, 0.02645646221935749, 0.026480387896299362, 0.026458509266376495, 0.02649576961994171, 0.026414250023663044, 0.026376194320619106, 0.026464371010661125, 0.026426824741065502, 0.026369895320385695, 0.026491104625165462, 0.026500631123781204, 0.02643124107271433, 0.02639926318079233, 0.02644746284931898, 0.02649701200425625, 0.026454302947968245, 0.02632487192749977, 0.026542095001786947, 0.026393629144877195, 0.026501703076064587, 0.026446502655744553, 0.02644022135064006, 0.026449160650372505, 0.026513003278523684, 0.026356455869972706, 0.02647403907030821, 0.02641479903832078, 0.026565171778202057, 0.026416192296892405, 0.026482772082090378, 0.02643138077110052, 0.026531453244388103, 0.02643237868323922, 0.026491529308259487, 0.026417288929224014, 0.02647049492225051, 0.026379881892353296, 0.02649387391284108, 0.02646881202235818, 0.026501348242163658, 0.026470012962818146, 0.02640983508899808, 0.0265213786624372, 0.02644476294517517, 0.026389161124825478, 0.02651835000142455, 0.026482267305254936, 0.026436210609972477, 0.026534602977335453, 0.02647970709949732, 0.026501797139644623, 0.026475026737898588, 0.026523737236857414, 0.026528871152549982, 0.026522562839090824, 0.026782760862261057, 0.02647275198251009, 0.026496291160583496, 0.026477344799786806, 0.026466137263923883, 0.026530183851718903, 0.026526045985519886, 0.0264856880530715, 0.026593945920467377, 0.026548064313828945, 0.02649200987070799, 0.026481751818209887, 0.02665673615410924, 0.026533078867942095, 0.026586810126900673, 0.026518068742007017, 0.026594408322125673, 0.02652410976588726, 0.02661378914490342, 0.0265079359523952, 0.026676475070416927, 0.02653057686984539, 0.02656628703698516, 0.02648743288591504, 0.026603015139698982, 0.02642302494496107, 0.02653452893719077, 0.02649377891793847, 0.026504579000175, 0.026534052100032568, 0.02653756132349372, 0.026529605966061354, 0.0265726400539279, 0.02661448670551181, 0.0265383031219244, 0.02655091416090727, 0.026505298912525177, 0.026585340965539217, 0.026551576796919107, 0.026629847940057516, 0.026528320275247097, 0.02654181607067585, 0.026526474859565496, 0.026531405746936798, 0.026532862335443497, 0.02658538008108735, 0.026562926825135946, 0.026531845796853304, 0.026540975086390972, 0.02648427104577422, 0.026544399093836546, 0.026515347883105278, 0.026674632914364338, 0.02644891431555152, 0.026847263798117638], tpot=0.0, prompt_len=256, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 50.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     100       
Benchmark duration (s):                  11.47     
Total input tokens:                      25600     
Total generated tokens:                  23818     
Request throughput (req/s):              8.72      
Output token throughput (tok/s):         2077.17   
Total Token throughput (tok/s):          4309.74   
---------------Time to First Token----------------
Mean TTFT (ms):                          638.49    
Median TTFT (ms):                        678.37    
P99 TTFT (ms):                           973.56    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          37.75     
Median TPOT (ms):                        36.96     
P99 TPOT (ms):                           50.69     
---------------Inter-token Latency----------------
Mean ITL (ms):                           37.28     
Median ITL (ms):                         34.14     
P99 ITL (ms):                            209.21    
==================================================
