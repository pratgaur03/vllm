INFO 07-09 18:36:33 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-20-input-len-512-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large block of text that seems to be a jumbled collection of words, phrases, and code snippets from various programming languages and domains. I\'ll try to break it down and provide some insights.\n\n**Observations:**\n\n1. **Mixed programming languages**: The text contains code snippets and keywords from various programming languages, including Java, Python, C++, and JavaScript.\n2. **Domain-specific terminology**: There are terms and phrases related to specific domains, such as:\n\t* Finance (e.g., "UMAN_PAYMENT", "stock extractor")\n\t* Computer science (e.g., "DataLoader", "GPIO", "Parcelable")\n\t* Biology (e.g., "lipid", "protein")\n\t* Geography (e.g., "Latitude", "Longitude")\n\t* Marketing (e.g., "shaders", "marketing standings")\n3. **Code snippets and frameworks**: The text includes code snippets and references to various frameworks and libraries, such as:\n\t* Android development (e.g., "OnClickListener", "Parcelable")\n\t* Web development (e.g., "Redux", "React")\n\t* Data science (e.g., "Pandas", " NumPy")\n4. **Error messages and warnings**: There are some error messages', success=True, latency=3.651800760999322, output_tokens=256, ttft=0.10300334403291345, itl=[3.8146041333675385e-05, 0.01365998899564147, 0.013687136117368937, 0.013798301108181477, 0.013833146076649427, 0.013703620061278343, 0.013770196586847305, 0.013793426100164652, 0.014025704003870487, 0.013841879088431597, 0.0137381162494421, 0.01402993081137538, 0.013770422898232937, 0.013820854015648365, 0.013771101832389832, 0.014064065180718899, 0.013831642922013998, 0.013804028276354074, 0.013796964660286903, 0.013826769310981035, 0.013792301993817091, 0.013762486632913351, 0.014057437423616648, 0.013982840813696384, 0.013873085845261812, 0.01377818500623107, 0.01385763892903924, 0.013991301413625479, 0.013664862606674433, 0.013813963159918785, 0.013912133872509003, 0.013834642246365547, 0.013864238746464252, 0.013827470131218433, 0.013772593811154366, 0.013853509444743395, 0.013827002607285976, 0.01415967009961605, 0.01350386394187808, 0.01385608222335577, 0.01386953890323639, 0.013829071074724197, 0.013873001094907522, 0.013833590783178806, 0.013812900055199862, 0.013986341189593077, 0.013876368757337332, 0.013905373867601156, 0.013919264078140259, 0.013819610234349966, 0.01383806997910142, 0.013853944838047028, 0.013881893828511238, 0.01392278540879488, 0.013891502749174833, 0.013810447882860899, 0.013860821258276701, 0.013894030824303627, 0.013896699994802475, 0.013994444161653519, 0.013875708915293217, 0.013832863885909319, 0.013850590214133263, 0.013868171721696854, 0.013892472255975008, 0.013899183832108974, 0.013954655267298222, 0.013864278793334961, 0.013888082932680845, 0.013909084256738424, 0.01398882595822215, 0.013806981965899467, 0.013866086024791002, 0.01390664093196392, 0.014040386769920588, 0.013796893414109945, 0.013959585689008236, 0.013909562956541777, 0.013834069948643446, 0.013931410387158394, 0.013900273945182562, 0.013944299891591072, 0.013907976914197206, 0.013890927191823721, 0.01397358300164342, 0.014007169753313065, 0.013849363196641207, 0.013895696960389614, 0.013989903032779694, 0.013954929076135159, 0.013941011857241392, 0.013907189946621656, 0.013877389952540398, 0.014025101903825998, 0.013984444085508585, 0.013930694200098515, 0.013870623894035816, 0.013970276806503534, 0.013817497994750738, 0.014100263360887766, 0.013943095691502094, 0.013927576132118702, 0.014067878015339375, 0.013901751022785902, 0.01394864683970809, 0.013957762159407139, 0.013919528108090162, 0.013865076005458832, 0.014090985991060734, 0.013906369917094707, 0.013949987012892962, 0.013913272880017757, 0.013919513206928968, 0.013890627771615982, 0.013912760186940432, 0.013898002915084362, 0.01390404487028718, 0.013942590914666653, 0.013927953317761421, 0.014031359925866127, 0.013891967013478279, 0.013864742126315832, 0.013951935805380344, 0.013897045981138945, 0.014002661220729351, 0.013867946807295084, 0.013893206138163805, 0.013830793090164661, 0.013954584952443838, 0.013895540032535791, 0.01389677170664072, 0.014157901052385569, 0.013939544092863798, 0.013979802839457989, 0.013987426180392504, 0.013871336821466684, 0.01381927402690053, 0.013895878102630377, 0.0140569182112813, 0.013900155667215586, 0.013996788300573826, 0.013909388799220324, 0.013858160004019737, 0.013868201058357954, 0.013910763897001743, 0.01390019292011857, 0.013953306246548891, 0.013884666841477156, 0.013871702831238508, 0.013857065234333277, 0.013870371971279383, 0.013886779081076384, 0.013969679828733206, 0.01399438688531518, 0.01390136918053031, 0.013868574053049088, 0.01390577107667923, 0.013980118092149496, 0.01387415174394846, 0.013896027114242315, 0.014024693984538317, 0.013914444018155336, 0.013924258761107922, 0.013848735950887203, 0.013942061457782984, 0.013868959620594978, 0.013856160920113325, 0.014018811285495758, 0.013922031037509441, 0.013879948761314154, 0.0139214051887393, 0.014004028867930174, 0.013922146055847406, 0.014046150259673595, 0.013993249740451574, 0.013936186209321022, 0.013891458045691252, 0.01392256561666727, 0.013925258070230484, 0.013887401204556227, 0.013965567108243704, 0.013884072657674551, 0.01392095210030675, 0.01385494414716959, 0.013966951984912157, 0.01409390289336443, 0.013929265085607767, 0.014897194691002369, 0.01387465326115489, 0.013955058995634317, 0.013904469087719917, 0.01393802184611559, 0.013957310002297163, 0.013968191109597683, 0.013872317038476467, 0.01389488810673356, 0.014032072853296995, 0.013968487735837698, 0.013860973063856363, 0.013981403317302465, 0.013873788993805647, 0.013938420917838812, 0.013845460955053568, 0.01403133012354374, 0.013946916908025742, 0.013938963878899813, 0.01392727019265294, 0.014029863756150007, 0.013872720301151276, 0.013972254004329443, 0.014002225827425718, 0.014004403725266457, 0.013968858402222395, 0.01395248668268323, 0.013823229353874922, 0.01395047688856721, 0.013929917011409998, 0.014262612909078598, 0.013846843969076872, 0.013900441117584705, 0.013879047706723213, 0.013894152361899614, 0.013955164700746536, 0.013895791955292225, 0.013918949291110039, 0.01406161766499281, 0.013945786282420158, 0.013995807152241468, 0.013979456853121519, 0.013896957039833069, 0.013987059704959393, 0.013939940370619297, 0.013923466671258211, 0.013902095146477222, 0.013903915882110596, 0.01395797124132514, 0.013850760646164417, 0.013924878090620041, 0.013892343267798424, 0.014047518838196993, 0.0138686029240489, 0.013930055312812328, 0.01393176056444645, 0.014045523013919592, 0.013922040350735188, 0.013939334079623222, 0.013984585646539927, 0.013859631959348917, 0.013958878349512815, 0.013916549738496542, 0.013974699191749096, 0.013901612721383572, 0.013907435350120068, 0.014024193864315748, 0.013930562883615494, 0.014239220879971981], tpot=0.0, prompt_len=512, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  63.14     
Total input tokens:                      524288    
Total generated tokens:                  231568    
Request throughput (req/s):              16.22     
Output token throughput (tok/s):         3667.79   
Total Token throughput (tok/s):          11971.95  
---------------Time to First Token----------------
Mean TTFT (ms):                          298.65    
Median TTFT (ms):                        295.54    
P99 TTFT (ms):                           593.87    
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          82.12     
Median TPOT (ms):                        92.07     
P99 TPOT (ms):                           103.70    
---------------Inter-token Latency----------------
Mean ITL (ms):                           81.22     
Median ITL (ms):                         91.47     
P99 ITL (ms):                            199.44    
==================================================
