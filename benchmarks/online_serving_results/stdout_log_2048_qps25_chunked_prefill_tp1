INFO 07-08 07:47:02 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=25.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='chunked_prefill-qps-25-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text='It appears that you\'ve provided a large amount of text that seems to be a mix of programming code, technical terms, and random words. I\'ll do my best to help you make sense of it.\n\n**Code Analysis**\n\nThe text appears to contain snippets of code in various programming languages, including:\n\n1. Java: I see Java-like syntax and keywords, such as `public class`, `extends`, `implements`, and `@Override`.\n2. Python: There are Python-like syntax and keywords, such as `def`, `class`, and `import`.\n3. C++: I see C++-like syntax and keywords, such as `#include`, `class`, and `template`.\n4. JavaScript: There are JavaScript-like syntax and keywords, such as `function`, `var`, and `console.log`.\n\n**Technical Terms**\n\nThe text contains various technical terms, including:\n\n1. Programming concepts: I see terms like "inheritance", "polymorphism", "encapsulation", and "abstraction".\n2. Data structures: There are mentions of data structures like "arrays", "lists", "stacks", and "queues".\n3. Algorithms: I see references to algorithms like "sorting", "searching", and "graph traversal".\n4.', success=True, latency=4.1539304866455495, output_tokens=256, ttft=0.3021738547831774, itl=[0.0030190423130989075, 0.014848334714770317, 0.014817741233855486, 0.014880567789077759, 0.015160588081926107, 0.014901219867169857, 0.01526151318103075, 0.014922311995178461, 0.015210427809506655, 0.014896777924150229, 0.014948781114071608, 0.014927614014595747, 0.01493922807276249, 0.015220739878714085, 0.014893914107233286, 0.015015601180493832, 0.01491518598049879, 0.014902415685355663, 0.014980575069785118, 0.014912187121808529, 0.01491051772609353, 0.015030800364911556, 0.0148182506673038, 0.015092974063009024, 0.014924624934792519, 0.014957393985241652, 0.014971598982810974, 0.014963614288717508, 0.015023755840957165, 0.014963509049266577, 0.015277375001460314, 0.014985647052526474, 0.014955357182770967, 0.01530154561623931, 0.014993416145443916, 0.015007565263658762, 0.014945813920348883, 0.0153456199914217, 0.015000716783106327, 0.015246447175741196, 0.01498404797166586, 0.015366566833108664, 0.014916967134922743, 0.015527719166129827, 0.014813789632171392, 0.015024849213659763, 0.01506646117195487, 0.014960592612624168, 0.015040700323879719, 0.01508950162678957, 0.015341738238930702, 0.014990461058914661, 0.01505659008398652, 0.014944709837436676, 0.01504459185525775, 0.01507515599951148, 0.015039236284792423, 0.015068025793880224, 0.015362035017460585, 0.015071175061166286, 0.015036394819617271, 0.015018568374216557, 0.015354289673268795, 0.01504145935177803, 0.015008384827524424, 0.015047859866172075, 0.015016790945082903, 0.015063729137182236, 0.015100352931767702, 0.014977794140577316, 0.015069182962179184, 0.01500613708049059, 0.01532443892210722, 0.015089574735611677, 0.015036223456263542, 0.01534909289330244, 0.014982843771576881, 0.015388140920549631, 0.015382789075374603, 0.015337948221713305, 0.014993031974881887, 0.015182459726929665, 0.015060169156640768, 0.015129501931369305, 0.015029608272016048, 0.015098484698683023, 0.015014583244919777, 0.015035184100270271, 0.01508264197036624, 0.015022440813481808, 0.015065705869346857, 0.015065876301378012, 0.015136250760406256, 0.01509327907115221, 0.015063514932990074, 0.014966219197958708, 0.01501942565664649, 0.015086358413100243, 0.015070075634866953, 0.015050712041556835, 0.015025123953819275, 0.015016485936939716, 0.015021821018308401, 0.01509729539975524, 0.015042906627058983, 0.015020780265331268, 0.01502294884994626, 0.015083686914294958, 0.015377456322312355, 0.015097011812031269, 0.015238910913467407, 0.015099551994353533, 0.015022952109575272, 0.015095402020961046, 0.015163944102823734, 0.014919904991984367, 0.015108075924217701, 0.014992416836321354, 0.015098460018634796, 0.015067991334944963, 0.015048075001686811, 0.01506282389163971, 0.015054978895932436, 0.015388248022645712, 0.015069547109305859, 0.015057568904012442, 0.015094137750566006, 0.015249080024659634, 0.015053465962409973, 0.015009721275418997, 0.01542980084195733, 0.015074335038661957, 0.01509588211774826, 0.015068978071212769, 0.015221190638840199, 0.015152042265981436, 0.015086174011230469, 0.015107449144124985, 0.015054228715598583, 0.01521972008049488, 0.015013297088444233, 0.015124898869544268, 0.015388746280223131, 0.015333551913499832, 0.01507040485739708, 0.015106720849871635, 0.015063158236443996, 0.01503382995724678, 0.015076742973178625, 0.015138119924813509, 0.015087921172380447, 0.015114398673176765, 0.015075571369379759, 0.015051896683871746, 0.015090267173945904, 0.015047810040414333, 0.015423669014126062, 0.015301268082112074, 0.01506633497774601, 0.01508646085858345, 0.015150532126426697, 0.015091653913259506, 0.015405551996082067, 0.015094000846147537, 0.015115084126591682, 0.015420332085341215, 0.015449199825525284, 0.015056923031806946, 0.015043593011796474, 0.015371863264590502, 0.015186271630227566, 0.015117897186428308, 0.015090040862560272, 0.015083647333085537, 0.015118305571377277, 0.015120404306799173, 0.015080634038895369, 0.015078574884682894, 0.015020226128399372, 0.015064919833093882, 0.015089264139533043, 0.015085644088685513, 0.015069090761244297, 0.015128979925066233, 0.01509994687512517, 0.015010154340416193, 0.015124191995710135, 0.015135584864765406, 0.015054235234856606, 0.015122564975172281, 0.015100542921572924, 0.015103264711797237, 0.015034575946629047, 0.015054526273161173, 0.015031329821795225, 0.015040775295346975, 0.015113689005374908, 0.015075186733156443, 0.01507509732618928, 0.015049722976982594, 0.015078729018568993, 0.015154127962887287, 0.015045978594571352, 0.015094839036464691, 0.015129581093788147, 0.015096229035407305, 0.015069338027387857, 0.015160543844103813, 0.015072481241077185, 0.015093544032424688, 0.015063588973134756, 0.015116957947611809, 0.015036702156066895, 0.015064104925841093, 0.015115468762814999, 0.015102471224963665, 0.015091115143150091, 0.01508284779265523, 0.015079597942531109, 0.015108132269233465, 0.015211125835776329, 0.014912571758031845, 0.01525868708267808, 0.015074230264872313, 0.015099304728209972, 0.015358465258032084, 0.014926034025847912, 0.015096903778612614, 0.015094623900949955, 0.015081143006682396, 0.015153787098824978, 0.015106081031262875, 0.015102568082511425, 0.015106891747564077, 0.01511444803327322, 0.015062522143125534, 0.015081353019922972, 0.015148214995861053, 0.015017376746982336, 0.01506793312728405, 0.015129541978240013, 0.015040097292512655, 0.015106519684195518, 0.015042147133499384, 0.01512951822951436, 0.01506497198715806, 0.015083014965057373, 0.01514667272567749, 0.015076048206537962, 0.0151129518635571, 0.015084691811352968, 0.01510133408010006, 0.015076386276632547, 0.015123305842280388, 0.015115689020603895, 0.015745488926768303], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 25.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  157.98    
Total input tokens:                      2097152   
Total generated tokens:                  229453    
Request throughput (req/s):              6.48      
Output token throughput (tok/s):         1452.43   
Total Token throughput (tok/s):          14727.33  
---------------Time to First Token----------------
Mean TTFT (ms):                          51424.66  
Median TTFT (ms):                        51254.15  
P99 TTFT (ms):                           103944.84 
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          215.40    
Median TPOT (ms):                        253.98    
P99 TPOT (ms):                           267.00    
---------------Inter-token Latency----------------
Mean ITL (ms):                           210.34    
Median ITL (ms):                         244.35    
P99 ITL (ms):                            292.24    
==================================================
