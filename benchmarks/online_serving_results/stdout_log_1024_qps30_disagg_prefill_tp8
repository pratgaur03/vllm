INFO 07-10 02:23:04 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-30-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=4.703383371699601, output_tokens=256, ttft=4.701867393683642, itl=[4.698801785707474e-05, 2.6484951376914978e-05, 8.95792618393898e-06, 6.270129233598709e-06, 5.154870450496674e-06, 5.7960860431194305e-06, 5.255918949842453e-06, 5.122274160385132e-06, 5.09386882185936e-06, 5.119014531373978e-06, 4.7888606786727905e-06, 4.973262548446655e-06, 4.971865564584732e-06, 4.658009856939316e-06, 4.707835614681244e-06, 4.998408257961273e-06, 5.0747767090797424e-06, 5.094800144433975e-06, 4.8032961785793304e-06, 4.7548674046993256e-06, 5.27920201420784e-06, 5.50365075469017e-06, 5.0193630158901215e-06, 4.872679710388184e-06, 4.736240953207016e-06, 5.135778337717056e-06, 4.777219146490097e-06, 4.731118679046631e-06, 4.956033080816269e-06, 4.8857182264328e-06, 5.579087883234024e-06, 5.296897143125534e-06, 4.864297807216644e-06, 5.3998082876205444e-06, 4.653818905353546e-06, 4.641246050596237e-06, 4.870817065238953e-06, 4.751142114400864e-06, 4.7460198402404785e-06, 7.958151400089264e-06, 4.75393608212471e-06, 5.9907324612140656e-06, 4.90015372633934e-06, 4.8121437430381775e-06, 4.719942808151245e-06, 4.81167808175087e-06, 4.8032961785793304e-06, 4.759989678859711e-06, 5.009118467569351e-06, 4.721805453300476e-06, 5.378853529691696e-06, 4.794914275407791e-06, 4.86522912979126e-06, 5.30388206243515e-06, 4.75393608212471e-06, 4.899222403764725e-06, 4.785135388374329e-06, 4.767905920743942e-06, 5.1138922572135925e-06, 4.981178790330887e-06, 4.871748387813568e-06, 4.610046744346619e-06, 4.670117050409317e-06, 5.187932401895523e-06, 4.835892468690872e-06, 5.544163286685944e-06, 4.7460198402404785e-06, 4.943925887346268e-06, 4.775822162628174e-06, 4.658941179513931e-06, 5.149282515048981e-06, 4.738103598356247e-06, 4.74369153380394e-06, 4.62215393781662e-06, 4.877801984548569e-06, 4.736240953207016e-06, 4.559755325317383e-06, 6.0121528804302216e-06, 4.649162292480469e-06, 5.574896931648254e-06, 5.370005965232849e-06, 4.773959517478943e-06, 4.69014048576355e-06, 5.22984191775322e-06, 4.651956260204315e-06, 5.34718856215477e-06, 5.301088094711304e-06, 4.805624485015869e-06, 4.7283247113227844e-06, 5.1818788051605225e-06, 4.733912646770477e-06, 4.707835614681244e-06, 4.913192242383957e-06, 5.884096026420593e-06, 5.020759999752045e-06, 4.765111953020096e-06, 5.140900611877441e-06, 4.86103817820549e-06, 4.710163921117783e-06, 4.854053258895874e-06, 5.057081580162048e-06, 4.834029823541641e-06, 5.403999239206314e-06, 4.868954420089722e-06, 4.8638321459293365e-06, 5.150213837623596e-06, 5.070585757493973e-06, 4.83635812997818e-06, 4.750676453113556e-06, 6.4391642808914185e-06, 4.7711655497550964e-06, 5.178619176149368e-06, 4.890374839305878e-06, 4.576053470373154e-06, 4.654750227928162e-06, 5.100853741168976e-06, 4.646368324756622e-06, 5.356967449188232e-06, 5.100853741168976e-06, 6.016809493303299e-06, 5.156267434358597e-06, 4.854053258895874e-06, 4.698056727647781e-06, 4.8247165977954865e-06, 5.878973752260208e-06, 4.901085048913956e-06, 4.773028194904327e-06, 4.923902451992035e-06, 4.872214049100876e-06, 6.8177469074726105e-06, 4.805158823728561e-06, 4.723202437162399e-06, 5.13298436999321e-06, 5.08967787027359e-06, 5.071982741355896e-06, 4.7441571950912476e-06, 4.9960799515247345e-06, 0.0001406627707183361, 1.0455027222633362e-05, 6.6892243921756744e-06, 5.261041224002838e-06, 5.1497481763362885e-06, 5.782116204500198e-06, 5.334150046110153e-06, 4.619825631380081e-06, 4.7888606786727905e-06, 5.4300762712955475e-06, 5.1120296120643616e-06, 4.602130502462387e-06, 6.0247257351875305e-06, 5.10411337018013e-06, 4.72506508231163e-06, 5.4622069001197815e-06, 4.956964403390884e-06, 4.836823791265488e-06, 4.86103817820549e-06, 5.677808076143265e-06, 5.112960934638977e-06, 5.150213837623596e-06, 4.916917532682419e-06, 4.652887582778931e-06, 4.798173904418945e-06, 5.784910172224045e-06, 4.752073436975479e-06, 4.643108695745468e-06, 4.706904292106628e-06, 5.227047950029373e-06, 5.119014531373978e-06, 4.759989678859711e-06, 4.841946065425873e-06, 4.468020051717758e-06, 4.776753485202789e-06, 5.374196916818619e-06, 6.441026926040649e-06, 4.899222403764725e-06, 4.8959627747535706e-06, 4.579778760671616e-06, 4.680827260017395e-06, 4.656147211790085e-06, 5.411915481090546e-06, 4.886183887720108e-06, 4.941131919622421e-06, 4.825647920370102e-06, 4.6710483729839325e-06, 4.7762878239154816e-06, 5.760695785284042e-06, 6.2389299273490906e-06, 6.7623332142829895e-06, 6.6640786826610565e-06, 5.1818788051605225e-06, 4.905741661787033e-06, 4.899222403764725e-06, 4.893168807029724e-06, 4.760921001434326e-06, 4.7460198402404785e-06, 5.677808076143265e-06, 4.956033080816269e-06, 4.698056727647781e-06, 5.6121498346328735e-06, 4.7567300498485565e-06, 4.684086889028549e-06, 6.215181201696396e-06, 5.3746625781059265e-06, 5.302019417285919e-06, 5.9371814131736755e-06, 4.759989678859711e-06, 4.651956260204315e-06, 5.749054253101349e-06, 4.708766937255859e-06, 4.795379936695099e-06, 4.592817276716232e-06, 5.4729171097278595e-06, 4.825182259082794e-06, 4.908069968223572e-06, 4.903879016637802e-06, 5.342066287994385e-06, 4.742760211229324e-06, 4.6510249376297e-06, 5.7532452046871185e-06, 4.861969500780106e-06, 5.0747767090797424e-06, 4.840083420276642e-06, 4.687812179327011e-06, 4.986301064491272e-06, 4.888046532869339e-06, 5.532987415790558e-06, 4.752073436975479e-06, 6.046611815690994e-06, 5.017966032028198e-06, 5.292240530252457e-06, 5.0389207899570465e-06, 4.807021468877792e-06, 4.741828888654709e-06, 7.583294063806534e-06, 4.942994564771652e-06, 4.7390349209308624e-06, 4.759989678859711e-06, 4.761852324008942e-06, 4.643108695745468e-06, 4.685018211603165e-06, 4.8549845814704895e-06, 4.67570498585701e-06, 5.893409252166748e-06, 5.217734724283218e-06, 4.811212420463562e-06, 6.162095814943314e-06, 4.771631211042404e-06, 4.711095243692398e-06, 5.544163286685944e-06, 4.709698259830475e-06, 5.360227078199387e-06, 5.330890417098999e-06, 4.766974598169327e-06, 4.799105226993561e-06, 4.732050001621246e-06, 7.817056030035019e-06], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  88.31     
Total input tokens:                      1048576   
Total generated tokens:                  57449     
Request throughput (req/s):              11.60     
Output token throughput (tok/s):         650.55    
Total Token throughput (tok/s):          12524.62  
---------------Time to First Token----------------
Mean TTFT (ms):                          26026.18  
Median TTFT (ms):                        0.00      
P99 TTFT (ms):                           78815.05  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.01      
Median TPOT (ms):                        0.01      
P99 TPOT (ms):                           0.01      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.00      
P99 ITL (ms):                            0.01      
==================================================
