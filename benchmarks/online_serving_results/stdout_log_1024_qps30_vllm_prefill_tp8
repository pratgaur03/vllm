INFO 07-10 04:29:42 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=30.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='vllm_prefill-qps-30-input-len-1024-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=1024, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages and warnings scattered throughout the text. These messages may indicate issues with code compilation, runtime errors, or other problems.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Formatting issues**: The text has formatting issues, with inconsistent indentation, line breaks, and character encoding.\n\nTo better assist you, could you please provide more context about this text? For example:\n\n* What is the source of this text?\n* What programming languages or technologies are involved?\n* What is the purpose of this text (e.g., debugging, documentation, or something else)?\n* Are there any specific issues", success=True, latency=3.921832473948598, output_tokens=256, ttft=0.24093651305884123, itl=[3.8679223507642746e-05, 0.014665897935628891, 0.014318699017167091, 0.01474269200116396, 0.01422111690044403, 0.014357454143464565, 0.014407723676413298, 0.0143455620855093, 0.014399648178368807, 0.014423852786421776, 0.014298995956778526, 0.014335975050926208, 0.014532719273120165, 0.014319236855953932, 0.014399001840502024, 0.014368248172104359, 0.014496597927063704, 0.01422906294465065, 0.01455850014463067, 0.014453169889748096, 0.014340742956846952, 0.014481565915048122, 0.014563621021807194, 0.014305493328720331, 0.014462519902735949, 0.014365039765834808, 0.014460853300988674, 0.014315449632704258, 0.01445659901946783, 0.014567685313522816, 0.014214251656085253, 0.014438341371715069, 0.014351478777825832, 0.014592865947633982, 0.014300725888460875, 0.014480268117040396, 0.014640816021710634, 0.014222151134163141, 0.014306569937616587, 0.014404389075934887, 0.014389135874807835, 0.01442198920994997, 0.01432877779006958, 0.014533984009176493, 0.014312935061752796, 0.014461088925600052, 0.014315469190478325, 0.01443941704928875, 0.014328181743621826, 0.014365532901138067, 0.014442898333072662, 0.014428450725972652, 0.014416240155696869, 0.014324004761874676, 0.014526419341564178, 0.014379705768078566, 0.014272077940404415, 0.014520913362503052, 0.01463885698467493, 0.014466727618128061, 0.014379298314452171, 0.014365626964718103, 0.014384898822754622, 0.014355894178152084, 0.01464227493852377, 0.014575670007616282, 0.014337859116494656, 0.014421781059354544, 0.014439945574849844, 0.014372126199305058, 0.01440418092533946, 0.014571622014045715, 0.014317349065095186, 0.014366134069859982, 0.014380267821252346, 0.01427981210872531, 0.014371758792549372, 0.014416830148547888, 0.014651910867542028, 0.014446173328906298, 0.014313599094748497, 0.014446438755840063, 0.014425413217395544, 0.01470791082829237, 0.014405335765331984, 0.01441138330847025, 0.01432732678949833, 0.014428077265620232, 0.014334363862872124, 0.014553236775100231, 0.01435234909877181, 0.014367668889462948, 0.014479950070381165, 0.014353164006024599, 0.014487016946077347, 0.014368560165166855, 0.014444524887949228, 0.014326130971312523, 0.014421198051422834, 0.014415051322430372, 0.014331582933664322, 0.014370382763445377, 0.014375055208802223, 0.014370874967426062, 0.014362449757754803, 0.01437558839097619, 0.014483673963695765, 0.014349855948239565, 0.014669343829154968, 0.01465152483433485, 0.014309056103229523, 0.014380814041942358, 0.01449213596060872, 0.014466976281255484, 0.014373411890119314, 0.014507765881717205, 0.014276011846959591, 0.01433746237307787, 0.014301612973213196, 0.014653872698545456, 0.014542610384523869, 0.014378775842487812, 0.014407217968255281, 0.014372655190527439, 0.01434099581092596, 0.014635724015533924, 0.014314936008304358, 0.014703026972711086, 0.014589793980121613, 0.014329638797789812, 0.014386401977390051, 0.014314379077404737, 0.014318906236439943, 0.014312084764242172, 0.014461073093116283, 0.014643046073615551, 0.014340009074658155, 0.014445094857364893, 0.014400233048945665, 0.014337942004203796, 0.014669428113847971, 0.014335273765027523, 0.014425622299313545, 0.01439060177654028, 0.014405604917556047, 0.01437600003555417, 0.014352163299918175, 0.01432778686285019, 0.014441740699112415, 0.014412409160286188, 0.01442051911726594, 0.014615514781326056, 0.01439790427684784, 0.01441856287419796, 0.014345561154186726, 0.014466332737356424, 0.014609788078814745, 0.014452342875301838, 0.014477656222879887, 0.014398925937712193, 0.014359885826706886, 0.01439674198627472, 0.014421114232391119, 0.014523308724164963, 0.014590608421713114, 0.014486092608422041, 0.014504377264529467, 0.014674473088234663, 0.014626799616962671, 0.014210916124284267, 0.014390077907592058, 0.014451658353209496, 0.014467563945800066, 0.01461566612124443, 0.014415566809475422, 0.014608331024646759, 0.014238500967621803, 0.01446488918736577, 0.014683978632092476, 0.014438497368246317, 0.014660914894193411, 0.014446503948420286, 0.014433762058615685, 0.014429725706577301, 0.014353170990943909, 0.01434636814519763, 0.01436062715947628, 0.01432513678446412, 0.014426655136048794, 0.0146678751334548, 0.014364023692905903, 0.014357434120029211, 0.014532213099300861, 0.014676117803901434, 0.014460550155490637, 0.01464936789125204, 0.014429401140660048, 0.014404968824237585, 0.014352077152580023, 0.014387837145477533, 0.014450743794441223, 0.014336804859340191, 0.014379370026290417, 0.014714894350618124, 0.014353883918374777, 0.014455138705670834, 0.014355401042848825, 0.014368942007422447, 0.014397606253623962, 0.014490782748907804, 0.014438369311392307, 0.01439125556498766, 0.014366874005645514, 0.014453084208071232, 0.01442250283434987, 0.01434490131214261, 0.01442048279568553, 0.014704939909279346, 0.014383004978299141, 0.014389097224920988, 0.014421353116631508, 0.014573751017451286, 0.014398326631635427, 0.014403264038264751, 0.01442901510745287, 0.01445036381483078, 0.014553526416420937, 0.014444642700254917, 0.014576652087271214, 0.014186564832925797, 0.01436561718583107, 0.014493233989924192, 0.014409482013434172, 0.014390082098543644, 0.014506675768643618, 0.01441339310258627, 0.014425580855458975, 0.014436456374824047, 0.014479721896350384, 0.014402200002223253, 0.014510721899569035, 0.014315254986286163, 0.014397498220205307, 0.014657351654022932, 0.014355183113366365, 0.014561360236257315, 0.014332163613289595, 0.014691489282995462, 0.01440693810582161, 0.014328589662909508, 0.014389329124242067, 0.01437672320753336, 0.01453449483960867, 0.014660664834082127, 0.014543309342116117, 0.014711595606058836], tpot=0.0, prompt_len=1024, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 30.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     1024      
Benchmark duration (s):                  80.62     
Total input tokens:                      1048576   
Total generated tokens:                  225600    
Request throughput (req/s):              12.70     
Output token throughput (tok/s):         2798.46   
Total Token throughput (tok/s):          15805.53  
---------------Time to First Token----------------
Mean TTFT (ms):                          15558.60  
Median TTFT (ms):                        8172.58   
P99 TTFT (ms):                           32268.54  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          151.39    
Median TPOT (ms):                        134.85    
P99 TPOT (ms):                           424.53    
---------------Inter-token Latency----------------
Mean ITL (ms):                           131.36    
Median ITL (ms):                         53.66     
P99 ITL (ms):                            510.45    
==================================================
