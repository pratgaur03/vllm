INFO 07-10 03:33:03 [__init__.py:239] Automatically detected platform rocm.
Namespace(backend='openai-chat', base_url=None, host='localhost', port=8080, endpoint='/v1/chat/completions', dataset_name='random', dataset_path=None, max_concurrency=None, model='/workspace/llama_3.1_70B', tokenizer=None, use_beam_search=False, num_prompts=1024, logprobs=None, request_rate=20.0, burstiness=1.0, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=True, save_detailed=False, metadata=None, result_dir='./results', result_filename='disagg_prefill-qps-20-input-len-2048-tp-8.json', ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=2048, random_output_len=256, random_range_ratio=1.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None)
Starting initial single prompt test run...
=== DEBUG: Entering benchmark() ===
DEBUG: backend         = openai-chat
DEBUG: api_url         = 'http://localhost:8080/v1/chat/completions'
DEBUG: model_id        = '/workspace/llama_3.1_70B'
DEBUG: model_name      = None
DEBUG: request_func    = async_request_openai_chat_completions
Starting initial single prompt test run...
test_output RequestFuncOutput(generated_text="It appears that you have provided a large amount of text that seems to be a mix of code snippets, error messages, and random text. It's difficult to make sense of this text without more context.\n\nHowever, I can try to help you identify some patterns or potential issues in the text. Here are a few observations:\n\n1. **Code snippets**: The text contains snippets of code in various programming languages, including Java, Python, and JavaScript. These snippets appear to be incomplete and may be related to different projects or applications.\n2. **Error messages**: There are several error messages scattered throughout the text, including stack traces and error codes. These messages may indicate issues with the code or applications that generated them.\n3. **Random text**: The text also contains random words, phrases, and characters that don't seem to be related to any specific topic or context.\n4. **Non-ASCII characters**: The text includes non-ASCII characters, such as Chinese characters, which may indicate that the text was generated by a non-English speaking user or application.\n\nTo better understand the context and purpose of this text, I would need more information about where it came from and what it's supposed to represent. If you can provide more context or clarify what you're trying to achieve", success=True, latency=4.883398698177189, output_tokens=256, ttft=4.882046047132462, itl=[5.015172064304352e-05, 1.7006415873765945e-05, 9.736977517604828e-06, 6.550922989845276e-06, 5.559995770454407e-06, 6.05778768658638e-06, 5.140900611877441e-06, 5.083158612251282e-06, 4.88990917801857e-06, 4.986301064491272e-06, 4.74369153380394e-06, 4.8852525651454926e-06, 4.9229711294174194e-06, 4.987698048353195e-06, 4.670117050409317e-06, 4.8442743718624115e-06, 4.7497451305389404e-06, 5.0622038543224335e-06, 4.737637937068939e-06, 4.706438630819321e-06, 4.9299560487270355e-06, 5.5837444961071014e-06, 5.03193587064743e-06, 5.227979272603989e-06, 4.926230758428574e-06, 5.3998082876205444e-06, 4.9122609198093414e-06, 4.807952791452408e-06, 5.10411337018013e-06, 4.847999662160873e-06, 5.471985787153244e-06, 5.177687853574753e-06, 4.976056516170502e-06, 5.329027771949768e-06, 4.716217517852783e-06, 4.689674824476242e-06, 4.6691857278347015e-06, 4.944857209920883e-06, 4.8531219363212585e-06, 4.904810339212418e-06, 4.813075065612793e-06, 6.3050538301467896e-06, 4.99701127409935e-06, 4.7800131142139435e-06, 4.906207323074341e-06, 4.849862307310104e-06, 4.724133759737015e-06, 4.682689905166626e-06, 4.7711655497550964e-06, 4.731118679046631e-06, 5.0156377255916595e-06, 4.843343049287796e-06, 4.6570785343647e-06, 5.450565367937088e-06, 5.0300732254981995e-06, 7.86222517490387e-06, 7.2838738560676575e-06, 4.834029823541641e-06, 5.092006176710129e-06, 4.82611358165741e-06, 4.626810550689697e-06, 4.719942808151245e-06, 4.539266228675842e-06, 5.288049578666687e-06, 4.6817585825920105e-06, 5.542300641536713e-06, 4.63658943772316e-06, 4.79305163025856e-06, 4.723202437162399e-06, 4.692003130912781e-06, 5.112960934638977e-06, 4.671979695558548e-06, 4.6477653086185455e-06, 4.588160663843155e-06, 4.7138892114162445e-06, 4.722271114587784e-06, 4.598870873451233e-06, 5.274079740047455e-06, 5.234964191913605e-06, 5.815178155899048e-06, 5.0817616283893585e-06, 4.868954420089722e-06, 4.715286195278168e-06, 5.1390379667282104e-06, 4.641711711883545e-06, 4.673842340707779e-06, 5.17209991812706e-06, 4.674308001995087e-06, 4.697591066360474e-06, 5.491077899932861e-06, 4.749279469251633e-06, 5.153007805347443e-06, 4.744622856378555e-06, 5.370005965232849e-06, 5.154404789209366e-06, 4.67570498585701e-06, 6.930902600288391e-06, 4.7390349209308624e-06, 4.7120265662670135e-06, 4.697125405073166e-06, 5.311798304319382e-06, 4.821456968784332e-06, 4.944857209920883e-06, 4.7888606786727905e-06, 4.624947905540466e-06, 5.010981112718582e-06, 5.084089934825897e-06, 4.69619408249855e-06, 4.7157518565654755e-06, 7.13299959897995e-06, 5.20097091794014e-06, 5.37605956196785e-06, 4.829838871955872e-06, 4.809349775314331e-06, 4.58303838968277e-06, 4.496891051530838e-06, 4.779081791639328e-06, 5.567912012338638e-06, 5.269888788461685e-06, 5.529262125492096e-06, 4.771631211042404e-06, 5.085021257400513e-06, 4.8442743718624115e-06, 4.8638321459293365e-06, 5.098059773445129e-06, 4.825182259082794e-06, 4.902016371488571e-06, 5.077570676803589e-06, 4.90015372633934e-06, 6.317161023616791e-06, 5.538109689950943e-06, 4.687812179327011e-06, 4.637986421585083e-06, 4.8871152102947235e-06, 4.784669727087021e-06, 5.196314305067062e-06, 4.635658115148544e-06, 4.62215393781662e-06, 4.583969712257385e-06, 5.377922207117081e-06, 5.600973963737488e-06, 4.740431904792786e-06, 5.510635673999786e-06, 5.206093192100525e-06, 4.759989678859711e-06, 4.819128662347794e-06, 4.674773663282394e-06, 4.789326339960098e-06, 4.6817585825920105e-06, 6.365124136209488e-06, 4.719942808151245e-06, 4.633795469999313e-06, 5.3620897233486176e-06, 4.756264388561249e-06, 4.67570498585701e-06, 5.1143579185009e-06, 4.744622856378555e-06, 5.399342626333237e-06, 4.5816414058208466e-06, 4.716217517852783e-06, 5.8659352362155914e-06, 5.186069756746292e-06, 4.523899406194687e-06, 4.6389177441596985e-06, 5.525071173906326e-06, 4.835892468690872e-06, 4.609115421772003e-06, 5.512963980436325e-06, 4.746951162815094e-06, 4.714354872703552e-06, 4.687812179327011e-06, 4.750210791826248e-06, 4.631932824850082e-06, 6.147660315036774e-06, 4.949048161506653e-06, 4.714354872703552e-06, 4.692934453487396e-06, 4.841014742851257e-06, 4.544854164123535e-06, 4.724133759737015e-06, 5.275942385196686e-06, 5.032867193222046e-06, 4.723202437162399e-06, 4.783738404512405e-06, 4.6459026634693146e-06, 5.198176950216293e-06, 4.6300701797008514e-06, 4.711095243692398e-06, 4.668720066547394e-06, 4.676170647144318e-06, 4.6137720346450806e-06, 4.684086889028549e-06, 4.557892680168152e-06, 4.954170435667038e-06, 4.989095032215118e-06, 4.871748387813568e-06, 4.647299647331238e-06, 4.705972969532013e-06, 5.283858627080917e-06, 4.9122609198093414e-06, 4.505738615989685e-06, 7.066875696182251e-06, 4.676170647144318e-06, 5.38211315870285e-06, 5.10411337018013e-06, 4.644971340894699e-06, 4.7907233238220215e-06, 4.719942808151245e-06, 5.282927304506302e-06, 4.6622008085250854e-06, 5.186069756746292e-06, 4.765111953020096e-06, 5.713663995265961e-06, 4.915054887533188e-06, 4.676170647144318e-06, 4.7497451305389404e-06, 5.443114787340164e-06, 4.799105226993561e-06, 5.89294359087944e-06, 4.834961146116257e-06, 4.837289452552795e-06, 4.892703145742416e-06, 4.7120265662670135e-06, 4.683155566453934e-06, 4.64683398604393e-06, 4.886183887720108e-06, 5.771871656179428e-06, 4.7031790018081665e-06, 4.659872502088547e-06, 5.31412661075592e-06, 5.107838660478592e-06, 4.825182259082794e-06, 4.653818905353546e-06, 6.561167538166046e-06, 5.418900400400162e-06, 4.702713340520859e-06, 4.579313099384308e-06, 4.79305163025856e-06, 4.736706614494324e-06, 4.665926098823547e-06, 4.685018211603165e-06, 5.6694261729717255e-06, 4.9085356295108795e-06, 4.704110324382782e-06, 5.341134965419769e-06, 4.875939339399338e-06, 4.829838871955872e-06, 5.553010851144791e-06, 4.759058356285095e-06, 4.7050416469573975e-06, 5.163252353668213e-06, 4.7138892114162445e-06, 4.6691857278347015e-06, 5.854759365320206e-06, 4.697125405073166e-06, 6.413087248802185e-06], tpot=0.0, prompt_len=2048, error='')
Initial test run completed. Starting main benchmark run...
Traffic request rate: 20.0
Burstiness factor: 1.0 (Poisson process)
Maximum request concurrency: None
============ Serving Benchmark Result ============
Successful requests:                     802       
Benchmark duration (s):                  67.51     
Total input tokens:                      1642496   
Total generated tokens:                  0         
Request throughput (req/s):              11.88     
Output token throughput (tok/s):         0.00      
Total Token throughput (tok/s):          24328.90  
---------------Time to First Token----------------
Mean TTFT (ms):                          15178.55  
Median TTFT (ms):                        0.00      
P99 TTFT (ms):                           66874.36  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          0.00      
Median TPOT (ms):                        0.00      
P99 TPOT (ms):                           0.00      
---------------Inter-token Latency----------------
Mean ITL (ms):                           0.01      
Median ITL (ms):                         0.01      
P99 ITL (ms):                            0.02      
==================================================
